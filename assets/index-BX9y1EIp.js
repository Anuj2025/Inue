(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function zy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var md={exports:{}},ba={},gd={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function AE(){if(ug)return ke;ug=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=I&&F[I]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function D(F,Y,pe){this.props=F,this.context=Y,this.refs=U,this.updater=pe||b}D.prototype.isReactComponent={},D.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function q(){}q.prototype=D.prototype;function H(F,Y,pe){this.props=F,this.context=Y,this.refs=U,this.updater=pe||b}var G=H.prototype=new q;G.constructor=H,V(G,D.prototype),G.isPureReactComponent=!0;var te=Array.isArray,de=Object.prototype.hasOwnProperty,fe={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function T(F,Y,pe){var Re,Ce={},be=null,Ue=null;if(Y!=null)for(Re in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)de.call(Y,Re)&&!A.hasOwnProperty(Re)&&(Ce[Re]=Y[Re]);var je=arguments.length-2;if(je===1)Ce.children=pe;else if(1<je){for(var We=Array(je),wt=0;wt<je;wt++)We[wt]=arguments[wt+2];Ce.children=We}if(F&&F.defaultProps)for(Re in je=F.defaultProps,je)Ce[Re]===void 0&&(Ce[Re]=je[Re]);return{$$typeof:r,type:F,key:be,ref:Ue,props:Ce,_owner:fe.current}}function R(F,Y){return{$$typeof:r,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function O(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return Y[pe]})}var M=/\/+/g;function k(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):Y.toString(36)}function Je(F,Y,pe,Re,Ce){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(be){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case r:case e:Ue=!0}}if(Ue)return Ue=F,Ce=Ce(Ue),F=Re===""?"."+k(Ue,0):Re,te(Ce)?(pe="",F!=null&&(pe=F.replace(M,"$&/")+"/"),Je(Ce,Y,pe,"",function(wt){return wt})):Ce!=null&&(P(Ce)&&(Ce=R(Ce,pe+(!Ce.key||Ue&&Ue.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+F)),Y.push(Ce)),1;if(Ue=0,Re=Re===""?".":Re+":",te(F))for(var je=0;je<F.length;je++){be=F[je];var We=Re+k(be,je);Ue+=Je(be,Y,pe,We,Ce)}else if(We=S(F),typeof We=="function")for(F=We.call(F),je=0;!(be=F.next()).done;)be=be.value,We=Re+k(be,je++),Ue+=Je(be,Y,pe,We,Ce);else if(be==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ht(F,Y,pe){if(F==null)return F;var Re=[],Ce=0;return Je(F,Re,"","",function(be){return Y.call(pe,be,Ce++)}),Re}function dt(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Ve={current:null},re={transition:null},me={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:re,ReactCurrentOwner:fe};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:ht,forEach:function(F,Y,pe){ht(F,function(){Y.apply(this,arguments)},pe)},count:function(F){var Y=0;return ht(F,function(){Y++}),Y},toArray:function(F){return ht(F,function(Y){return Y})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ke.Component=D,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=H,ke.StrictMode=s,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ke.act=oe,ke.cloneElement=function(F,Y,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Re=V({},F.props),Ce=F.key,be=F.ref,Ue=F._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,Ue=fe.current),Y.key!==void 0&&(Ce=""+Y.key),F.type&&F.type.defaultProps)var je=F.type.defaultProps;for(We in Y)de.call(Y,We)&&!A.hasOwnProperty(We)&&(Re[We]=Y[We]===void 0&&je!==void 0?je[We]:Y[We])}var We=arguments.length-2;if(We===1)Re.children=pe;else if(1<We){je=Array(We);for(var wt=0;wt<We;wt++)je[wt]=arguments[wt+2];Re.children=je}return{$$typeof:r,type:F.type,key:Ce,ref:be,props:Re,_owner:Ue}},ke.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},ke.createElement=T,ke.createFactory=function(F){var Y=T.bind(null,F);return Y.type=F,Y},ke.createRef=function(){return{current:null}},ke.forwardRef=function(F){return{$$typeof:f,render:F}},ke.isValidElement=P,ke.lazy=function(F){return{$$typeof:E,_payload:{_status:-1,_result:F},_init:dt}},ke.memo=function(F,Y){return{$$typeof:y,type:F,compare:Y===void 0?null:Y}},ke.startTransition=function(F){var Y=re.transition;re.transition={};try{F()}finally{re.transition=Y}},ke.unstable_act=oe,ke.useCallback=function(F,Y){return Ve.current.useCallback(F,Y)},ke.useContext=function(F){return Ve.current.useContext(F)},ke.useDebugValue=function(){},ke.useDeferredValue=function(F){return Ve.current.useDeferredValue(F)},ke.useEffect=function(F,Y){return Ve.current.useEffect(F,Y)},ke.useId=function(){return Ve.current.useId()},ke.useImperativeHandle=function(F,Y,pe){return Ve.current.useImperativeHandle(F,Y,pe)},ke.useInsertionEffect=function(F,Y){return Ve.current.useInsertionEffect(F,Y)},ke.useLayoutEffect=function(F,Y){return Ve.current.useLayoutEffect(F,Y)},ke.useMemo=function(F,Y){return Ve.current.useMemo(F,Y)},ke.useReducer=function(F,Y,pe){return Ve.current.useReducer(F,Y,pe)},ke.useRef=function(F){return Ve.current.useRef(F)},ke.useState=function(F){return Ve.current.useState(F)},ke.useSyncExternalStore=function(F,Y,pe){return Ve.current.useSyncExternalStore(F,Y,pe)},ke.useTransition=function(){return Ve.current.useTransition()},ke.version="18.3.1",ke}var cg;function cf(){return cg||(cg=1,gd.exports=AE()),gd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function PE(){if(hg)return ba;hg=1;var r=cf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var E,I={},S=null,b=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(E in p)s.call(p,E)&&!l.hasOwnProperty(E)&&(I[E]=p[E]);if(f&&f.defaultProps)for(E in p=f.defaultProps,p)I[E]===void 0&&(I[E]=p[E]);return{$$typeof:e,type:f,key:S,ref:b,props:I,_owner:o.current}}return ba.Fragment=t,ba.jsx=h,ba.jsxs=h,ba}var dg;function xE(){return dg||(dg=1,md.exports=PE()),md.exports}var N=xE(),B=cf();const Fe=zy(B);var Vu={},yd={exports:{}},en={},vd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function NE(){return fg||(fg=1,function(r){function e(re,me){var oe=re.length;re.push(me);e:for(;0<oe;){var F=oe-1>>>1,Y=re[F];if(0<o(Y,me))re[F]=me,re[oe]=Y,oe=F;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var me=re[0],oe=re.pop();if(oe!==me){re[0]=oe;e:for(var F=0,Y=re.length,pe=Y>>>1;F<pe;){var Re=2*(F+1)-1,Ce=re[Re],be=Re+1,Ue=re[be];if(0>o(Ce,oe))be<Y&&0>o(Ue,Ce)?(re[F]=Ue,re[be]=oe,F=be):(re[F]=Ce,re[Re]=oe,F=Re);else if(be<Y&&0>o(Ue,oe))re[F]=Ue,re[be]=oe,F=be;else break e}}return me}function o(re,me){var oe=re.sortIndex-me.sortIndex;return oe!==0?oe:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],y=[],E=1,I=null,S=3,b=!1,V=!1,U=!1,D=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(re){for(var me=t(y);me!==null;){if(me.callback===null)s(y);else if(me.startTime<=re)s(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function te(re){if(U=!1,G(re),!V)if(t(p)!==null)V=!0,dt(de);else{var me=t(y);me!==null&&Ve(te,me.startTime-re)}}function de(re,me){V=!1,U&&(U=!1,q(T),T=-1),b=!0;var oe=S;try{for(G(me),I=t(p);I!==null&&(!(I.expirationTime>me)||re&&!O());){var F=I.callback;if(typeof F=="function"){I.callback=null,S=I.priorityLevel;var Y=F(I.expirationTime<=me);me=r.unstable_now(),typeof Y=="function"?I.callback=Y:I===t(p)&&s(p),G(me)}else s(p);I=t(p)}if(I!==null)var pe=!0;else{var Re=t(y);Re!==null&&Ve(te,Re.startTime-me),pe=!1}return pe}finally{I=null,S=oe,b=!1}}var fe=!1,A=null,T=-1,R=5,P=-1;function O(){return!(r.unstable_now()-P<R)}function M(){if(A!==null){var re=r.unstable_now();P=re;var me=!0;try{me=A(!0,re)}finally{me?k():(fe=!1,A=null)}}else fe=!1}var k;if(typeof H=="function")k=function(){H(M)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,ht=Je.port2;Je.port1.onmessage=M,k=function(){ht.postMessage(null)}}else k=function(){D(M,0)};function dt(re){A=re,fe||(fe=!0,k())}function Ve(re,me){T=D(function(){re(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){V||b||(V=!0,dt(de))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(re){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var oe=S;S=me;try{return re()}finally{S=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=S;S=re;try{return me()}finally{S=oe}},r.unstable_scheduleCallback=function(re,me,oe){var F=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,re={id:E++,callback:me,priorityLevel:re,startTime:oe,expirationTime:Y,sortIndex:-1},oe>F?(re.sortIndex=oe,e(y,re),t(p)===null&&re===t(y)&&(U?(q(T),T=-1):U=!0,Ve(te,oe-F))):(re.sortIndex=Y,e(p,re),V||b||(V=!0,dt(de))),re},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(re){var me=S;return function(){var oe=S;S=me;try{return re.apply(this,arguments)}finally{S=oe}}}}(_d)),_d}var pg;function bE(){return pg||(pg=1,vd.exports=NE()),vd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function DE(){if(mg)return en;mg=1;var r=cf(),e=bE();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function S(n){return p.call(I,n)?!0:p.call(E,n)?!1:y.test(n)?I[n]=!0:(E[n]=!0,!1)}function b(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function V(n,i,a,c){if(i===null||typeof i>"u"||b(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function U(n,i,a,c,d,g,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=_}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){D[n]=new U(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];D[i]=new U(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){D[n]=new U(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){D[n]=new U(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){D[n]=new U(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){D[n]=new U(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){D[n]=new U(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){D[n]=new U(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){D[n]=new U(n,5,!1,n.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function H(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(q,H);D[i]=new U(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(q,H);D[i]=new U(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(q,H);D[i]=new U(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){D[n]=new U(n,1,!1,n.toLowerCase(),null,!1,!1)}),D.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){D[n]=new U(n,1,!1,n.toLowerCase(),null,!0,!0)});function G(n,i,a,c){var d=D.hasOwnProperty(i)?D[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(V(i,a,d,c)&&(a=null),c||d===null?S(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var te=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),fe=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Ve=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,F;function Y(n){if(F===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+n}var pe=!1;function Re(n,i){if(!n||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(n,[],i)}else{try{i.call()}catch(W){c=W}n.call(i.prototype)}else{try{throw Error()}catch(W){c=W}n()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var d=W.stack.split(`
`),g=c.stack.split(`
`),_=d.length-1,C=g.length-1;1<=_&&0<=C&&d[_]!==g[C];)C--;for(;1<=_&&0<=C;_--,C--)if(d[_]!==g[C]){if(_!==1||C!==1)do if(_--,C--,0>C||d[_]!==g[C]){var x=`
`+d[_].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=_&&0<=C);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Y(n):""}function Ce(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=Re(n.type,!1),n;case 11:return n=Re(n.type.render,!1),n;case 1:return n=Re(n.type,!0),n;default:return""}}function be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case fe:return"Portal";case R:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case Je:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Consumer";case P:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ht:return i=n.displayName||null,i!==null?i:be(n.type)||"Memo";case dt:i=n._payload,n=n._init;try{return be(n(i))}catch{}}return null}function Ue(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function We(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=We(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function lr(n){n._valueTracker||(n._valueTracker=wt(n))}function vs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=We(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Fr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ai(n,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function _s(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=je(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fo(n,i){i=i.checked,i!=null&&G(n,"checked",i,!1)}function Uo(n,i){Fo(n,i);var a=je(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Es(n,i.type,a):i.hasOwnProperty("defaultValue")&&Es(n,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function wl(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Es(n,i,a){(i!=="number"||Fr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ur=Array.isArray;function cr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+je(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function jo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ws(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(ur(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:je(a)}}function Ts(n,i){var a=je(i.value),c=je(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function zo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ft(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ft(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hr,Bo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=hr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Ur(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xi=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(n){xi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Pi[i]=Pi[n]})});function $o(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Pi.hasOwnProperty(n)&&Pi[n]?(""+i).trim():i+"px"}function Ho(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=$o(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Wo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(n,i){if(i){if(Wo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ko(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function Is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ss=null,hn=null,jn=null;function Rs(n){if(n=ya(n)){if(typeof Ss!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Xl(i),Ss(n.stateNode,n.type,i))}}function zn(n){hn?jn?jn.push(n):jn=[n]:hn=n}function Go(){if(hn){var n=hn,i=jn;if(jn=hn=null,Rs(n),i)for(n=0;n<i.length;n++)Rs(i[n])}}function bi(n,i){return n(i)}function Qo(){}var dr=!1;function Yo(n,i,a){if(dr)return n(i,a);dr=!0;try{return bi(n,i,a)}finally{dr=!1,(hn!==null||jn!==null)&&(Qo(),Go())}}function st(n,i){var a=n.stateNode;if(a===null)return null;var c=Xl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Cs=!1;if(f)try{var In={};Object.defineProperty(In,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{Cs=!1}function Di(n,i,a,c,d,g,_,C,x){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(J){this.onError(J)}}var Oi=!1,ks=null,Sn=!1,Xo=null,$c={onError:function(n){Oi=!0,ks=n}};function As(n,i,a,c,d,g,_,C,x){Oi=!1,ks=null,Di.apply($c,arguments)}function Tl(n,i,a,c,d,g,_,C,x){if(As.apply(this,arguments),Oi){if(Oi){var W=ks;Oi=!1,ks=null}else throw Error(t(198));Sn||(Sn=!0,Xo=W)}}function Rn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Li(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Cn(n){if(Rn(n)!==n)throw Error(t(188))}function Il(n){var i=n.alternate;if(!i){if(i=Rn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Cn(d),n;if(g===c)return Cn(d),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var _=!1,C=d.child;C;){if(C===a){_=!0,a=d,c=g;break}if(C===c){_=!0,c=d,a=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===a){_=!0,a=g,c=d;break}if(C===c){_=!0,c=g,a=d;break}C=C.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Jo(n){return n=Il(n),n!==null?Ps(n):null}function Ps(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Ps(n);if(i!==null)return i;n=n.sibling}return null}var xs=e.unstable_scheduleCallback,Zo=e.unstable_cancelCallback,Sl=e.unstable_shouldYield,Hc=e.unstable_requestPaint,qe=e.unstable_now,Rl=e.unstable_getCurrentPriorityLevel,Vi=e.unstable_ImmediatePriority,jr=e.unstable_UserBlockingPriority,dn=e.unstable_NormalPriority,ea=e.unstable_LowPriority,Cl=e.unstable_IdlePriority,Mi=null,nn=null;function kl(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Mi,n,void 0,(n.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Pl,ta=Math.log,Al=Math.LN2;function Pl(n){return n>>>=0,n===0?32:31-(ta(n)/Al|0)|0}var Ns=64,bs=4194304;function zr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Fi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,_=a&268435455;if(_!==0){var C=_&~d;C!==0?c=zr(C):(g&=_,g!==0&&(c=zr(g)))}else _=a&~d,_!==0?c=zr(_):g!==0&&(c=zr(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,g=i&-i,d>=g||d===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Bt(i),d=1<<a,c|=n[a],i&=~d;return c}function Wc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var _=31-Bt(g),C=1<<_,x=d[_];x===-1?(!(C&a)||C&c)&&(d[_]=Wc(C,i)):x<=i&&(n.expiredLanes|=C),g&=~C}}function rn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ui(){var n=Ns;return Ns<<=1,!(Ns&4194240)&&(Ns=64),n}function Br(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function $r(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Bt(i),n[i]=a}function He(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Bt(a),g=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Hr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Bt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var xe=0;function Wr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xl,Ds,Nl,bl,Dl,na=!1,Bn=[],kt=null,kn=null,An=null,qr=new Map,fn=new Map,$n=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ol(n,i){switch(n){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":qr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(i.pointerId)}}function Kt(n,i,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=ya(i),i!==null&&Ds(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Kc(n,i,a,c,d){switch(i){case"focusin":return kt=Kt(kt,n,i,a,c,d),!0;case"dragenter":return kn=Kt(kn,n,i,a,c,d),!0;case"mouseover":return An=Kt(An,n,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return qr.set(g,Kt(qr.get(g)||null,n,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,fn.set(g,Kt(fn.get(g)||null,n,i,a,c,d)),!0}return!1}function Ll(n){var i=Hi(n.target);if(i!==null){var a=Rn(i);if(a!==null){if(i=a.tag,i===13){if(i=Li(a),i!==null){n.blockedOn=i,Dl(n.priority,function(){Nl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Os(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ni=c,a.target.dispatchEvent(c),Ni=null}else return i=ya(a),i!==null&&Ds(i),n.blockedOn=a,!1;i.shift()}return!0}function ji(n,i,a){pr(n)&&a.delete(i)}function Vl(){na=!1,kt!==null&&pr(kt)&&(kt=null),kn!==null&&pr(kn)&&(kn=null),An!==null&&pr(An)&&(An=null),qr.forEach(ji),fn.forEach(ji)}function Pn(n,i){n.blockedOn===i&&(n.blockedOn=null,na||(na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vl)))}function xn(n){function i(d){return Pn(d,n)}if(0<Bn.length){Pn(Bn[0],n);for(var a=1;a<Bn.length;a++){var c=Bn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(kt!==null&&Pn(kt,n),kn!==null&&Pn(kn,n),An!==null&&Pn(An,n),qr.forEach(i),fn.forEach(i),a=0;a<$n.length;a++)c=$n[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<$n.length&&(a=$n[0],a.blockedOn===null);)Ll(a),a.blockedOn===null&&$n.shift()}var mr=te.ReactCurrentBatchConfig,Kr=!0;function Ye(n,i,a,c){var d=xe,g=mr.transition;mr.transition=null;try{xe=1,ra(n,i,a,c)}finally{xe=d,mr.transition=g}}function Gc(n,i,a,c){var d=xe,g=mr.transition;mr.transition=null;try{xe=4,ra(n,i,a,c)}finally{xe=d,mr.transition=g}}function ra(n,i,a,c){if(Kr){var d=Os(n,i,a,c);if(d===null)sh(n,i,c,zi,a),Ol(n,c);else if(Kc(d,n,i,a,c))c.stopPropagation();else if(Ol(n,c),i&4&&-1<qc.indexOf(n)){for(;d!==null;){var g=ya(d);if(g!==null&&xl(g),g=Os(n,i,a,c),g===null&&sh(n,i,c,zi,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else sh(n,i,c,null,a)}}var zi=null;function Os(n,i,a,c){if(zi=null,n=Is(c),n=Hi(n),n!==null)if(i=Rn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Li(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return zi=n,null}function ia(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rl()){case Vi:return 1;case jr:return 4;case dn:case ea:return 16;case Cl:return 536870912;default:return 16}default:return 16}}var sn=null,Ls=null,Gt=null;function sa(){if(Gt)return Gt;var n,i=Ls,a=i.length,c,d="value"in sn?sn.value:sn.textContent,g=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[g-c];c++);return Gt=d.slice(n,1<c?1-c:void 0)}function Vs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Hn(){return!0}function oa(){return!1}function At(n){function i(a,c,d,g,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Hn:oa,this.isPropagationStopped=oa,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),i}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=At(Nn),Wn=oe({},Nn,{view:0,detail:0}),Qc=At(Wn),Fs,gr,Gr,Bi=oe({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gr&&(Gr&&n.type==="mousemove"?(Fs=n.screenX-Gr.screenX,gr=n.screenY-Gr.screenY):gr=Fs=0,Gr=n),Fs)},movementY:function(n){return"movementY"in n?n.movementY:gr}}),Us=At(Bi),aa=oe({},Bi,{dataTransfer:0}),Ml=At(aa),js=oe({},Wn,{relatedTarget:0}),zs=At(js),Fl=oe({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),yr=At(Fl),Ul=oe({},Nn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jl=At(Ul),zl=oe({},Nn,{data:0}),la=At(zl),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $l(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Bl[n])?!!i[n]:!1}function qn(){return $l}var u=oe({},Wn,{key:function(n){if(n.key){var i=Bs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$t[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(n){return n.type==="keypress"?Vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=At(u),v=oe({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=At(v),j=oe({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),K=At(j),ie=oe({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=At(ie),mt=oe({},Bi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),De=At(mt),Tt=[9,13,27,32],lt=f&&"CompositionEvent"in window,pn=null;f&&"documentMode"in document&&(pn=document.documentMode);var on=f&&"TextEvent"in window&&!pn,$i=f&&(!lt||pn&&8<pn&&11>=pn),$s=" ",rp=!1;function ip(n,i){switch(n){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hs=!1;function C0(n,i){switch(n){case"compositionend":return sp(i);case"keypress":return i.which!==32?null:(rp=!0,$s);case"textInput":return n=i.data,n===$s&&rp?null:n;default:return null}}function k0(n,i){if(Hs)return n==="compositionend"||!lt&&ip(n,i)?(n=sa(),Gt=Ls=sn=null,Hs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return $i&&i.locale!=="ko"?null:i.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!A0[n.type]:i==="textarea"}function ap(n,i,a,c){zn(c),i=Gl(i,"onChange"),0<i.length&&(a=new Ms("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var ua=null,ca=null;function P0(n){Rp(n,0)}function Hl(n){var i=Qs(n);if(vs(i))return n}function x0(n,i){if(n==="change")return i}var lp=!1;if(f){var Yc;if(f){var Xc="oninput"in document;if(!Xc){var up=document.createElement("div");up.setAttribute("oninput","return;"),Xc=typeof up.oninput=="function"}Yc=Xc}else Yc=!1;lp=Yc&&(!document.documentMode||9<document.documentMode)}function cp(){ua&&(ua.detachEvent("onpropertychange",hp),ca=ua=null)}function hp(n){if(n.propertyName==="value"&&Hl(ca)){var i=[];ap(i,ca,n,Is(n)),Yo(P0,i)}}function N0(n,i,a){n==="focusin"?(cp(),ua=i,ca=a,ua.attachEvent("onpropertychange",hp)):n==="focusout"&&cp()}function b0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hl(ca)}function D0(n,i){if(n==="click")return Hl(i)}function O0(n,i){if(n==="input"||n==="change")return Hl(i)}function L0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:L0;function ha(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(i,d)||!bn(n[d],i[d]))return!1}return!0}function dp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fp(n,i){var a=dp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dp(a)}}function pp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?pp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function mp(){for(var n=window,i=Fr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Fr(n.document)}return i}function Jc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function V0(n){var i=mp(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&pp(a.ownerDocument.documentElement,a)){if(c!==null&&Jc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=fp(a,g);var _=fp(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var M0=f&&"documentMode"in document&&11>=document.documentMode,Ws=null,Zc=null,da=null,eh=!1;function gp(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eh||Ws==null||Ws!==Fr(c)||(c=Ws,"selectionStart"in c&&Jc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),da&&ha(da,c)||(da=c,c=Gl(Zc,"onSelect"),0<c.length&&(i=new Ms("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Ws)))}function Wl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var qs={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},th={},yp={};f&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function ql(n){if(th[n])return th[n];if(!qs[n])return n;var i=qs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in yp)return th[n]=i[a];return n}var vp=ql("animationend"),_p=ql("animationiteration"),Ep=ql("animationstart"),wp=ql("transitionend"),Tp=new Map,Ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(n,i){Tp.set(n,i),l(i,[n])}for(var nh=0;nh<Ip.length;nh++){var rh=Ip[nh],F0=rh.toLowerCase(),U0=rh[0].toUpperCase()+rh.slice(1);Qr(F0,"on"+U0)}Qr(vp,"onAnimationEnd"),Qr(_p,"onAnimationIteration"),Qr(Ep,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(wp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Sp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Tl(c,i,void 0,n),n.currentTarget=null}function Rp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var _=c.length-1;0<=_;_--){var C=c[_],x=C.instance,W=C.currentTarget;if(C=C.listener,x!==g&&d.isPropagationStopped())break e;Sp(d,C,W),g=x}else for(_=0;_<c.length;_++){if(C=c[_],x=C.instance,W=C.currentTarget,C=C.listener,x!==g&&d.isPropagationStopped())break e;Sp(d,C,W),g=x}}}if(Sn)throw n=Xo,Sn=!1,Xo=null,n}function Ge(n,i){var a=i[hh];a===void 0&&(a=i[hh]=new Set);var c=n+"__bubble";a.has(c)||(Cp(i,n,2,!1),a.add(c))}function ih(n,i,a){var c=0;i&&(c|=4),Cp(a,n,c,i)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function pa(n){if(!n[Kl]){n[Kl]=!0,s.forEach(function(a){a!=="selectionchange"&&(j0.has(a)||ih(a,!1,n),ih(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Kl]||(i[Kl]=!0,ih("selectionchange",!1,i))}}function Cp(n,i,a,c){switch(ia(i)){case 1:var d=Ye;break;case 4:d=Gc;break;default:d=ra}a=d.bind(null,i,a,n),d=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function sh(n,i,a,c,d){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;_=_.return}for(;C!==null;){if(_=Hi(C),_===null)return;if(x=_.tag,x===5||x===6){c=g=_;continue e}C=C.parentNode}}c=c.return}Yo(function(){var W=g,J=Is(a),Z=[];e:{var X=Tp.get(n);if(X!==void 0){var se=Ms,ue=n;switch(n){case"keypress":if(Vs(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=zs;break;case"focusout":ue="blur",se=zs;break;case"beforeblur":case"afterblur":se=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=K;break;case vp:case _p:case Ep:se=yr;break;case wp:se=Be;break;case"scroll":se=Qc;break;case"wheel":se=De;break;case"copy":case"cut":case"paste":se=jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=w}var ce=(i&4)!==0,ot=!ce&&n==="scroll",z=ce?X!==null?X+"Capture":null:X;ce=[];for(var L=W,$;L!==null;){$=L;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,z!==null&&(ne=st(L,z),ne!=null&&ce.push(ma(L,ne,$)))),ot)break;L=L.return}0<ce.length&&(X=new se(X,ue,null,a,J),Z.push({event:X,listeners:ce}))}}if(!(i&7)){e:{if(X=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",X&&a!==Ni&&(ue=a.relatedTarget||a.fromElement)&&(Hi(ue)||ue[vr]))break e;if((se||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=W,ue=ue?Hi(ue):null,ue!==null&&(ot=Rn(ue),ue!==ot||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=W),se!==ue)){if(ce=Us,ne="onMouseLeave",z="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ce=w,ne="onPointerLeave",z="onPointerEnter",L="pointer"),ot=se==null?X:Qs(se),$=ue==null?X:Qs(ue),X=new ce(ne,L+"leave",se,a,J),X.target=ot,X.relatedTarget=$,ne=null,Hi(J)===W&&(ce=new ce(z,L+"enter",ue,a,J),ce.target=$,ce.relatedTarget=ot,ne=ce),ot=ne,se&&ue)t:{for(ce=se,z=ue,L=0,$=ce;$;$=Ks($))L++;for($=0,ne=z;ne;ne=Ks(ne))$++;for(;0<L-$;)ce=Ks(ce),L--;for(;0<$-L;)z=Ks(z),$--;for(;L--;){if(ce===z||z!==null&&ce===z.alternate)break t;ce=Ks(ce),z=Ks(z)}ce=null}else ce=null;se!==null&&kp(Z,X,se,ce,!1),ue!==null&&ot!==null&&kp(Z,ot,ue,ce,!0)}}e:{if(X=W?Qs(W):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var he=x0;else if(op(X))if(lp)he=O0;else{he=b0;var ge=N0}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=D0);if(he&&(he=he(n,W))){ap(Z,he,a,J);break e}ge&&ge(n,X,W),n==="focusout"&&(ge=X._wrapperState)&&ge.controlled&&X.type==="number"&&Es(X,"number",X.value)}switch(ge=W?Qs(W):window,n){case"focusin":(op(ge)||ge.contentEditable==="true")&&(Ws=ge,Zc=W,da=null);break;case"focusout":da=Zc=Ws=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,gp(Z,a,J);break;case"selectionchange":if(M0)break;case"keydown":case"keyup":gp(Z,a,J)}var ye;if(lt)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Hs?ip(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&($i&&a.locale!=="ko"&&(Hs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Hs&&(ye=sa()):(sn=J,Ls="value"in sn?sn.value:sn.textContent,Hs=!0)),ge=Gl(W,we),0<ge.length&&(we=new la(we,n,null,a,J),Z.push({event:we,listeners:ge}),ye?we.data=ye:(ye=sp(a),ye!==null&&(we.data=ye)))),(ye=on?C0(n,a):k0(n,a))&&(W=Gl(W,"onBeforeInput"),0<W.length&&(J=new la("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:W}),J.data=ye))}Rp(Z,i)})}function ma(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Gl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=st(n,a),g!=null&&c.unshift(ma(n,g,d)),g=st(n,i),g!=null&&c.push(ma(n,g,d))),n=n.return}return c}function Ks(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function kp(n,i,a,c,d){for(var g=i._reactName,_=[];a!==null&&a!==c;){var C=a,x=C.alternate,W=C.stateNode;if(x!==null&&x===c)break;C.tag===5&&W!==null&&(C=W,d?(x=st(a,g),x!=null&&_.unshift(ma(a,x,C))):d||(x=st(a,g),x!=null&&_.push(ma(a,x,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var z0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function Ap(n){return(typeof n=="string"?n:""+n).replace(z0,`
`).replace(B0,"")}function Ql(n,i,a){if(i=Ap(i),Ap(n)!==i&&a)throw Error(t(425))}function Yl(){}var oh=null,ah=null;function lh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,H0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(n){return Pp.resolve(null).then(n).catch(W0)}:uh;function W0(n){setTimeout(function(){throw n})}function ch(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),xn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);xn(i)}function Yr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function xp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Gs,ga="__reactProps$"+Gs,vr="__reactContainer$"+Gs,hh="__reactEvents$"+Gs,q0="__reactListeners$"+Gs,K0="__reactHandles$"+Gs;function Hi(n){var i=n[Kn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[vr]||a[Kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=xp(n);n!==null;){if(a=n[Kn])return a;n=xp(n)}return i}n=a,a=n.parentNode}return null}function ya(n){return n=n[Kn]||n[vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Xl(n){return n[ga]||null}var dh=[],Ys=-1;function Xr(n){return{current:n}}function Qe(n){0>Ys||(n.current=dh[Ys],dh[Ys]=null,Ys--)}function Ke(n,i){Ys++,dh[Ys]=n.current,n.current=i}var Jr={},Ot=Xr(Jr),Qt=Xr(!1),Wi=Jr;function Xs(n,i){var a=n.type.contextTypes;if(!a)return Jr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=i[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Yt(n){return n=n.childContextTypes,n!=null}function Jl(){Qe(Qt),Qe(Ot)}function Np(n,i,a){if(Ot.current!==Jr)throw Error(t(168));Ke(Ot,i),Ke(Qt,a)}function bp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Ue(n)||"Unknown",d));return oe({},a,c)}function Zl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,Wi=Ot.current,Ke(Ot,n),Ke(Qt,Qt.current),!0}function Dp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=bp(n,i,Wi),c.__reactInternalMemoizedMergedChildContext=n,Qe(Qt),Qe(Ot),Ke(Ot,n)):Qe(Qt),Ke(Qt,a)}var _r=null,eu=!1,fh=!1;function Op(n){_r===null?_r=[n]:_r.push(n)}function G0(n){eu=!0,Op(n)}function Zr(){if(!fh&&_r!==null){fh=!0;var n=0,i=xe;try{var a=_r;for(xe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}_r=null,eu=!1}catch(d){throw _r!==null&&(_r=_r.slice(n+1)),xs(Vi,Zr),d}finally{xe=i,fh=!1}}return null}var Js=[],Zs=0,tu=null,nu=0,mn=[],gn=0,qi=null,Er=1,wr="";function Ki(n,i){Js[Zs++]=nu,Js[Zs++]=tu,tu=n,nu=i}function Lp(n,i,a){mn[gn++]=Er,mn[gn++]=wr,mn[gn++]=qi,qi=n;var c=Er;n=wr;var d=32-Bt(c)-1;c&=~(1<<d),a+=1;var g=32-Bt(i)+d;if(30<g){var _=d-d%5;g=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Er=1<<32-Bt(i)+d|a<<d|c,wr=g+n}else Er=1<<g|a<<d|c,wr=n}function ph(n){n.return!==null&&(Ki(n,1),Lp(n,1,0))}function mh(n){for(;n===tu;)tu=Js[--Zs],Js[Zs]=null,nu=Js[--Zs],Js[Zs]=null;for(;n===qi;)qi=mn[--gn],mn[gn]=null,wr=mn[--gn],mn[gn]=null,Er=mn[--gn],mn[gn]=null}var an=null,ln=null,Xe=!1,Dn=null;function Vp(n,i){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Mp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,an=n,ln=Yr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,an=n,ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=qi!==null?{id:Er,overflow:wr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,an=n,ln=null,!0):!1;default:return!1}}function gh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yh(n){if(Xe){var i=ln;if(i){var a=i;if(!Mp(n,i)){if(gh(n))throw Error(t(418));i=Yr(a.nextSibling);var c=an;i&&Mp(n,i)?Vp(c,a):(n.flags=n.flags&-4097|2,Xe=!1,an=n)}}else{if(gh(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,an=n}}}function Fp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function ru(n){if(n!==an)return!1;if(!Xe)return Fp(n),Xe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!lh(n.type,n.memoizedProps)),i&&(i=ln)){if(gh(n))throw Up(),Error(t(418));for(;i;)Vp(n,i),i=Yr(i.nextSibling)}if(Fp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){ln=Yr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}ln=null}}else ln=an?Yr(n.stateNode.nextSibling):null;return!0}function Up(){for(var n=ln;n;)n=Yr(n.nextSibling)}function eo(){ln=an=null,Xe=!1}function vh(n){Dn===null?Dn=[n]:Dn.push(n)}var Q0=te.ReactCurrentBatchConfig;function va(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(_){var C=d.refs;_===null?delete C[g]:C[g]=_},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function iu(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function jp(n){var i=n._init;return i(n._payload)}function zp(n){function i(z,L){if(n){var $=z.deletions;$===null?(z.deletions=[L],z.flags|=16):$.push(L)}}function a(z,L){if(!n)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function c(z,L){for(z=new Map;L!==null;)L.key!==null?z.set(L.key,L):z.set(L.index,L),L=L.sibling;return z}function d(z,L){return z=ai(z,L),z.index=0,z.sibling=null,z}function g(z,L,$){return z.index=$,n?($=z.alternate,$!==null?($=$.index,$<L?(z.flags|=2,L):$):(z.flags|=2,L)):(z.flags|=1048576,L)}function _(z){return n&&z.alternate===null&&(z.flags|=2),z}function C(z,L,$,ne){return L===null||L.tag!==6?(L=ud($,z.mode,ne),L.return=z,L):(L=d(L,$),L.return=z,L)}function x(z,L,$,ne){var he=$.type;return he===A?J(z,L,$.props.children,ne,$.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===dt&&jp(he)===L.type)?(ne=d(L,$.props),ne.ref=va(z,L,$),ne.return=z,ne):(ne=Au($.type,$.key,$.props,null,z.mode,ne),ne.ref=va(z,L,$),ne.return=z,ne)}function W(z,L,$,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=cd($,z.mode,ne),L.return=z,L):(L=d(L,$.children||[]),L.return=z,L)}function J(z,L,$,ne,he){return L===null||L.tag!==7?(L=ts($,z.mode,ne,he),L.return=z,L):(L=d(L,$),L.return=z,L)}function Z(z,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=ud(""+L,z.mode,$),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case de:return $=Au(L.type,L.key,L.props,null,z.mode,$),$.ref=va(z,null,L),$.return=z,$;case fe:return L=cd(L,z.mode,$),L.return=z,L;case dt:var ne=L._init;return Z(z,ne(L._payload),$)}if(ur(L)||me(L))return L=ts(L,z.mode,$,null),L.return=z,L;iu(z,L)}return null}function X(z,L,$,ne){var he=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return he!==null?null:C(z,L,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case de:return $.key===he?x(z,L,$,ne):null;case fe:return $.key===he?W(z,L,$,ne):null;case dt:return he=$._init,X(z,L,he($._payload),ne)}if(ur($)||me($))return he!==null?null:J(z,L,$,ne,null);iu(z,$)}return null}function se(z,L,$,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return z=z.get($)||null,C(L,z,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case de:return z=z.get(ne.key===null?$:ne.key)||null,x(L,z,ne,he);case fe:return z=z.get(ne.key===null?$:ne.key)||null,W(L,z,ne,he);case dt:var ge=ne._init;return se(z,L,$,ge(ne._payload),he)}if(ur(ne)||me(ne))return z=z.get($)||null,J(L,z,ne,he,null);iu(L,ne)}return null}function ue(z,L,$,ne){for(var he=null,ge=null,ye=L,we=L=0,Rt=null;ye!==null&&we<$.length;we++){ye.index>we?(Rt=ye,ye=null):Rt=ye.sibling;var Me=X(z,ye,$[we],ne);if(Me===null){ye===null&&(ye=Rt);break}n&&ye&&Me.alternate===null&&i(z,ye),L=g(Me,L,we),ge===null?he=Me:ge.sibling=Me,ge=Me,ye=Rt}if(we===$.length)return a(z,ye),Xe&&Ki(z,we),he;if(ye===null){for(;we<$.length;we++)ye=Z(z,$[we],ne),ye!==null&&(L=g(ye,L,we),ge===null?he=ye:ge.sibling=ye,ge=ye);return Xe&&Ki(z,we),he}for(ye=c(z,ye);we<$.length;we++)Rt=se(ye,z,we,$[we],ne),Rt!==null&&(n&&Rt.alternate!==null&&ye.delete(Rt.key===null?we:Rt.key),L=g(Rt,L,we),ge===null?he=Rt:ge.sibling=Rt,ge=Rt);return n&&ye.forEach(function(li){return i(z,li)}),Xe&&Ki(z,we),he}function ce(z,L,$,ne){var he=me($);if(typeof he!="function")throw Error(t(150));if($=he.call($),$==null)throw Error(t(151));for(var ge=he=null,ye=L,we=L=0,Rt=null,Me=$.next();ye!==null&&!Me.done;we++,Me=$.next()){ye.index>we?(Rt=ye,ye=null):Rt=ye.sibling;var li=X(z,ye,Me.value,ne);if(li===null){ye===null&&(ye=Rt);break}n&&ye&&li.alternate===null&&i(z,ye),L=g(li,L,we),ge===null?he=li:ge.sibling=li,ge=li,ye=Rt}if(Me.done)return a(z,ye),Xe&&Ki(z,we),he;if(ye===null){for(;!Me.done;we++,Me=$.next())Me=Z(z,Me.value,ne),Me!==null&&(L=g(Me,L,we),ge===null?he=Me:ge.sibling=Me,ge=Me);return Xe&&Ki(z,we),he}for(ye=c(z,ye);!Me.done;we++,Me=$.next())Me=se(ye,z,we,Me.value,ne),Me!==null&&(n&&Me.alternate!==null&&ye.delete(Me.key===null?we:Me.key),L=g(Me,L,we),ge===null?he=Me:ge.sibling=Me,ge=Me);return n&&ye.forEach(function(kE){return i(z,kE)}),Xe&&Ki(z,we),he}function ot(z,L,$,ne){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case de:e:{for(var he=$.key,ge=L;ge!==null;){if(ge.key===he){if(he=$.type,he===A){if(ge.tag===7){a(z,ge.sibling),L=d(ge,$.props.children),L.return=z,z=L;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===dt&&jp(he)===ge.type){a(z,ge.sibling),L=d(ge,$.props),L.ref=va(z,ge,$),L.return=z,z=L;break e}a(z,ge);break}else i(z,ge);ge=ge.sibling}$.type===A?(L=ts($.props.children,z.mode,ne,$.key),L.return=z,z=L):(ne=Au($.type,$.key,$.props,null,z.mode,ne),ne.ref=va(z,L,$),ne.return=z,z=ne)}return _(z);case fe:e:{for(ge=$.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){a(z,L.sibling),L=d(L,$.children||[]),L.return=z,z=L;break e}else{a(z,L);break}else i(z,L);L=L.sibling}L=cd($,z.mode,ne),L.return=z,z=L}return _(z);case dt:return ge=$._init,ot(z,L,ge($._payload),ne)}if(ur($))return ue(z,L,$,ne);if(me($))return ce(z,L,$,ne);iu(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(a(z,L.sibling),L=d(L,$),L.return=z,z=L):(a(z,L),L=ud($,z.mode,ne),L.return=z,z=L),_(z)):a(z,L)}return ot}var to=zp(!0),Bp=zp(!1),su=Xr(null),ou=null,no=null,_h=null;function Eh(){_h=no=ou=null}function wh(n){var i=su.current;Qe(su),n._currentValue=i}function Th(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function ro(n,i){ou=n,_h=no=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Xt=!0),n.firstContext=null)}function yn(n){var i=n._currentValue;if(_h!==n)if(n={context:n,memoizedValue:i,next:null},no===null){if(ou===null)throw Error(t(308));no=n,ou.dependencies={lanes:0,firstContext:n}}else no=no.next=n;return i}var Gi=null;function Ih(n){Gi===null?Gi=[n]:Gi.push(n)}function $p(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Ih(i)):(a.next=d.next,d.next=a),i.interleaved=a,Tr(n,c)}function Tr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ei=!1;function Sh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ir(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ti(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Tr(n,a)}return d=c.interleaved,d===null?(i.next=i,Ih(c)):(i.next=d.next,d.next=i),c.interleaved=i,Tr(n,a)}function au(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Hr(n,a)}}function Wp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function lu(n,i,a,c){var d=n.updateQueue;ei=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var x=C,W=x.next;x.next=null,_===null?g=W:_.next=W,_=x;var J=n.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==_&&(C===null?J.firstBaseUpdate=W:C.next=W,J.lastBaseUpdate=x))}if(g!==null){var Z=d.baseState;_=0,J=W=x=null,C=g;do{var X=C.lane,se=C.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ue=n,ce=C;switch(X=i,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,X);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,X=typeof ue=="function"?ue.call(se,Z,X):ue,X==null)break e;Z=oe({},Z,X);break e;case 2:ei=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,X=d.effects,X===null?d.effects=[C]:X.push(C))}else se={eventTime:se,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(W=J=se,x=Z):J=J.next=se,_|=X;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;X=C,C=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(x=Z),d.baseState=x,d.firstBaseUpdate=W,d.lastBaseUpdate=J,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else g===null&&(d.shared.lanes=0);Xi|=_,n.lanes=_,n.memoizedState=Z}}function qp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var _a={},Gn=Xr(_a),Ea=Xr(_a),wa=Xr(_a);function Qi(n){if(n===_a)throw Error(t(174));return n}function Rh(n,i){switch(Ke(wa,i),Ke(Ea,n),Ke(Gn,_a),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:pt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=pt(i,n)}Qe(Gn),Ke(Gn,i)}function io(){Qe(Gn),Qe(Ea),Qe(wa)}function Kp(n){Qi(wa.current);var i=Qi(Gn.current),a=pt(i,n.type);i!==a&&(Ke(Ea,n),Ke(Gn,a))}function Ch(n){Ea.current===n&&(Qe(Gn),Qe(Ea))}var Ze=Xr(0);function uu(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kh=[];function Ah(){for(var n=0;n<kh.length;n++)kh[n]._workInProgressVersionPrimary=null;kh.length=0}var cu=te.ReactCurrentDispatcher,Ph=te.ReactCurrentBatchConfig,Yi=0,et=null,gt=null,It=null,hu=!1,Ta=!1,Ia=0,Y0=0;function Lt(){throw Error(t(321))}function xh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!bn(n[a],i[a]))return!1;return!0}function Nh(n,i,a,c,d,g){if(Yi=g,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,cu.current=n===null||n.memoizedState===null?eE:tE,n=a(c,d),Ta){g=0;do{if(Ta=!1,Ia=0,25<=g)throw Error(t(301));g+=1,It=gt=null,i.updateQueue=null,cu.current=nE,n=a(c,d)}while(Ta)}if(cu.current=pu,i=gt!==null&&gt.next!==null,Yi=0,It=gt=et=null,hu=!1,i)throw Error(t(300));return n}function bh(){var n=Ia!==0;return Ia=0,n}function Qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?et.memoizedState=It=n:It=It.next=n,It}function vn(){if(gt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var i=It===null?et.memoizedState:It.next;if(i!==null)It=i,gt=n;else{if(n===null)throw Error(t(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?et.memoizedState=It=n:It=It.next=n}return It}function Sa(n,i){return typeof i=="function"?i(n):i}function Dh(n){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=gt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var C=_=null,x=null,W=g;do{var J=W.lane;if((Yi&J)===J)x!==null&&(x=x.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:n(c,W.action);else{var Z={lane:J,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};x===null?(C=x=Z,_=c):x=x.next=Z,et.lanes|=J,Xi|=J}W=W.next}while(W!==null&&W!==g);x===null?_=c:x.next=C,bn(c,i.memoizedState)||(Xt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=x,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,et.lanes|=g,Xi|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Oh(n){var i=vn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do g=n(g,_.action),_=_.next;while(_!==d);bn(g,i.memoizedState)||(Xt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Gp(){}function Qp(n,i){var a=et,c=vn(),d=i(),g=!bn(c.memoizedState,d);if(g&&(c.memoizedState=d,Xt=!0),c=c.queue,Lh(Jp.bind(null,a,c,n),[n]),c.getSnapshot!==i||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ra(9,Xp.bind(null,a,c,d,i),void 0,null),St===null)throw Error(t(349));Yi&30||Yp(a,i,d)}return d}function Yp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Xp(n,i,a,c){i.value=a,i.getSnapshot=c,Zp(i)&&em(n)}function Jp(n,i,a){return a(function(){Zp(i)&&em(n)})}function Zp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!bn(n,a)}catch{return!0}}function em(n){var i=Tr(n,1);i!==null&&Mn(i,n,1,-1)}function tm(n){var i=Qn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:n},i.queue=n,n=n.dispatch=Z0.bind(null,et,n),[i.memoizedState,n]}function Ra(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function nm(){return vn().memoizedState}function du(n,i,a,c){var d=Qn();et.flags|=n,d.memoizedState=Ra(1|i,a,void 0,c===void 0?null:c)}function fu(n,i,a,c){var d=vn();c=c===void 0?null:c;var g=void 0;if(gt!==null){var _=gt.memoizedState;if(g=_.destroy,c!==null&&xh(c,_.deps)){d.memoizedState=Ra(i,a,g,c);return}}et.flags|=n,d.memoizedState=Ra(1|i,a,g,c)}function rm(n,i){return du(8390656,8,n,i)}function Lh(n,i){return fu(2048,8,n,i)}function im(n,i){return fu(4,2,n,i)}function sm(n,i){return fu(4,4,n,i)}function om(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function am(n,i,a){return a=a!=null?a.concat([n]):null,fu(4,4,om.bind(null,i,n),a)}function Vh(){}function lm(n,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&xh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function um(n,i){var a=vn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&xh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function cm(n,i,a){return Yi&21?(bn(a,i)||(a=Ui(),et.lanes|=a,Xi|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Xt=!0),n.memoizedState=a)}function X0(n,i){var a=xe;xe=a!==0&&4>a?a:4,n(!0);var c=Ph.transition;Ph.transition={};try{n(!1),i()}finally{xe=a,Ph.transition=c}}function hm(){return vn().memoizedState}function J0(n,i,a){var c=si(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},dm(n))fm(i,a);else if(a=$p(n,i,a,c),a!==null){var d=Wt();Mn(a,n,c,d),pm(a,i,c)}}function Z0(n,i,a){var c=si(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(dm(n))fm(i,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var _=i.lastRenderedState,C=g(_,a);if(d.hasEagerState=!0,d.eagerState=C,bn(C,_)){var x=i.interleaved;x===null?(d.next=d,Ih(i)):(d.next=x.next,x.next=d),i.interleaved=d;return}}catch{}finally{}a=$p(n,i,d,c),a!==null&&(d=Wt(),Mn(a,n,c,d),pm(a,i,c))}}function dm(n){var i=n.alternate;return n===et||i!==null&&i===et}function fm(n,i){Ta=hu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function pm(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Hr(n,a)}}var pu={readContext:yn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},eE={readContext:yn,useCallback:function(n,i){return Qn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:rm,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,du(4194308,4,om.bind(null,i,n),a)},useLayoutEffect:function(n,i){return du(4194308,4,n,i)},useInsertionEffect:function(n,i){return du(4,2,n,i)},useMemo:function(n,i){var a=Qn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Qn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=J0.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var i=Qn();return n={current:n},i.memoizedState=n},useState:tm,useDebugValue:Vh,useDeferredValue:function(n){return Qn().memoizedState=n},useTransition:function(){var n=tm(!1),i=n[0];return n=X0.bind(null,n[1]),Qn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=et,d=Qn();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),St===null)throw Error(t(349));Yi&30||Yp(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,rm(Jp.bind(null,c,g,n),[n]),c.flags|=2048,Ra(9,Xp.bind(null,c,g,a,i),void 0,null),a},useId:function(){var n=Qn(),i=St.identifierPrefix;if(Xe){var a=wr,c=Er;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ia++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Y0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},tE={readContext:yn,useCallback:lm,useContext:yn,useEffect:Lh,useImperativeHandle:am,useInsertionEffect:im,useLayoutEffect:sm,useMemo:um,useReducer:Dh,useRef:nm,useState:function(){return Dh(Sa)},useDebugValue:Vh,useDeferredValue:function(n){var i=vn();return cm(i,gt.memoizedState,n)},useTransition:function(){var n=Dh(Sa)[0],i=vn().memoizedState;return[n,i]},useMutableSource:Gp,useSyncExternalStore:Qp,useId:hm,unstable_isNewReconciler:!1},nE={readContext:yn,useCallback:lm,useContext:yn,useEffect:Lh,useImperativeHandle:am,useInsertionEffect:im,useLayoutEffect:sm,useMemo:um,useReducer:Oh,useRef:nm,useState:function(){return Oh(Sa)},useDebugValue:Vh,useDeferredValue:function(n){var i=vn();return gt===null?i.memoizedState=n:cm(i,gt.memoizedState,n)},useTransition:function(){var n=Oh(Sa)[0],i=vn().memoizedState;return[n,i]},useMutableSource:Gp,useSyncExternalStore:Qp,useId:hm,unstable_isNewReconciler:!1};function On(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Mh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var mu={isMounted:function(n){return(n=n._reactInternals)?Rn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=si(n),g=Ir(c,d);g.payload=i,a!=null&&(g.callback=a),i=ti(n,g,d),i!==null&&(Mn(i,n,d,c),au(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=si(n),g=Ir(c,d);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ti(n,g,d),i!==null&&(Mn(i,n,d,c),au(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Wt(),c=si(n),d=Ir(a,c);d.tag=2,i!=null&&(d.callback=i),i=ti(n,d,c),i!==null&&(Mn(i,n,c,a),au(i,n,c))}};function mm(n,i,a,c,d,g,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,_):i.prototype&&i.prototype.isPureReactComponent?!ha(a,c)||!ha(d,g):!0}function gm(n,i,a){var c=!1,d=Jr,g=i.contextType;return typeof g=="object"&&g!==null?g=yn(g):(d=Yt(i)?Wi:Ot.current,c=i.contextTypes,g=(c=c!=null)?Xs(n,d):Jr),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=mu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),i}function ym(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&mu.enqueueReplaceState(i,i.state,null)}function Fh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Sh(n);var g=i.contextType;typeof g=="object"&&g!==null?d.context=yn(g):(g=Yt(i)?Wi:Ot.current,d.context=Xs(n,g)),d.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Mh(n,i,g,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&mu.enqueueReplaceState(d,d.state,null),lu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function so(n,i){try{var a="",c=i;do a+=Ce(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:d,digest:null}}function Uh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function jh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function vm(n,i,a){a=Ir(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Tu||(Tu=!0,td=c),jh(n,i)},a}function _m(n,i,a){a=Ir(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){jh(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){jh(n,i),typeof c!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Em(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new rE;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=yE.bind(null,n,i,a),i.then(n,n))}function wm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Tm(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ir(-1,1),i.tag=2,ti(a,i,1))),a.lanes|=1),n)}var iE=te.ReactCurrentOwner,Xt=!1;function Ht(n,i,a,c){i.child=n===null?Bp(i,null,a,c):to(i,n.child,a,c)}function Im(n,i,a,c,d){a=a.render;var g=i.ref;return ro(i,d),c=Nh(n,i,a,c,g,d),a=bh(),n!==null&&!Xt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Sr(n,i,d)):(Xe&&a&&ph(i),i.flags|=1,Ht(n,i,c,d),i.child)}function Sm(n,i,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!ld(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,Rm(n,i,g,c,d)):(n=Au(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!(n.lanes&d)){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:ha,a(_,c)&&n.ref===i.ref)return Sr(n,i,d)}return i.flags|=1,n=ai(g,c),n.ref=i.ref,n.return=i,i.child=n}function Rm(n,i,a,c,d){if(n!==null){var g=n.memoizedProps;if(ha(g,c)&&n.ref===i.ref)if(Xt=!1,i.pendingProps=c=g,(n.lanes&d)!==0)n.flags&131072&&(Xt=!0);else return i.lanes=n.lanes,Sr(n,i,d)}return zh(n,i,a,c,d)}function Cm(n,i,a){var c=i.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ao,un),un|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ke(ao,un),un|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ke(ao,un),un|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,Ke(ao,un),un|=c;return Ht(n,i,d,a),i.child}function km(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function zh(n,i,a,c,d){var g=Yt(a)?Wi:Ot.current;return g=Xs(i,g),ro(i,d),a=Nh(n,i,a,c,g,d),c=bh(),n!==null&&!Xt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Sr(n,i,d)):(Xe&&c&&ph(i),i.flags|=1,Ht(n,i,a,d),i.child)}function Am(n,i,a,c,d){if(Yt(a)){var g=!0;Zl(i)}else g=!1;if(ro(i,d),i.stateNode===null)yu(n,i),gm(i,a,c),Fh(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,C=i.memoizedProps;_.props=C;var x=_.context,W=a.contextType;typeof W=="object"&&W!==null?W=yn(W):(W=Yt(a)?Wi:Ot.current,W=Xs(i,W));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||x!==W)&&ym(i,_,c,W),ei=!1;var X=i.memoizedState;_.state=X,lu(i,c,_,d),x=i.memoizedState,C!==c||X!==x||Qt.current||ei?(typeof J=="function"&&(Mh(i,a,J,c),x=i.memoizedState),(C=ei||mm(i,a,C,c,X,x,W))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=x),_.props=c,_.state=x,_.context=W,c=C):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Hp(n,i),C=i.memoizedProps,W=i.type===i.elementType?C:On(i.type,C),_.props=W,Z=i.pendingProps,X=_.context,x=a.contextType,typeof x=="object"&&x!==null?x=yn(x):(x=Yt(a)?Wi:Ot.current,x=Xs(i,x));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==Z||X!==x)&&ym(i,_,c,x),ei=!1,X=i.memoizedState,_.state=X,lu(i,c,_,d);var ue=i.memoizedState;C!==Z||X!==ue||Qt.current||ei?(typeof se=="function"&&(Mh(i,a,se,c),ue=i.memoizedState),(W=ei||mm(i,a,W,c,X,ue,x)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,x)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),_.props=c,_.state=ue,_.context=x,c=W):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),c=!1)}return Bh(n,i,a,c,g,d)}function Bh(n,i,a,c,d,g){km(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&Dp(i,a,!1),Sr(n,i,g);c=i.stateNode,iE.current=i;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=to(i,n.child,null,g),i.child=to(i,null,C,g)):Ht(n,i,C,g),i.memoizedState=c.state,d&&Dp(i,a,!0),i.child}function Pm(n){var i=n.stateNode;i.pendingContext?Np(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Np(n,i.context,!1),Rh(n,i.containerInfo)}function xm(n,i,a,c,d){return eo(),vh(d),i.flags|=256,Ht(n,i,a,c),i.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Hh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Nm(n,i,a){var c=i.pendingProps,d=Ze.current,g=!1,_=(i.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ke(Ze,d&1),n===null)return yh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,g?(c=i.mode,g=i.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Pu(_,c,0,null),n=ts(n,c,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=Hh(a),i.memoizedState=$h,n):Wh(i,_));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return sE(n,i,_,c,C,d,a);if(g){g=c.fallback,_=i.mode,d=n.child,C=d.sibling;var x={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=x,i.deletions=null):(c=ai(d,x),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?g=ai(C,g):(g=ts(g,_,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,_=n.child.memoizedState,_=_===null?Hh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=n.childLanes&~a,i.memoizedState=$h,c}return g=n.child,n=g.sibling,c=ai(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Wh(n,i){return i=Pu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function gu(n,i,a,c){return c!==null&&vh(c),to(i,n.child,null,a),n=Wh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function sE(n,i,a,c,d,g,_){if(a)return i.flags&256?(i.flags&=-257,c=Uh(Error(t(422))),gu(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=c.fallback,d=i.mode,c=Pu({mode:"visible",children:c.children},d,0,null),g=ts(g,d,_,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&to(i,n.child,null,_),i.child.memoizedState=Hh(_),i.memoizedState=$h,g);if(!(i.mode&1))return gu(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=Uh(g,c,void 0),gu(n,i,_,c)}if(C=(_&n.childLanes)!==0,Xt||C){if(c=St,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Tr(n,d),Mn(c,n,d,-1))}return ad(),c=Uh(Error(t(421))),gu(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=vE.bind(null,n),d._reactRetry=i,null):(n=g.treeContext,ln=Yr(d.nextSibling),an=i,Xe=!0,Dn=null,n!==null&&(mn[gn++]=Er,mn[gn++]=wr,mn[gn++]=qi,Er=n.id,wr=n.overflow,qi=i),i=Wh(i,c.children),i.flags|=4096,i)}function bm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Th(n.return,i,a)}function qh(n,i,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Dm(n,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(Ht(n,i,c.children,a),c=Ze.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bm(n,a,i);else if(n.tag===19)bm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ke(Ze,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&uu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),qh(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&uu(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}qh(i,!0,a,null,g);break;case"together":qh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function yu(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Sr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Xi|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ai(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ai(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function oE(n,i,a){switch(i.tag){case 3:Pm(i),eo();break;case 5:Kp(i);break;case 1:Yt(i.type)&&Zl(i);break;case 4:Rh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ke(su,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ke(Ze,Ze.current&1),i.flags|=128,null):a&i.child.childLanes?Nm(n,i,a):(Ke(Ze,Ze.current&1),n=Sr(n,i,a),n!==null?n.sibling:null);Ke(Ze,Ze.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return Dm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(Ze,Ze.current),c)break;return null;case 22:case 23:return i.lanes=0,Cm(n,i,a)}return Sr(n,i,a)}var Om,Kh,Lm,Vm;Om=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Kh=function(){},Lm=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Qi(Gn.current);var g=null;switch(a){case"input":d=Ai(n,d),c=Ai(n,c),g=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":d=jo(n,d),c=jo(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Yl)}qo(a,c);var _;a=null;for(W in d)if(!c.hasOwnProperty(W)&&d.hasOwnProperty(W)&&d[W]!=null)if(W==="style"){var C=d[W];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var x=c[W];if(C=d!=null?d[W]:void 0,c.hasOwnProperty(W)&&x!==C&&(x!=null||C!=null))if(W==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in x)x.hasOwnProperty(_)&&C[_]!==x[_]&&(a||(a={}),a[_]=x[_])}else a||(g||(g=[]),g.push(W,a)),a=x;else W==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(g=g||[]).push(W,x)):W==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(W,""+x):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(x!=null&&W==="onScroll"&&Ge("scroll",n),g||C===x||(g=[])):(g=g||[]).push(W,x))}a&&(g=g||[]).push("style",a);var W=g;(i.updateQueue=W)&&(i.flags|=4)}},Vm=function(n,i,a,c){a!==c&&(i.flags|=4)};function Ca(n,i){if(!Xe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function aE(n,i,a){var c=i.pendingProps;switch(mh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Yt(i.type)&&Jl(),Vt(i),null;case 3:return c=i.stateNode,io(),Qe(Qt),Qe(Ot),Ah(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ru(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Dn!==null&&(id(Dn),Dn=null))),Kh(n,i),Vt(i),null;case 5:Ch(i);var d=Qi(wa.current);if(a=i.type,n!==null&&i.stateNode!=null)Lm(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Vt(i),null}if(n=Qi(Gn.current),ru(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Kn]=i,c[ga]=g,n=(i.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<fa.length;d++)Ge(fa[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":_s(c,g),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",c);break;case"textarea":ws(c,g),Ge("invalid",c)}qo(a,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var C=g[_];_==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&Ql(c.textContent,C,n),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Ql(c.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Ge("scroll",c)}switch(a){case"input":lr(c),wl(c,g,!0);break;case"textarea":lr(c),zo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Yl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ft(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Kn]=i,n[ga]=c,Om(n,i,!1,!1),i.stateNode=n;e:{switch(_=Ko(a,c),a){case"dialog":Ge("cancel",n),Ge("close",n),d=c;break;case"iframe":case"object":case"embed":Ge("load",n),d=c;break;case"video":case"audio":for(d=0;d<fa.length;d++)Ge(fa[d],n);d=c;break;case"source":Ge("error",n),d=c;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),d=c;break;case"details":Ge("toggle",n),d=c;break;case"input":_s(n,c),d=Ai(n,c),Ge("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),Ge("invalid",n);break;case"textarea":ws(n,c),d=jo(n,c),Ge("invalid",n);break;default:d=c}qo(a,d),C=d;for(g in C)if(C.hasOwnProperty(g)){var x=C[g];g==="style"?Ho(n,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Bo(n,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Ur(n,x):typeof x=="number"&&Ur(n,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Ge("scroll",n):x!=null&&G(n,g,x,_))}switch(a){case"input":lr(n),wl(n,c,!1);break;case"textarea":lr(n),zo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+je(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?cr(n,!!c.multiple,g,!1):c.defaultValue!=null&&cr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Yl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(n&&i.stateNode!=null)Vm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Qi(wa.current),Qi(Gn.current),ru(i)){if(c=i.stateNode,a=i.memoizedProps,c[Kn]=i,(g=c.nodeValue!==a)&&(n=an,n!==null))switch(n.tag){case 3:Ql(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ql(c.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Kn]=i,i.stateNode=c}return Vt(i),null;case 13:if(Qe(Ze),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&ln!==null&&i.mode&1&&!(i.flags&128))Up(),eo(),i.flags|=98560,g=!1;else if(g=ru(i),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Kn]=i}else eo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Vt(i),g=!1}else Dn!==null&&(id(Dn),Dn=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Ze.current&1?yt===0&&(yt=3):ad())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return io(),Kh(n,i),n===null&&pa(i.stateNode.containerInfo),Vt(i),null;case 10:return wh(i.type._context),Vt(i),null;case 17:return Yt(i.type)&&Jl(),Vt(i),null;case 19:if(Qe(Ze),g=i.memoizedState,g===null)return Vt(i),null;if(c=(i.flags&128)!==0,_=g.rendering,_===null)if(c)Ca(g,!1);else{if(yt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=uu(n),_!==null){for(i.flags|=128,Ca(g,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,n=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,n=_.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ke(Ze,Ze.current&1|2),i.child}n=n.sibling}g.tail!==null&&qe()>lo&&(i.flags|=128,c=!0,Ca(g,!1),i.lanes=4194304)}else{if(!c)if(n=uu(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ca(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Xe)return Vt(i),null}else 2*qe()-g.renderingStartTime>lo&&a!==1073741824&&(i.flags|=128,c=!0,Ca(g,!1),i.lanes=4194304);g.isBackwards?(_.sibling=i.child,i.child=_):(a=g.last,a!==null?a.sibling=_:i.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=qe(),i.sibling=null,a=Ze.current,Ke(Ze,c?a&1|2:a&1),i):(Vt(i),null);case 22:case 23:return od(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?un&1073741824&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function lE(n,i){switch(mh(i),i.tag){case 1:return Yt(i.type)&&Jl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return io(),Qe(Qt),Qe(Ot),Ah(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Ch(i),null;case 13:if(Qe(Ze),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));eo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Qe(Ze),null;case 4:return io(),null;case 10:return wh(i.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var vu=!1,Mt=!1,uE=typeof WeakSet=="function"?WeakSet:Set,le=null;function oo(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(n,i,c)}else a.current=null}function Gh(n,i,a){try{a()}catch(c){rt(n,i,c)}}var Mm=!1;function cE(n,i){if(oh=Kr,n=mp(),Jc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,C=-1,x=-1,W=0,J=0,Z=n,X=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(C=_+d),Z!==g||c!==0&&Z.nodeType!==3||(x=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(se=Z.firstChild)!==null;)X=Z,Z=se;for(;;){if(Z===n)break t;if(X===a&&++W===d&&(C=_),X===g&&++J===c&&(x=_),(se=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=se}a=C===-1||x===-1?null:{start:C,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(ah={focusedElem:n,selectionRange:a},Kr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,ot=ue.memoizedState,z=i.stateNode,L=z.getSnapshotBeforeUpdate(i.elementType===i.type?ce:On(i.type,ce),ot);z.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){rt(i,i.return,ne)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ue=Mm,Mm=!1,ue}function ka(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&Gh(i,a,g)}d=d.next}while(d!==c)}}function _u(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Qh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Fm(n){var i=n.alternate;i!==null&&(n.alternate=null,Fm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Kn],delete i[ga],delete i[hh],delete i[q0],delete i[K0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Um(n){return n.tag===5||n.tag===3||n.tag===4}function jm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Um(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Yh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yl));else if(c!==4&&(n=n.child,n!==null))for(Yh(n,i,a),n=n.sibling;n!==null;)Yh(n,i,a),n=n.sibling}function Xh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Xh(n,i,a),n=n.sibling;n!==null;)Xh(n,i,a),n=n.sibling}var Pt=null,Ln=!1;function ni(n,i,a){for(a=a.child;a!==null;)zm(n,i,a),a=a.sibling}function zm(n,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Mi,a)}catch{}switch(a.tag){case 5:Mt||oo(a,i);case 6:var c=Pt,d=Ln;Pt=null,ni(n,i,a),Pt=c,Ln=d,Pt!==null&&(Ln?(n=Pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Ln?(n=Pt,a=a.stateNode,n.nodeType===8?ch(n.parentNode,a):n.nodeType===1&&ch(n,a),xn(n)):ch(Pt,a.stateNode));break;case 4:c=Pt,d=Ln,Pt=a.stateNode.containerInfo,Ln=!0,ni(n,i,a),Pt=c,Ln=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&Gh(a,i,_),d=d.next}while(d!==c)}ni(n,i,a);break;case 1:if(!Mt&&(oo(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){rt(a,i,C)}ni(n,i,a);break;case 21:ni(n,i,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ni(n,i,a),Mt=c):ni(n,i,a);break;default:ni(n,i,a)}}function Bm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new uE),i.forEach(function(c){var d=_E.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Vn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 5:Pt=C.stateNode,Ln=!1;break e;case 3:Pt=C.stateNode.containerInfo,Ln=!0;break e;case 4:Pt=C.stateNode.containerInfo,Ln=!0;break e}C=C.return}if(Pt===null)throw Error(t(160));zm(g,_,d),Pt=null,Ln=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(W){rt(d,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)$m(i,n),i=i.sibling}function $m(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vn(i,n),Yn(n),c&4){try{ka(3,n,n.return),_u(3,n)}catch(ce){rt(n,n.return,ce)}try{ka(5,n,n.return)}catch(ce){rt(n,n.return,ce)}}break;case 1:Vn(i,n),Yn(n),c&512&&a!==null&&oo(a,a.return);break;case 5:if(Vn(i,n),Yn(n),c&512&&a!==null&&oo(a,a.return),n.flags&32){var d=n.stateNode;try{Ur(d,"")}catch(ce){rt(n,n.return,ce)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,_=a!==null?a.memoizedProps:g,C=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Fo(d,g),Ko(C,_);var W=Ko(C,g);for(_=0;_<x.length;_+=2){var J=x[_],Z=x[_+1];J==="style"?Ho(d,Z):J==="dangerouslySetInnerHTML"?Bo(d,Z):J==="children"?Ur(d,Z):G(d,J,Z,W)}switch(C){case"input":Uo(d,g);break;case"textarea":Ts(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?cr(d,!!g.multiple,se,!1):X!==!!g.multiple&&(g.defaultValue!=null?cr(d,!!g.multiple,g.defaultValue,!0):cr(d,!!g.multiple,g.multiple?[]:"",!1))}d[ga]=g}catch(ce){rt(n,n.return,ce)}}break;case 6:if(Vn(i,n),Yn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(ce){rt(n,n.return,ce)}}break;case 3:if(Vn(i,n),Yn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xn(i.containerInfo)}catch(ce){rt(n,n.return,ce)}break;case 4:Vn(i,n),Yn(n);break;case 13:Vn(i,n),Yn(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(ed=qe())),c&4&&Bm(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(W=Mt)||J,Vn(i,n),Mt=W):Vn(i,n),Yn(n),c&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!J&&n.mode&1)for(le=n,J=n.child;J!==null;){for(Z=le=J;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:ka(4,X,X.return);break;case 1:oo(X,X.return);var ue=X.stateNode;if(typeof ue.componentWillUnmount=="function"){c=X,a=X.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){rt(c,a,ce)}}break;case 5:oo(X,X.return);break;case 22:if(X.memoizedState!==null){qm(Z);continue}}se!==null?(se.return=X,le=se):qm(Z)}J=J.sibling}e:for(J=null,Z=n;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,W?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=Z.stateNode,x=Z.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=$o("display",_))}catch(ce){rt(n,n.return,ce)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=W?"":Z.memoizedProps}catch(ce){rt(n,n.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Vn(i,n),Yn(n),c&4&&Bm(n);break;case 21:break;default:Vn(i,n),Yn(n)}}function Yn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Um(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ur(d,""),c.flags&=-33);var g=jm(n);Xh(n,g,d);break;case 3:case 4:var _=c.stateNode.containerInfo,C=jm(n);Yh(n,C,_);break;default:throw Error(t(161))}}catch(x){rt(n,n.return,x)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function hE(n,i,a){le=n,Hm(n)}function Hm(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,g=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||vu;if(!_){var C=d.alternate,x=C!==null&&C.memoizedState!==null||Mt;C=vu;var W=Mt;if(vu=_,(Mt=x)&&!W)for(le=d;le!==null;)_=le,x=_.child,_.tag===22&&_.memoizedState!==null?Km(d):x!==null?(x.return=_,le=x):Km(d);for(;g!==null;)le=g,Hm(g),g=g.sibling;le=d,vu=C,Mt=W}Wm(n)}else d.subtreeFlags&8772&&g!==null?(g.return=d,le=g):Wm(n)}}function Wm(n){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Mt||_u(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:On(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&qp(i,g,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}qp(i,_,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var x=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var J=W.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&xn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&Qh(i)}catch(X){rt(i,i.return,X)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function qm(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function Km(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{_u(4,i)}catch(x){rt(i,a,x)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(x){rt(i,d,x)}}var g=i.return;try{Qh(i)}catch(x){rt(i,g,x)}break;case 5:var _=i.return;try{Qh(i)}catch(x){rt(i,_,x)}}}catch(x){rt(i,i.return,x)}if(i===n){le=null;break}var C=i.sibling;if(C!==null){C.return=i.return,le=C;break}le=i.return}}var dE=Math.ceil,Eu=te.ReactCurrentDispatcher,Jh=te.ReactCurrentOwner,_n=te.ReactCurrentBatchConfig,Le=0,St=null,ut=null,xt=0,un=0,ao=Xr(0),yt=0,Aa=null,Xi=0,wu=0,Zh=0,Pa=null,Jt=null,ed=0,lo=1/0,Rr=null,Tu=!1,td=null,ri=null,Iu=!1,ii=null,Su=0,xa=0,nd=null,Ru=-1,Cu=0;function Wt(){return Le&6?qe():Ru!==-1?Ru:Ru=qe()}function si(n){return n.mode&1?Le&2&&xt!==0?xt&-xt:Q0.transition!==null?(Cu===0&&(Cu=Ui()),Cu):(n=xe,n!==0||(n=window.event,n=n===void 0?16:ia(n.type)),n):1}function Mn(n,i,a,c){if(50<xa)throw xa=0,nd=null,Error(t(185));$r(n,a,c),(!(Le&2)||n!==St)&&(n===St&&(!(Le&2)&&(wu|=a),yt===4&&oi(n,xt)),Zt(n,c),a===1&&Le===0&&!(i.mode&1)&&(lo=qe()+500,eu&&Zr()))}function Zt(n,i){var a=n.callbackNode;fr(n,i);var c=Fi(n,n===St?xt:0);if(c===0)a!==null&&Zo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Zo(a),i===1)n.tag===0?G0(Qm.bind(null,n)):Op(Qm.bind(null,n)),H0(function(){!(Le&6)&&Zr()}),a=null;else{switch(Wr(c)){case 1:a=Vi;break;case 4:a=jr;break;case 16:a=dn;break;case 536870912:a=Cl;break;default:a=dn}a=rg(a,Gm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Gm(n,i){if(Ru=-1,Cu=0,Le&6)throw Error(t(327));var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var c=Fi(n,n===St?xt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=ku(n,c);else{i=c;var d=Le;Le|=2;var g=Xm();(St!==n||xt!==i)&&(Rr=null,lo=qe()+500,Zi(n,i));do try{mE();break}catch(C){Ym(n,C)}while(!0);Eh(),Eu.current=g,Le=d,ut!==null?i=0:(St=null,xt=0,i=yt)}if(i!==0){if(i===2&&(d=rn(n),d!==0&&(c=d,i=rd(n,d))),i===1)throw a=Aa,Zi(n,0),oi(n,c),Zt(n,qe()),a;if(i===6)oi(n,c);else{if(d=n.current.alternate,!(c&30)&&!fE(d)&&(i=ku(n,c),i===2&&(g=rn(n),g!==0&&(c=g,i=rd(n,g))),i===1))throw a=Aa,Zi(n,0),oi(n,c),Zt(n,qe()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:es(n,Jt,Rr);break;case 3:if(oi(n,c),(c&130023424)===c&&(i=ed+500-qe(),10<i)){if(Fi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=uh(es.bind(null,n,Jt,Rr),i);break}es(n,Jt,Rr);break;case 4:if(oi(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-Bt(c);g=1<<_,_=i[_],_>d&&(d=_),c&=~g}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*dE(c/1960))-c,10<c){n.timeoutHandle=uh(es.bind(null,n,Jt,Rr),c);break}es(n,Jt,Rr);break;case 5:es(n,Jt,Rr);break;default:throw Error(t(329))}}}return Zt(n,qe()),n.callbackNode===a?Gm.bind(null,n):null}function rd(n,i){var a=Pa;return n.current.memoizedState.isDehydrated&&(Zi(n,i).flags|=256),n=ku(n,i),n!==2&&(i=Jt,Jt=a,i!==null&&id(i)),n}function id(n){Jt===null?Jt=n:Jt.push.apply(Jt,n)}function fE(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!bn(g(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function oi(n,i){for(i&=~Zh,i&=~wu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Bt(i),c=1<<a;n[a]=-1,i&=~c}}function Qm(n){if(Le&6)throw Error(t(327));uo();var i=Fi(n,0);if(!(i&1))return Zt(n,qe()),null;var a=ku(n,i);if(n.tag!==0&&a===2){var c=rn(n);c!==0&&(i=c,a=rd(n,c))}if(a===1)throw a=Aa,Zi(n,0),oi(n,i),Zt(n,qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,es(n,Jt,Rr),Zt(n,qe()),null}function sd(n,i){var a=Le;Le|=1;try{return n(i)}finally{Le=a,Le===0&&(lo=qe()+500,eu&&Zr())}}function Ji(n){ii!==null&&ii.tag===0&&!(Le&6)&&uo();var i=Le;Le|=1;var a=_n.transition,c=xe;try{if(_n.transition=null,xe=1,n)return n()}finally{xe=c,_n.transition=a,Le=i,!(Le&6)&&Zr()}}function od(){un=ao.current,Qe(ao)}function Zi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,$0(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(mh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Jl();break;case 3:io(),Qe(Qt),Qe(Ot),Ah();break;case 5:Ch(c);break;case 4:io();break;case 13:Qe(Ze);break;case 19:Qe(Ze);break;case 10:wh(c.type._context);break;case 22:case 23:od()}a=a.return}if(St=n,ut=n=ai(n.current,null),xt=un=i,yt=0,Aa=null,Zh=wu=Xi=0,Jt=Pa=null,Gi!==null){for(i=0;i<Gi.length;i++)if(a=Gi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var _=g.next;g.next=d,c.next=_}a.pending=c}Gi=null}return n}function Ym(n,i){do{var a=ut;try{if(Eh(),cu.current=pu,hu){for(var c=et.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}hu=!1}if(Yi=0,It=gt=et=null,Ta=!1,Ia=0,Jh.current=null,a===null||a.return===null){yt=1,Aa=i,ut=null;break}e:{var g=n,_=a.return,C=a,x=i;if(i=xt,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=x,J=C,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=wm(_);if(se!==null){se.flags&=-257,Tm(se,_,C,g,i),se.mode&1&&Em(g,W,i),i=se,x=W;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(x),i.updateQueue=ce}else ue.add(x);break e}else{if(!(i&1)){Em(g,W,i),ad();break e}x=Error(t(426))}}else if(Xe&&C.mode&1){var ot=wm(_);if(ot!==null){!(ot.flags&65536)&&(ot.flags|=256),Tm(ot,_,C,g,i),vh(so(x,C));break e}}g=x=so(x,C),yt!==4&&(yt=2),Pa===null?Pa=[g]:Pa.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var z=vm(g,x,i);Wp(g,z);break e;case 1:C=x;var L=g.type,$=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ri===null||!ri.has($)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=_m(g,C,i);Wp(g,ne);break e}}g=g.return}while(g!==null)}Zm(a)}catch(he){i=he,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function Xm(){var n=Eu.current;return Eu.current=pu,n===null?pu:n}function ad(){(yt===0||yt===3||yt===2)&&(yt=4),St===null||!(Xi&268435455)&&!(wu&268435455)||oi(St,xt)}function ku(n,i){var a=Le;Le|=2;var c=Xm();(St!==n||xt!==i)&&(Rr=null,Zi(n,i));do try{pE();break}catch(d){Ym(n,d)}while(!0);if(Eh(),Le=a,Eu.current=c,ut!==null)throw Error(t(261));return St=null,xt=0,yt}function pE(){for(;ut!==null;)Jm(ut)}function mE(){for(;ut!==null&&!Sl();)Jm(ut)}function Jm(n){var i=ng(n.alternate,n,un);n.memoizedProps=n.pendingProps,i===null?Zm(n):ut=i,Jh.current=null}function Zm(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=lE(a,i),a!==null){a.flags&=32767,ut=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yt=6,ut=null;return}}else if(a=aE(a,i,un),a!==null){ut=a;return}if(i=i.sibling,i!==null){ut=i;return}ut=i=n}while(i!==null);yt===0&&(yt=5)}function es(n,i,a){var c=xe,d=_n.transition;try{_n.transition=null,xe=1,gE(n,i,a,c)}finally{_n.transition=d,xe=c}return null}function gE(n,i,a,c){do uo();while(ii!==null);if(Le&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(He(n,g),n===St&&(ut=St=null,xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Iu||(Iu=!0,rg(dn,function(){return uo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=_n.transition,_n.transition=null;var _=xe;xe=1;var C=Le;Le|=4,Jh.current=null,cE(n,a),$m(a,n),V0(ah),Kr=!!oh,ah=oh=null,n.current=a,hE(a),Hc(),Le=C,xe=_,_n.transition=g}else n.current=a;if(Iu&&(Iu=!1,ii=n,Su=d),g=n.pendingLanes,g===0&&(ri=null),kl(a.stateNode),Zt(n,qe()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Tu)throw Tu=!1,n=td,td=null,n;return Su&1&&n.tag!==0&&uo(),g=n.pendingLanes,g&1?n===nd?xa++:(xa=0,nd=n):xa=0,Zr(),null}function uo(){if(ii!==null){var n=Wr(Su),i=_n.transition,a=xe;try{if(_n.transition=null,xe=16>n?16:n,ii===null)var c=!1;else{if(n=ii,ii=null,Su=0,Le&6)throw Error(t(331));var d=Le;for(Le|=4,le=n.current;le!==null;){var g=le,_=g.child;if(le.flags&16){var C=g.deletions;if(C!==null){for(var x=0;x<C.length;x++){var W=C[x];for(le=W;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:ka(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var X=J.sibling,se=J.return;if(Fm(J),J===W){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ue=g.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var ot=ce.sibling;ce.sibling=null,ce=ot}while(ce!==null)}}le=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,le=_;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ka(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,le=z;break e}le=g.return}}var L=n.current;for(le=L;le!==null;){_=le;var $=_.child;if(_.subtreeFlags&2064&&$!==null)$.return=_,le=$;else e:for(_=L;le!==null;){if(C=le,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:_u(9,C)}}catch(he){rt(C,C.return,he)}if(C===_){le=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,le=ne;break e}le=C.return}}if(Le=d,Zr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Mi,n)}catch{}c=!0}return c}finally{xe=a,_n.transition=i}}return!1}function eg(n,i,a){i=so(a,i),i=vm(n,i,1),n=ti(n,i,1),i=Wt(),n!==null&&($r(n,1,i),Zt(n,i))}function rt(n,i,a){if(n.tag===3)eg(n,n,a);else for(;i!==null;){if(i.tag===3){eg(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ri===null||!ri.has(c))){n=so(a,n),n=_m(i,n,1),i=ti(i,n,1),n=Wt(),i!==null&&($r(i,1,n),Zt(i,n));break}}i=i.return}}function yE(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Wt(),n.pingedLanes|=n.suspendedLanes&a,St===n&&(xt&a)===a&&(yt===4||yt===3&&(xt&130023424)===xt&&500>qe()-ed?Zi(n,0):Zh|=a),Zt(n,i)}function tg(n,i){i===0&&(n.mode&1?(i=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):i=1);var a=Wt();n=Tr(n,i),n!==null&&($r(n,i,a),Zt(n,a))}function vE(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),tg(n,a)}function _E(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),tg(n,a)}var ng;ng=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Qt.current)Xt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Xt=!1,oE(n,i,a);Xt=!!(n.flags&131072)}else Xt=!1,Xe&&i.flags&1048576&&Lp(i,nu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;yu(n,i),n=i.pendingProps;var d=Xs(i,Ot.current);ro(i,a),d=Nh(null,i,c,n,d,a);var g=bh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yt(c)?(g=!0,Zl(i)):g=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Sh(i),d.updater=mu,i.stateNode=d,d._reactInternals=i,Fh(i,c,n,a),i=Bh(null,i,c,!0,g,a)):(i.tag=0,Xe&&g&&ph(i),Ht(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(yu(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=wE(c),n=On(c,n),d){case 0:i=zh(null,i,c,n,a);break e;case 1:i=Am(null,i,c,n,a);break e;case 11:i=Im(null,i,c,n,a);break e;case 14:i=Sm(null,i,c,On(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:On(c,d),zh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:On(c,d),Am(n,i,c,d,a);case 3:e:{if(Pm(i),n===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,d=g.element,Hp(n,i),lu(i,c,null,a);var _=i.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){d=so(Error(t(423)),i),i=xm(n,i,c,a,d);break e}else if(c!==d){d=so(Error(t(424)),i),i=xm(n,i,c,a,d);break e}else for(ln=Yr(i.stateNode.containerInfo.firstChild),an=i,Xe=!0,Dn=null,a=Bp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(eo(),c===d){i=Sr(n,i,a);break e}Ht(n,i,c,a)}i=i.child}return i;case 5:return Kp(i),n===null&&yh(i),c=i.type,d=i.pendingProps,g=n!==null?n.memoizedProps:null,_=d.children,lh(c,d)?_=null:g!==null&&lh(c,g)&&(i.flags|=32),km(n,i),Ht(n,i,_,a),i.child;case 6:return n===null&&yh(i),null;case 13:return Nm(n,i,a);case 4:return Rh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=to(i,null,c,a):Ht(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:On(c,d),Im(n,i,c,d,a);case 7:return Ht(n,i,i.pendingProps,a),i.child;case 8:return Ht(n,i,i.pendingProps.children,a),i.child;case 12:return Ht(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,g=i.memoizedProps,_=d.value,Ke(su,c._currentValue),c._currentValue=_,g!==null)if(bn(g.value,_)){if(g.children===d.children&&!Qt.current){i=Sr(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var C=g.dependencies;if(C!==null){_=g.child;for(var x=C.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=Ir(-1,a&-a),x.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var J=W.pending;J===null?x.next=x:(x.next=J.next,J.next=x),W.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),Th(g.return,a,i),C.lanes|=a;break}x=x.next}}else if(g.tag===10)_=g.type===i.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),Th(_,a,i),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ht(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,ro(i,a),d=yn(d),c=c(d),i.flags|=1,Ht(n,i,c,a),i.child;case 14:return c=i.type,d=On(c,i.pendingProps),d=On(c.type,d),Sm(n,i,c,d,a);case 15:return Rm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:On(c,d),yu(n,i),i.tag=1,Yt(c)?(n=!0,Zl(i)):n=!1,ro(i,a),gm(i,c,d),Fh(i,c,d,a),Bh(null,i,c,!0,n,a);case 19:return Dm(n,i,a);case 22:return Cm(n,i,a)}throw Error(t(156,i.tag))};function rg(n,i){return xs(n,i)}function EE(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,a,c){return new EE(n,i,a,c)}function ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wE(n){if(typeof n=="function")return ld(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===ht)return 14}return 2}function ai(n,i){var a=n.alternate;return a===null?(a=En(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Au(n,i,a,c,d,g){var _=2;if(c=n,typeof n=="function")ld(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case A:return ts(a.children,d,g,i);case T:_=8,d|=8;break;case R:return n=En(12,a,i,d|2),n.elementType=R,n.lanes=g,n;case k:return n=En(13,a,i,d),n.elementType=k,n.lanes=g,n;case Je:return n=En(19,a,i,d),n.elementType=Je,n.lanes=g,n;case Ve:return Pu(a,d,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:_=10;break e;case O:_=9;break e;case M:_=11;break e;case ht:_=14;break e;case dt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=En(_,a,i,d),i.elementType=n,i.type=c,i.lanes=g,i}function ts(n,i,a,c){return n=En(7,n,c,i),n.lanes=a,n}function Pu(n,i,a,c){return n=En(22,n,c,i),n.elementType=Ve,n.lanes=a,n.stateNode={isHidden:!1},n}function ud(n,i,a){return n=En(6,n,null,i),n.lanes=a,n}function cd(n,i,a){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function TE(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Br(0),this.expirationTimes=Br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function hd(n,i,a,c,d,g,_,C,x){return n=new TE(n,i,a,C,x),i===1?(i=1,g===!0&&(i|=8)):i=0,g=En(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(g),n}function IE(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function ig(n){if(!n)return Jr;n=n._reactInternals;e:{if(Rn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Yt(a))return bp(n,a,i)}return i}function sg(n,i,a,c,d,g,_,C,x){return n=hd(a,c,!0,n,d,g,_,C,x),n.context=ig(null),a=n.current,c=Wt(),d=si(a),g=Ir(c,d),g.callback=i??null,ti(a,g,d),n.current.lanes=d,$r(n,d,c),Zt(n,c),n}function xu(n,i,a,c){var d=i.current,g=Wt(),_=si(d);return a=ig(a),i.context===null?i.context=a:i.pendingContext=a,i=Ir(g,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ti(d,i,_),n!==null&&(Mn(n,d,_,g),au(n,d,_)),_}function Nu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function og(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function dd(n,i){og(n,i),(n=n.alternate)&&og(n,i)}var ag=typeof reportError=="function"?reportError:function(n){console.error(n)};function fd(n){this._internalRoot=n}bu.prototype.render=fd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));xu(n,i,null,null)},bu.prototype.unmount=fd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ji(function(){xu(null,n,null,null)}),i[vr]=null}};function bu(n){this._internalRoot=n}bu.prototype.unstable_scheduleHydration=function(n){if(n){var i=bl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<$n.length&&i!==0&&i<$n[a].priority;a++);$n.splice(a,0,n),a===0&&Ll(n)}};function pd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Du(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function lg(){}function SE(n,i,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var W=Nu(_);g.call(W)}}var _=sg(i,c,n,0,null,!1,!1,"",lg);return n._reactRootContainer=_,n[vr]=_.current,pa(n.nodeType===8?n.parentNode:n),Ji(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var W=Nu(x);C.call(W)}}var x=hd(n,0,!1,null,null,!1,!1,"",lg);return n._reactRootContainer=x,n[vr]=x.current,pa(n.nodeType===8?n.parentNode:n),Ji(function(){xu(i,x,a,c)}),x}function Ou(n,i,a,c,d){var g=a._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var C=d;d=function(){var x=Nu(_);C.call(x)}}xu(i,_,n,d)}else _=SE(a,i,n,d,c);return Nu(_)}xl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=zr(i.pendingLanes);a!==0&&(Hr(i,a|1),Zt(i,qe()),!(Le&6)&&(lo=qe()+500,Zr()))}break;case 13:Ji(function(){var c=Tr(n,1);if(c!==null){var d=Wt();Mn(c,n,1,d)}}),dd(n,1)}},Ds=function(n){if(n.tag===13){var i=Tr(n,134217728);if(i!==null){var a=Wt();Mn(i,n,134217728,a)}dd(n,134217728)}},Nl=function(n){if(n.tag===13){var i=si(n),a=Tr(n,i);if(a!==null){var c=Wt();Mn(a,n,i,c)}dd(n,i)}},bl=function(){return xe},Dl=function(n,i){var a=xe;try{return xe=n,i()}finally{xe=a}},Ss=function(n,i,a){switch(i){case"input":if(Uo(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=Xl(c);if(!d)throw Error(t(90));vs(c),Uo(c,d)}}}break;case"textarea":Ts(n,a);break;case"select":i=a.value,i!=null&&cr(n,!!a.multiple,i,!1)}},bi=sd,Qo=Ji;var RE={usingClientEntryPoint:!1,Events:[ya,Qs,Xl,zn,Go,sd]},Na={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CE={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Jo(n),n===null?null:n.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Mi=Lu.inject(CE),nn=Lu}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RE,en.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(i))throw Error(t(200));return IE(n,i,null,a)},en.createRoot=function(n,i){if(!pd(n))throw Error(t(299));var a=!1,c="",d=ag;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=hd(n,1,!1,null,null,a,!1,c,d),n[vr]=i.current,pa(n.nodeType===8?n.parentNode:n),new fd(i)},en.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Jo(i),n=n===null?null:n.stateNode,n},en.flushSync=function(n){return Ji(n)},en.hydrate=function(n,i,a){if(!Du(i))throw Error(t(200));return Ou(null,n,i,!0,a)},en.hydrateRoot=function(n,i,a){if(!pd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",_=ag;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=sg(i,null,n,1,a??null,d,!1,g,_),n[vr]=i.current,pa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new bu(i)},en.render=function(n,i,a){if(!Du(i))throw Error(t(200));return Ou(null,n,i,!1,a)},en.unmountComponentAtNode=function(n){if(!Du(n))throw Error(t(40));return n._reactRootContainer?(Ji(function(){Ou(null,null,n,!1,function(){n._reactRootContainer=null,n[vr]=null})}),!0):!1},en.unstable_batchedUpdates=sd,en.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Du(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Ou(n,i,a,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var gg;function OE(){if(gg)return yd.exports;gg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),yd.exports=DE(),yd.exports}var yg;function LE(){if(yg)return Vu;yg=1;var r=OE();return Vu.createRoot=r.createRoot,Vu.hydrateRoot=r.hydrateRoot,Vu}var VE=LE();const ME=zy(VE);var Da={},vg;function FE(){if(vg)return Da;vg=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.parse=h,Da.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,b){const V=new l,U=S.length;if(U<2)return V;const D=(b==null?void 0:b.decode)||E;let q=0;do{const H=S.indexOf("=",q);if(H===-1)break;const G=S.indexOf(";",q),te=G===-1?U:G;if(H>te){q=S.lastIndexOf(";",H-1)+1;continue}const de=f(S,q,H),fe=p(S,H,de),A=S.slice(de,fe);if(V[A]===void 0){let T=f(S,H+1,te),R=p(S,te,T);const P=D(S.slice(T,R));V[A]=P}q=te+1}while(q<U);return V}function f(S,b,V){do{const U=S.charCodeAt(b);if(U!==32&&U!==9)return b}while(++b<V);return V}function p(S,b,V){for(;b>V;){const U=S.charCodeAt(--b);if(U!==32&&U!==9)return b+1}return V}function y(S,b,V){const U=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const D=U(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let q=S+"="+D;if(!V)return q;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);q+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);q+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);q+="; Path="+V.path}if(V.expires){if(!I(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);q+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(q+="; HttpOnly"),V.secure&&(q+="; Secure"),V.partitioned&&(q+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return q}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return o.call(S)==="[object Date]"}return Da}FE();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _g="popstate";function UE(r={}){function e(s,o){let{pathname:l,search:h,hash:f}=s.location;return Dd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Wa(o)}return zE(e,t,null,r)}function tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jE(){return Math.random().toString(36).substring(2,10)}function Eg(r,e){return{usr:r.state,key:r.key,idx:e}}function Dd(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:t,key:e&&e.key||s||jE()}}function Wa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Po(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function zE(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function I(){f="POP";let D=E(),q=D==null?null:D-y;y=D,p&&p({action:f,location:U.location,delta:q})}function S(D,q){f="PUSH";let H=Dd(U.location,D,q);y=E()+1;let G=Eg(H,y),te=U.createHref(H);try{h.pushState(G,"",te)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(te)}l&&p&&p({action:f,location:U.location,delta:1})}function b(D,q){f="REPLACE";let H=Dd(U.location,D,q);y=E();let G=Eg(H,y),te=U.createHref(H);h.replaceState(G,"",te),l&&p&&p({action:f,location:U.location,delta:0})}function V(D){let q=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof D=="string"?D:Wa(D);return H=H.replace(/ $/,"%20"),tt(q,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,q)}let U={get action(){return f},get location(){return r(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_g,I),p=D,()=>{o.removeEventListener(_g,I),p=null}},createHref(D){return e(o,D)},createURL:V,encodeLocation(D){let q=V(D);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:b,go(D){return h.go(D)}};return U}function By(r,e,t="/"){return BE(r,e,t,!1)}function BE(r,e,t,s){let o=typeof e=="string"?Po(e):e,l=_i(o.pathname||"/",t);if(l==null)return null;let h=$y(r);$E(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=ew(l);f=JE(h[p],y,s)}return f}function $y(r,e=[],t=[],s=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Pr([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),$y(l.children,e,E,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:YE(y,l.index),routesMeta:E})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of Hy(l.path))o(l,h,p)}),e}function Hy(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Hy(s.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function $E(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:XE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var HE=/^:[\w-]+$/,WE=3,qE=2,KE=1,GE=10,QE=-2,wg=r=>r==="*";function YE(r,e){let t=r.split("/"),s=t.length;return t.some(wg)&&(s+=QE),e&&(s+=qE),t.filter(o=>!wg(o)).reduce((o,l)=>o+(HE.test(l)?WE:l===""?KE:GE),s)}function XE(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function JE(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],y=f===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",I=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!I&&y&&t&&!s[s.length-1].route.index&&(I=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:Pr([l,I.pathname]),pathnameBase:iw(Pr([l,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(l=Pr([l,I.pathnameBase]))}return h}function tc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=ZE(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:I},S)=>{if(E==="*"){let V=f[S]||"";h=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const b=f[S];return I&&!b?y[E]=void 0:y[E]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function ZE(r,e=!1,t=!0){rr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ew(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function tw(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Po(r):r;return{pathname:t?t.startsWith("/")?t:nw(t,e):e,search:sw(s),hash:ow(o)}}function nw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ed(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wy(r){let e=rw(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qy(r,e,t,s=!1){let o;typeof r=="string"?o=Po(r):(o={...r},tt(!o.pathname||!o.pathname.includes("?"),Ed("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Ed("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Ed("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let I=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),I-=1;o.pathname=S.join("/")}f=I>=0?e[I]:"/"}let p=tw(o,f),y=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Pr=r=>r.join("/").replace(/\/\/+/g,"/"),iw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),sw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ow=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function aw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ky=["POST","PUT","PATCH","DELETE"];new Set(Ky);var lw=["GET",...Ky];new Set(lw);var xo=B.createContext(null);xo.displayName="DataRouter";var Tc=B.createContext(null);Tc.displayName="DataRouterState";var Gy=B.createContext({isTransitioning:!1});Gy.displayName="ViewTransition";var uw=B.createContext(new Map);uw.displayName="Fetchers";var cw=B.createContext(null);cw.displayName="Await";var or=B.createContext(null);or.displayName="Navigation";var il=B.createContext(null);il.displayName="Location";var ar=B.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var hf=B.createContext(null);hf.displayName="RouteError";function hw(r,{relative:e}={}){tt(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(or),{hash:o,pathname:l,search:h}=al(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Pr([t,l])),s.createHref({pathname:f,search:h,hash:o})}function sl(){return B.useContext(il)!=null}function ds(){return tt(sl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(il).location}var Qy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yy(r){B.useContext(or).static||B.useLayoutEffect(r)}function ol(){let{isDataRoute:r}=B.useContext(ar);return r?Rw():dw()}function dw(){tt(sl(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(xo),{basename:e,navigator:t}=B.useContext(or),{matches:s}=B.useContext(ar),{pathname:o}=ds(),l=JSON.stringify(Wy(s)),h=B.useRef(!1);return Yy(()=>{h.current=!0}),B.useCallback((p,y={})=>{if(rr(h.current,Qy),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=qy(p,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Pr([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,l,o,r])}B.createContext(null);function fw(){let{matches:r}=B.useContext(ar),e=r[r.length-1];return e?e.params:{}}function al(r,{relative:e}={}){let{matches:t}=B.useContext(ar),{pathname:s}=ds(),o=JSON.stringify(Wy(t));return B.useMemo(()=>qy(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pw(r,e){return Xy(r,e)}function Xy(r,e,t,s){var q;tt(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(or),{matches:l}=B.useContext(ar),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let H=E&&E.path||"";Jy(p,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let I=ds(),S;if(e){let H=typeof e=="string"?Po(e):e;tt(y==="/"||((q=H.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=I;let b=S.pathname||"/",V=b;if(y!=="/"){let H=y.replace(/^\//,"").split("/");V="/"+b.replace(/^\//,"").split("/").slice(H.length).join("/")}let U=By(r,{pathname:V});rr(E||U!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),rr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=_w(U&&U.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Pr([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Pr([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,s);return e&&D?B.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},D):D}function mw(){let r=Sw(),e=aw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,h)}var gw=B.createElement(mw,null),yw=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(ar.Provider,{value:this.props.routeContext},B.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vw({routeContext:r,match:e,children:t}){let s=B.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ar.Provider,{value:r},t)}function _w(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:E,errors:I}=t,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||S){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let I,S=!1,b=null,V=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,b=y.route.errorElement||gw,h&&(f<0&&E===0?(Jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):f===E&&(S=!0,V=y.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,E+1)),D=()=>{let q;return I?q=b:S?q=V:y.route.Component?q=B.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,B.createElement(vw,{match:y,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?B.createElement(yw,{location:t.location,revalidation:t.revalidation,component:b,error:I,children:D(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):D()},null)}function df(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ew(r){let e=B.useContext(xo);return tt(e,df(r)),e}function ww(r){let e=B.useContext(Tc);return tt(e,df(r)),e}function Tw(r){let e=B.useContext(ar);return tt(e,df(r)),e}function ff(r){let e=Tw(r),t=e.matches[e.matches.length-1];return tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Iw(){return ff("useRouteId")}function Sw(){var s;let r=B.useContext(hf),e=ww("useRouteError"),t=ff("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Rw(){let{router:r}=Ew("useNavigate"),e=ff("useNavigate"),t=B.useRef(!1);return Yy(()=>{t.current=!0}),B.useCallback(async(o,l={})=>{rr(t.current,Qy),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Tg={};function Jy(r,e,t){!e&&!Tg[r]&&(Tg[r]=!0,rr(!1,t))}B.memo(Cw);function Cw({routes:r,future:e,state:t}){return Xy(r,void 0,t,e)}function ns(r){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kw({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){tt(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Po(t));let{pathname:p="/",search:y="",hash:E="",state:I=null,key:S="default"}=t,b=B.useMemo(()=>{let V=_i(p,h);return V==null?null:{location:{pathname:V,search:y,hash:E,state:I,key:S},navigationType:s}},[h,p,y,E,I,S,s]);return rr(b!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:B.createElement(or.Provider,{value:f},B.createElement(il.Provider,{children:e,value:b}))}function Aw({children:r,location:e}){return pw(Od(r),e)}function Od(r,e=[]){let t=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let l=[...e,o];if(s.type===B.Fragment){t.push.apply(t,Od(s.props.children,l));return}tt(s.type===ns,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Od(s.props.children,l)),t.push(h)}),t}var Hu="get",Wu="application/x-www-form-urlencoded";function Ic(r){return r!=null&&typeof r.tagName=="string"}function Pw(r){return Ic(r)&&r.tagName.toLowerCase()==="button"}function xw(r){return Ic(r)&&r.tagName.toLowerCase()==="form"}function Nw(r){return Ic(r)&&r.tagName.toLowerCase()==="input"}function bw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Dw(r,e){return r.button===0&&(!e||e==="_self")&&!bw(r)}var Mu=null;function Ow(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var Lw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wd(r){return r!=null&&!Lw.has(r)?(rr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):r}function Vw(r,e){let t,s,o,l,h;if(xw(r)){let f=r.getAttribute("action");s=f?_i(f,e):null,t=r.getAttribute("method")||Hu,o=wd(r.getAttribute("enctype"))||Wu,l=new FormData(r)}else if(Pw(r)||Nw(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?_i(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Hu,o=wd(r.getAttribute("formenctype"))||wd(f.getAttribute("enctype"))||Wu,l=new FormData(f,r),!Ow()){let{name:y,type:E,value:I}=r;if(E==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,I)}}else{if(Ic(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hu,s=null,o=Wu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function pf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Mw(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Uw(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await Mw(l,t);return h.links?h.links():[]}return[]}));return $w(s.flat(1).filter(Fw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ig(r,e,t,s,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var E;return t[y].pathname!==p.pathname||((E=t[y].route.path)==null?void 0:E.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var I;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function jw(r,e){return zw(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function zw(r){return[...new Set(r)]}function Bw(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function $w(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(Bw(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Hw(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Ww(){let r=B.useContext(xo);return pf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qw(){let r=B.useContext(Tc);return pf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mf=B.createContext(void 0);mf.displayName="FrameworkContext";function Zy(){let r=B.useContext(mf);return pf(r,"You must render this element inside a <HydratedRouter> element"),r}function Kw(r,e){let t=B.useContext(mf),[s,o]=B.useState(!1),[l,h]=B.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:I}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let U=q=>{q.forEach(H=>{h(H.isIntersecting)})},D=new IntersectionObserver(U,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[r]),B.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let b=()=>{o(!0)},V=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,S,{}]:[l,S,{onFocus:Oa(f,b),onBlur:Oa(p,V),onMouseEnter:Oa(y,b),onMouseLeave:Oa(E,V),onTouchStart:Oa(I,b)}]:[!1,S,{}]}function Oa(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Gw({page:r,...e}){let{router:t}=Ww(),s=B.useMemo(()=>By(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?B.createElement(Yw,{page:r,matches:s,...e}):null}function Qw(r){let{manifest:e,routeModules:t}=Zy(),[s,o]=B.useState([]);return B.useEffect(()=>{let l=!1;return Uw(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function Yw({page:r,matches:e,...t}){let s=ds(),{manifest:o,routeModules:l}=Zy(),{loaderData:h,matches:f}=qw(),p=B.useMemo(()=>Ig(r,e,f,o,s,"data"),[r,e,f,o,s]),y=B.useMemo(()=>Ig(r,e,f,o,s,"assets"),[r,e,f,o,s]),E=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let b=new Set,V=!1;if(e.forEach(D=>{var H;let q=o.routes[D.route.id];!q||!q.hasLoader||(!p.some(G=>G.route.id===D.route.id)&&D.route.id in h&&((H=l[D.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?V=!0:b.add(D.route.id))}),b.size===0)return[];let U=Hw(r);return V&&b.size>0&&U.searchParams.set("_routes",e.filter(D=>b.has(D.route.id)).map(D=>D.route.id).join(",")),[U.pathname+U.search]},[h,s,o,p,e,r,l]),I=B.useMemo(()=>jw(y,o),[y,o]),S=Qw(y);return B.createElement(B.Fragment,null,E.map(b=>B.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),I.map(b=>B.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),S.map(({key:b,link:V})=>B.createElement("link",{key:b,...V})))}function Xw(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ev&&(window.__reactRouterVersion="7.1.1")}catch{}function Jw({basename:r,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=UE({window:t,v5Compat:!0}));let o=s.current,[l,h]=B.useState({action:o.action,location:o.location}),f=B.useCallback(p=>{B.startTransition(()=>h(p))},[h]);return B.useLayoutEffect(()=>o.listen(f),[o,f]),B.createElement(kw,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,go=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:E,viewTransition:I,...S},b){let{basename:V}=B.useContext(or),U=typeof y=="string"&&tv.test(y),D,q=!1;if(typeof y=="string"&&U&&(D=y,ev))try{let R=new URL(window.location.href),P=y.startsWith("//")?new URL(R.protocol+y):new URL(y),O=_i(P.pathname,V);P.origin===R.origin&&O!=null?y=O+P.search+P.hash:q=!0}catch{rr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=hw(y,{relative:o}),[G,te,de]=Kw(s,S),fe=nT(y,{replace:h,state:f,target:p,preventScrollReset:E,relative:o,viewTransition:I});function A(R){e&&e(R),R.defaultPrevented||fe(R)}let T=B.createElement("a",{...S,...de,href:D||H,onClick:q||l?e:A,ref:Xw(b,te),target:p,"data-discover":!U&&t==="render"?"true":void 0});return G&&!U?B.createElement(B.Fragment,null,T,B.createElement(Gw,{page:H})):T});go.displayName="Link";var Zw=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},E){let I=al(h,{relative:y.relative}),S=ds(),b=B.useContext(Tc),{navigator:V,basename:U}=B.useContext(or),D=b!=null&&aT(I)&&f===!0,q=V.encodeLocation?V.encodeLocation(I).pathname:I.pathname,H=S.pathname,G=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(H=H.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&U&&(G=_i(G,U)||G);const te=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let de=H===q||!o&&H.startsWith(q)&&H.charAt(te)==="/",fe=G!=null&&(G===q||!o&&G.startsWith(q)&&G.charAt(q.length)==="/"),A={isActive:de,isPending:fe,isTransitioning:D},T=de?e:void 0,R;typeof s=="function"?R=s(A):R=[s,de?"active":null,fe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(A):l;return B.createElement(go,{...y,"aria-current":T,className:R,ref:E,style:P,to:h,viewTransition:f},typeof p=="function"?p(A):p)});Zw.displayName="NavLink";var eT=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=Hu,action:f,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:I,...S},b)=>{let V=sT(),U=oT(f,{relative:y}),D=h.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&tv.test(f),H=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,de=(te==null?void 0:te.getAttribute("formmethod"))||h;V(te||G.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:l,relative:y,preventScrollReset:E,viewTransition:I})};return B.createElement("form",{ref:b,method:D,action:U,onSubmit:s?p:H,...S,"data-discover":!q&&r==="render"?"true":void 0})});eT.displayName="Form";function tT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nv(r){let e=B.useContext(xo);return tt(e,tT(r)),e}function nT(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=ol(),p=ds(),y=al(r,{relative:l});return B.useCallback(E=>{if(Dw(E,e)){E.preventDefault();let I=t!==void 0?t:Wa(p)===Wa(y);f(r,{replace:I,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,s,e,r,o,l,h])}var rT=0,iT=()=>`__${String(++rT)}__`;function sT(){let{router:r}=nv("useSubmit"),{basename:e}=B.useContext(or),t=Iw();return B.useCallback(async(s,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=Vw(s,e);if(o.navigate===!1){let E=o.fetcherKey||iT();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function oT(r,{relative:e}={}){let{basename:t}=B.useContext(or),s=B.useContext(ar);tt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...al(r||".",{relative:e})},h=ds();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(E=>E==="")){f.delete("index"),p.filter(I=>I).forEach(I=>f.append("index",I));let E=f.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Pr([t,l.pathname])),Wa(l)}function aT(r,e={}){let t=B.useContext(Gy);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nv("useViewTransitionState"),o=al(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=_i(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=_i(t.nextLocation.pathname,s)||t.nextLocation.pathname;return tc(o.pathname,h)!=null||tc(o.pathname,l)!=null}new TextEncoder;var Sg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},lT=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=l>>2,I=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,b=y&63;p||(b=64,h||(S=64)),s.push(t[E],t[I],t[S],t[b])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const I=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||I==null)throw new uT;const S=l<<2|f>>4;if(s.push(S),y!==64){const b=f<<4&240|y>>2;if(s.push(b),I!==64){const V=y<<6&192|I;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cT=function(r){const e=rv(r);return iv.encodeByteArray(e,!0)},nc=function(r){return cT(r).replace(/\./g,"")},sv=function(r){try{return iv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=()=>hT().__FIREBASE_DEFAULTS__,fT=()=>{if(typeof process>"u"||typeof Sg>"u")return;const r=Sg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sv(r[1]);return e&&JSON.parse(e)},Sc=()=>{try{return dT()||fT()||pT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ov=r=>{var e,t;return(t=(e=Sc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},mT=r=>{const e=ov(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},av=()=>{var r;return(r=Sc())===null||r===void 0?void 0:r.config},lv=r=>{var e;return(e=Sc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nc(JSON.stringify(t)),nc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function _T(){var r;const e=(r=Sc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ET(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function TT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IT(){const r=zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ST(){return!_T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RT(){try{return typeof indexedDB=="object"}catch{return!1}}function CT(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="FirebaseError";class Mr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=kT,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?AT(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Mr(o,f,s)}}function AT(r,e){return r.replace(PT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PT=/\{\$([^}]+)}/g;function xT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function rc(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(Rg(l)&&Rg(h)){if(!rc(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Rg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function La(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Va(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function NT(r,e){const t=new bT(r,e);return t.subscribe.bind(t)}class bT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");DT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class as{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new gT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VT(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LT(r){return r===rs?void 0:r}function VT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ae||(Ae={}));const FT={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},UT=Ae.INFO,jT={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},zT=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=jT[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gf{constructor(e){this.name=e,this._logLevel=UT,this._logHandler=zT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const BT=(r,e)=>e.some(t=>r instanceof t);let Cg,kg;function $T(){return Cg||(Cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HT(){return kg||(kg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uv=new WeakMap,Ld=new WeakMap,cv=new WeakMap,Id=new WeakMap,yf=new WeakMap;function WT(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(mi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&uv.set(t,r)}).catch(()=>{}),yf.set(e,r),e}function qT(r){if(Ld.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Ld.set(r,e)}let Vd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ld.get(r);if(e==="objectStoreNames")return r.objectStoreNames||cv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function KT(r){Vd=r(Vd)}function GT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Sd(this),e,...t);return cv.set(s,e.sort?e.sort():[e]),mi(s)}:HT().includes(r)?function(...e){return r.apply(Sd(this),e),mi(uv.get(this))}:function(...e){return mi(r.apply(Sd(this),e))}}function QT(r){return typeof r=="function"?GT(r):(r instanceof IDBTransaction&&qT(r),BT(r,$T())?new Proxy(r,Vd):r)}function mi(r){if(r instanceof IDBRequest)return WT(r);if(Id.has(r))return Id.get(r);const e=QT(r);return e!==r&&(Id.set(r,e),yf.set(e,r)),e}const Sd=r=>yf.get(r);function YT(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=mi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(mi(h.result),p.oldVersion,p.newVersion,mi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const XT=["get","getKey","getAll","getAllKeys","count"],JT=["put","add","delete","clear"],Rd=new Map;function Ag(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rd.get(e))return Rd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=JT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XT.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Rd.set(e,l),l}KT(r=>({...r,get:(e,t,s)=>Ag(e,t)||r.get(e,t,s),has:(e,t)=>!!Ag(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(e1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function e1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Md="@firebase/app",Pg="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new gf("@firebase/app"),t1="@firebase/app-compat",n1="@firebase/analytics-compat",r1="@firebase/analytics",i1="@firebase/app-check-compat",s1="@firebase/app-check",o1="@firebase/auth",a1="@firebase/auth-compat",l1="@firebase/database",u1="@firebase/data-connect",c1="@firebase/database-compat",h1="@firebase/functions",d1="@firebase/functions-compat",f1="@firebase/installations",p1="@firebase/installations-compat",m1="@firebase/messaging",g1="@firebase/messaging-compat",y1="@firebase/performance",v1="@firebase/performance-compat",_1="@firebase/remote-config",E1="@firebase/remote-config-compat",w1="@firebase/storage",T1="@firebase/storage-compat",I1="@firebase/firestore",S1="@firebase/vertexai",R1="@firebase/firestore-compat",C1="firebase",k1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",A1={[Md]:"fire-core",[t1]:"fire-core-compat",[r1]:"fire-analytics",[n1]:"fire-analytics-compat",[s1]:"fire-app-check",[i1]:"fire-app-check-compat",[o1]:"fire-auth",[a1]:"fire-auth-compat",[l1]:"fire-rtdb",[u1]:"fire-data-connect",[c1]:"fire-rtdb-compat",[h1]:"fire-fn",[d1]:"fire-fn-compat",[f1]:"fire-iid",[p1]:"fire-iid-compat",[m1]:"fire-fcm",[g1]:"fire-fcm-compat",[y1]:"fire-perf",[v1]:"fire-perf-compat",[_1]:"fire-rc",[E1]:"fire-rc-compat",[w1]:"fire-gcs",[T1]:"fire-gcs-compat",[I1]:"fire-fst",[R1]:"fire-fst-compat",[S1]:"fire-vertex","fire-js":"fire-js",[C1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,P1=new Map,Ud=new Map;function xg(r,e){try{r.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function wo(r){const e=r.name;if(Ud.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,r);for(const t of ic.values())xg(t,r);for(const t of P1.values())xg(t,r);return!0}function vf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Xn(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new ll("app","Firebase",x1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=k1;function hv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Fd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw gi.create("bad-app-name",{appName:String(o)});if(t||(t=av()),!t)throw gi.create("no-options");const l=ic.get(o);if(l){if(rc(t,l.options)&&rc(s,l.config))return l;throw gi.create("duplicate-app",{appName:o})}const h=new MT(o);for(const p of Ud.values())h.addComponent(p);const f=new N1(t,s,h);return ic.set(o,f),f}function dv(r=Fd){const e=ic.get(r);if(!e&&r===Fd&&av())return hv();if(!e)throw gi.create("no-app",{appName:r});return e}function yi(r,e,t){var s;let o=(s=A1[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(f.join(" "));return}wo(new as(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebase-heartbeat-database",D1=1,qa="firebase-heartbeat-store";let Cd=null;function fv(){return Cd||(Cd=YT(b1,D1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(qa)}catch(t){console.warn(t)}}}}).catch(r=>{throw gi.create("idb-open",{originalErrorMessage:r.message})})),Cd}async function O1(r){try{const t=(await fv()).transaction(qa),s=await t.objectStore(qa).get(pv(r));return await t.done,s}catch(e){if(e instanceof Mr)br.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(t.message)}}}async function Ng(r,e){try{const s=(await fv()).transaction(qa,"readwrite");await s.objectStore(qa).put(e,pv(r)),await s.done}catch(t){if(t instanceof Mr)br.warn(t.message);else{const s=gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});br.warn(s.message)}}}function pv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1024,V1=30*24*60*60*1e3;class M1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new U1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=bg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=V1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){br.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bg(),{heartbeatsToSend:s,unsentEntries:o}=F1(this._heartbeatsCache.heartbeats),l=nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return br.warn(t),""}}}function bg(){return new Date().toISOString().substring(0,10)}function F1(r,e=L1){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Dg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Dg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class U1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RT()?CT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await O1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ng(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ng(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Dg(r){return nc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){wo(new as("platform-logger",e=>new ZT(e),"PRIVATE")),wo(new as("heartbeat",e=>new M1(e),"PRIVATE")),yi(Md,Pg,r),yi(Md,Pg,"esm2017"),yi("fire-js","")}j1("");function _f(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function mv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=mv,gv=new ll("auth","Firebase",mv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new gf("@firebase/auth");function B1(r,...e){sc.logLevel<=Ae.WARN&&sc.warn(`Auth (${No}): ${r}`,...e)}function qu(r,...e){sc.logLevel<=Ae.ERROR&&sc.error(`Auth (${No}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r,...e){throw Ef(r,...e)}function Jn(r,...e){return Ef(r,...e)}function yv(r,e,t){const s=Object.assign(Object.assign({},z1()),{[e]:t});return new ll("auth","Firebase",s).create(e,{appName:r.name})}function xr(r){return yv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ef(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return gv.create(r,...e)}function Ee(r,e,...t){if(!r)throw Ef(e,...t)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qu(e),new Error(e)}function Dr(r,e){r||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function $1(){return Og()==="http:"||Og()==="https:"}function Og(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($1()||wT()||"connection"in navigator)?navigator.onLine:!0}function W1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dr(t>e,"Short delay should be less than long delay!"),this.isMobile=vT()||TT()}get(){return H1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r,e){Dr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new cl(3e4,6e4);function Ci(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ki(r,e,t,s,o={}){return _v(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=ul(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return ET()||(y.referrerPolicy="no-referrer"),vv.fetch()(Ev(r,r.config.apiHost,t,f),y)})}async function _v(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},q1),e);try{const o=new Q1(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Fu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Fu(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Fu(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yv(r,E,y);Un(r,E)}}catch(o){if(o instanceof Mr)throw o;Un(r,"network-request-failed",{message:String(o)})}}async function hl(r,e,t,s,o={}){const l=await ki(r,e,t,s,o);return"mfaPendingCredential"in l&&Un(r,"multi-factor-auth-required",{_serverResponse:l}),l}function Ev(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?wf(r.config,o):`${r.config.apiScheme}://${o}`}function G1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),K1.get())})}}function Fu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Jn(r,e,s);return o.customData._tokenResponse=t,o}function Lg(r){return r!==void 0&&r.enterprise!==void 0}class Y1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return G1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X1(r,e){return ki(r,"GET","/v2/recaptchaConfig",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e){return ki(r,"POST","/v1/accounts:delete",e)}async function wv(r,e){return ki(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z1(r,e=!1){const t=cn(r),s=await t.getIdToken(e),o=Tf(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:ja(kd(o.auth_time)),issuedAtTime:ja(kd(o.iat)),expirationTime:ja(kd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function kd(r){return Number(r)*1e3}function Tf(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=sv(t);return o?JSON.parse(o):(qu("Failed to decode base64 JWT payload"),null)}catch(o){return qu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vg(r){const e=Tf(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Mr&&eI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Ka(r,wv(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Tv(l.providerUserInfo):[],f=rI(r.providerData,h),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),E=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,I)}async function nI(r){const e=cn(r);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Tv(r){return r.map(e=>{var{providerId:t}=e,s=_f(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e){const t=await _v(r,{},async()=>{const s=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=Ev(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",vv.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sI(r,e){return ki(r,"POST","/v2/accounts:revokeToken",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Vg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await iI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new yo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=_f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Z1(this,e)}reload(){return nI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await oc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Ka(this,J1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,p,y,E;const I=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,V=(h=t.photoURL)!==null&&h!==void 0?h:void 0,U=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,H=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:te,isAnonymous:de,providerData:fe,stsTokenManager:A}=t;Ee(G&&A,e,"internal-error");const T=yo.fromJSON(this.name,A);Ee(typeof G=="string",e,"internal-error"),ui(I,e.name),ui(S,e.name),Ee(typeof te=="boolean",e,"internal-error"),Ee(typeof de=="boolean",e,"internal-error"),ui(b,e.name),ui(V,e.name),ui(U,e.name),ui(D,e.name),ui(q,e.name),ui(H,e.name);const R=new kr({uid:G,auth:e,email:S,emailVerified:te,displayName:I,isAnonymous:de,photoURL:V,phoneNumber:b,tenantId:U,stsTokenManager:T,createdAt:q,lastLoginAt:H});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(P=>Object.assign({},P))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new yo;o.updateFromServerResponse(t);const l=new kr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await oc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Tv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new yo;f.updateFromIdToken(s);const p=new kr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new zd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=new Map;function Ar(r){Dr(r instanceof Function,"Expected a class definition");let e=Mg.get(r);return e?(Dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Mg.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Iv.type="NONE";const Fg=Iv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(r,e,t){return`firebase:${r}:${e}:${t}`}class vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Ku(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ku("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vo(Ar(Fg),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Ar(Fg);const h=Ku(s,e.config.apiKey,e.name);let f=null;for(const y of t)try{const E=await y._get(h);if(E){const I=kr._fromJSON(e,E);y!==l&&(f=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new vo(l,e,s):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new vo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pv(e))return"Blackberry";if(xv(e))return"Webos";if(Rv(e))return"Safari";if((e.includes("chrome/")||Cv(e))&&!e.includes("edge/"))return"Chrome";if(Av(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Sv(r=zt()){return/firefox\//i.test(r)}function Rv(r=zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cv(r=zt()){return/crios\//i.test(r)}function kv(r=zt()){return/iemobile/i.test(r)}function Av(r=zt()){return/android/i.test(r)}function Pv(r=zt()){return/blackberry/i.test(r)}function xv(r=zt()){return/webos/i.test(r)}function If(r=zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oI(r=zt()){var e;return If(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aI(){return IT()&&document.documentMode===10}function Nv(r=zt()){return If(r)||Av(r)||xv(r)||Pv(r)||/windows phone/i.test(r)||kv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r,e=[]){let t;switch(r){case"Browser":t=Ug(zt());break;case"Worker":t=`${Ug(zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e={}){return ki(r,"GET","/v2/passwordPolicy",Ci(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=6;class hI{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:cI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jg(this),this.idTokenSubscription=new jg(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wv(this,{idToken:e}),s=await kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(xr(this));const t=e?cn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uI(this),t=new hI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await sI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&B1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fs(r){return cn(r)}class jg{constructor(e){this.auth=e,this.observer=null,this.addObserver=NT(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fI(r){Rc=r}function Dv(r){return Rc.loadJS(r)}function pI(){return Rc.recaptchaEnterpriseScript}function mI(){return Rc.gapiScript}function gI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yI{constructor(){this.enterprise=new vI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _I="recaptcha-enterprise",Ov="NO_RECAPTCHA";class EI{constructor(e){this.type=_I,this.auth=fs(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{X1(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new Y1(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;Lg(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(Ov)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yI().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(f=>{if(!t&&Lg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pI();p.length!==0&&(p+=f),Dv(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function zg(r,e,t,s=!1,o=!1){const l=new EI(r);let h;if(o)h=Ov;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Bd(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await zg(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await zg(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r,e){const t=vf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(rc(l,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function TI(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ar);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function II(r,e,t){const s=fs(r);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Lv(e),{host:h,port:f}=SI(e),p=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),RI()}function Lv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SI(r){const e=Lv(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Bg(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Bg(h)}}}function Bg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function CI(r,e){return ki(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,e){return hl(r,"POST","/v1/accounts:signInWithPassword",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,e){return hl(r,"POST","/v1/accounts:signInWithEmailLink",Ci(r,e))}async function PI(r,e){return hl(r,"POST","/v1/accounts:signInWithEmailLink",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Sf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ga(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ga(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bd(e,t,"signInWithPassword",kI);case"emailLink":return AI(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bd(e,s,"signUpPassword",CI);case"emailLink":return PI(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return hl(r,"POST","/v1/accounts:signInWithIdp",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="http://localhost";class ls extends Sf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=_f(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ls(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,_o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:xI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ul(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bI(r){const e=La(Va(r)).link,t=e?La(Va(e)).deep_link_id:null,s=La(Va(r)).deep_link_id;return(s?La(Va(s)).link:null)||s||t||e||r}class Rf{constructor(e){var t,s,o,l,h,f;const p=La(Va(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,I=NI((o=p.mode)!==null&&o!==void 0?o:null);Ee(y&&E&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=bI(e);try{return new Rf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,t){return Ga._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Rf.parseLink(t);return Ee(s,"argument-error"),Ga._fromEmailAndCode(e,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends dl{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ls._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends dl{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends dl{constructor(){super("twitter.com")}static credential(e,t){return ls._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return fi.credential(t,s)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e){return hl(r,"POST","/v1/accounts:signUp",Ci(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await kr._fromIdTokenResponse(e,s,o),h=$g(s);return new us({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=$g(s);return new us({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function $g(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Mr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ac(e,t,s,o)}}function Mv(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ac._fromErrorAndOperation(r,l,e,s):l})}async function OI(r,e,t=!1){const s=await Ka(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return us._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,e,t=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(xr(s));const o="reauthenticate";try{const l=await Ka(r,Mv(s,o,e,r),t);Ee(l.idToken,s,"internal-error");const h=Tf(l.idToken);Ee(h,s,"internal-error");const{sub:f}=h;return Ee(r.uid===f,s,"user-mismatch"),us._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Un(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(r,e,t=!1){if(Xn(r.app))return Promise.reject(xr(r));const s="signIn",o=await Mv(r,s,e),l=await us._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function VI(r,e){return Fv(fs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(r){const e=fs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MI(r,e,t){if(Xn(r.app))return Promise.reject(xr(r));const s=fs(r),h=await Bd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Uv(r),p}),f=await us._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function FI(r,e,t){return Xn(r.app)?Promise.reject(xr(r)):VI(cn(r),bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Uv(r),s})}function UI(r,e,t,s){return cn(r).onIdTokenChanged(e,t,s)}function jI(r,e,t){return cn(r).beforeAuthStateChanged(e,t)}function fl(r,e,t,s){return cn(r).onAuthStateChanged(e,t,s)}function zI(r){return cn(r).signOut()}const lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lc,"1"),this.storage.removeItem(lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1e3,$I=10;class zv extends jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);aI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$I):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zv.type="LOCAL";const HI=zv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bv.type="SESSION";const $v=Bv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Cc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await WI(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Cf("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(I){const S=I;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function KI(r){Zn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function GI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function YI(){return Hv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firebaseLocalStorageDb",XI=1,uc="firebaseLocalStorage",qv="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kc(r,e){return r.transaction([uc],e?"readwrite":"readonly").objectStore(uc)}function JI(){const r=indexedDB.deleteDatabase(Wv);return new pl(r).toPromise()}function $d(){const r=indexedDB.open(Wv,XI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uc,{keyPath:qv})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uc)?e(s):(s.close(),await JI(),e(await $d()))})})}async function Hg(r,e,t){const s=kc(r,!0).put({[qv]:e,value:t});return new pl(s).toPromise()}async function ZI(r,e){const t=kc(r,!1).get(e),s=await new pl(t).toPromise();return s===void 0?null:s.value}function Wg(r,e){const t=kc(r,!0).delete(e);return new pl(t).toPromise()}const eS=800,tS=3;class Kv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>tS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(YI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $d();return await Hg(e,lc,"1"),await Wg(e,lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>ZI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=kc(o,!1).getAll();return new pl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kv.type="LOCAL";const nS=Kv;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r,e){return e?Ar(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends Sf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iS(r){return Fv(r.auth,new kf(r),r.bypassAuthState)}function sS(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),LI(t,new kf(r),r.bypassAuthState)}async function oS(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),OI(t,new kf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iS;case"linkViaPopup":case"linkViaRedirect":return oS;case"reauthViaPopup":case"reauthViaRedirect":return sS;default:Un(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new cl(2e3,1e4);class mo extends Gv{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=Cf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aS.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="pendingRedirect",Gu=new Map;class uS extends Gv{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const s=await cS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cS(r,e){const t=fS(e),s=dS(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function hS(r,e){Gu.set(r._key(),e)}function dS(r){return Ar(r._redirectPersistence)}function fS(r){return Ku(lS,r.config.apiKey,r.name)}async function pS(r,e,t=!1){if(Xn(r.app))return Promise.reject(xr(r));const s=fs(r),o=rS(s,e),h=await new uS(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=10*60*1e3;class gS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Qv(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Jn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mS&&this.cachedEventUids.clear(),this.cachedEventUids.has(qg(e))}saveEventToCache(e){this.cachedEventUids.add(qg(e)),this.lastProcessedEventTime=Date.now()}}function qg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Qv({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qv(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(r,e={}){return ki(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ES=/^https?/;async function wS(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vS(r);for(const t of e)try{if(TS(t))return}catch{}Un(r,"unauthorized-domain")}function TS(r){const e=jd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!ES.test(t))return!1;if(_S.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new cl(3e4,6e4);function Kg(){const r=Zn().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function SS(r){return new Promise((e,t)=>{var s,o,l;function h(){Kg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kg(),t(Jn(r,"network-request-failed"))},timeout:IS.get()})}if(!((o=(s=Zn().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Zn().gapi)===null||l===void 0)&&l.load)h();else{const f=gI("iframefcb");return Zn()[f]=()=>{gapi.load?h():t(Jn(r,"network-request-failed"))},Dv(`${mI()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Qu=null,e})}let Qu=null;function RS(r){return Qu=Qu||SS(r),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new cl(5e3,15e3),kS="__/auth/iframe",AS="emulator/auth/iframe",PS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NS(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?wf(e,AS):`https://${r.config.authDomain}/${kS}`,s={apiKey:e.apiKey,appName:r.name,v:No},o=xS.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${ul(s).slice(1)}`}async function bS(r){const e=await RS(r),t=Zn().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:NS(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PS,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Jn(r,"network-request-failed"),f=Zn().setTimeout(()=>{l(h)},CS.get());function p(){Zn().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OS=500,LS=600,VS="_blank",MS="http://localhost";class Gg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FS(r,e,t,s=OS,o=LS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},DS),{width:s.toString(),height:o.toString(),top:l,left:h}),y=zt().toLowerCase();t&&(f=Cv(y)?VS:t),Sv(y)&&(e=e||MS,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[b,V])=>`${S}${b}=${V},`,"");if(oI(y)&&f!=="_self")return US(e||"",f),new Gg(null);const I=window.open(e||"",f,E);Ee(I,r,"popup-blocked");try{I.focus()}catch{}return new Gg(I)}function US(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="__/auth/handler",zS="emulator/auth/handler",BS=encodeURIComponent("fac");async function Qg(r,e,t,s,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:No,eventId:o};if(e instanceof Vv){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",xT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries({}))h[E]=I}if(e instanceof dl){const E=e.getScopes().filter(I=>I!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const p=await r._getAppCheckToken(),y=p?`#${BS}=${encodeURIComponent(p)}`:"";return`${$S(r)}?${ul(f).slice(1)}${y}`}function $S({config:r}){return r.emulator?wf(r,zS):`https://${r.authDomain}/${jS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class HS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$v,this._completeRedirectFn=pS,this._overrideRedirectResult=hS}async _openPopup(e,t,s,o){var l;Dr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Qg(e,t,s,jd(),o);return FS(e,h,Cf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Qg(e,t,s,jd(),o);return KI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Dr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await bS(e),s=new gS(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ad,{type:Ad},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Ad];h!==void 0&&t(!!h),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nv()||Rv()||If()}}const WS=HS;var Yg="@firebase/auth",Xg="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GS(r){wo(new as("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bv(r)},y=new dI(s,o,l,p);return TI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),wo(new as("auth-internal",e=>{const t=fs(e.getProvider("auth").getImmediate());return(s=>new qS(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(Yg,Xg,KS(r)),yi(Yg,Xg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=5*60,YS=lv("authIdTokenMaxAge")||QS;let Jg=null;const XS=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>YS)return;const o=t==null?void 0:t.token;Jg!==o&&(Jg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Do(r=dv()){const e=vf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=wI(r,{popupRedirectResolver:WS,persistence:[nS,HI,$v]}),s=lv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=XS(l.toString());jI(t,h,()=>h(t.currentUser)),UI(t,f=>h(f))}}const o=ov("auth");return o&&II(t,`http://${o}`),t}function JS(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}fI({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Jn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",JS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GS("Browser");var ZS="firebase",eR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(ZS,eR,"app");const tR={apiKey:"AIzaSyChpYxxevKOzh0YD5uz4p6ubmTJGaBrJLc",authDomain:"portfoliomaker-978ee.firebaseapp.com",projectId:"portfoliomaker-978ee",storageBucket:"portfoliomaker-978ee.firebasestorage.app",messagingSenderId:"637178256843",appId:"1:637178256843:web:28c1d9c6665ecaff2f6a4e"},Ei=hv(tR);function nR(){const[r,e]=B.useState(!1),t=Do(Ei),s=ol();B.useState(!1),B.useEffect(()=>fl(t,y=>{e(!!y),console.log(r)}),[t]);function o(){s("/settings")}function l(){s("/auth")}function h(){s("/profile")}async function f(){try{await zI(t),toast.success("SignOut Completed")}catch(p){toast.error(p.meassage)}}return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"navbar bg-base-100/70 backdrop-blur-md sticky top-0 z-50",children:[N.jsx("div",{className:"flex-1",children:N.jsx("a",{className:"btn btn-ghost text-xl",children:"Inue"})}),N.jsxs("div",{className:"flex-none gap-2",children:[N.jsx("div",{className:"form-control",children:N.jsx("input",{type:"text",placeholder:"Search",className:"input input-bordered w-24 md:w-auto"})}),N.jsxs("div",{className:"dropdown dropdown-end",children:[N.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:N.jsx("div",{className:"w-10 rounded-full",children:N.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"})})}),N.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:[r?N.jsx("li",{children:N.jsxs("a",{className:"justify-between",onClick:h,children:["Profile",N.jsx("span",{className:"badge",children:"New"})]})}):N.jsx(N.Fragment,{}),N.jsx("li",{onClick:o,children:N.jsx("a",{children:"Settings"})}),r?N.jsx("li",{onClick:f,children:N.jsx("a",{children:"Logout"})}):N.jsx("li",{onClick:l,children:N.jsx("a",{children:"SignIn"})})]})]})]})]})})}function rR(){return N.jsxs("footer",{className:"footer bg-neutral text-neutral-content p-10",children:[N.jsxs("aside",{children:[N.jsx("svg",{width:"50",height:"50",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:N.jsx("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),N.jsxs("p",{children:["ACME Industries Ltd.",N.jsx("br",{}),"Providing reliable tech since 1992"]})]}),N.jsxs("nav",{children:[N.jsx("h6",{className:"footer-title",children:"Social"}),N.jsxs("div",{className:"grid grid-flow-col gap-4",children:[N.jsx("a",{children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:N.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),N.jsx("a",{children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:N.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),N.jsx("a",{children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:N.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})]})}var Yv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zg=Fe.createContext&&Fe.createContext(Yv),iR=["attr","size","title"];function sR(r,e){if(r==null)return{};var t=oR(r,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function oR(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function cc(){return cc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},cc.apply(this,arguments)}function ey(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function hc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(t),!0).forEach(function(s){aR(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ey(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function aR(r,e,t){return e=lR(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lR(r){var e=uR(r,"string");return typeof e=="symbol"?e:e+""}function uR(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Xv(r){return r&&r.map((e,t)=>Fe.createElement(e.tag,hc({key:t},e.attr),Xv(e.child)))}function cR(r){return e=>Fe.createElement(hR,cc({attr:hc({},r.attr)},e),Xv(r.child))}function hR(r){var e=t=>{var{attr:s,size:o,title:l}=r,h=sR(r,iR),f=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Fe.createElement("svg",cc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:hc(hc({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Fe.createElement("title",null,l),r.children)};return Zg!==void 0?Fe.createElement(Zg.Consumer,null,t=>e(t)):e(Yv)}function dR(r){return cR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(r)}function fR(){const[r,e]=B.useState(null),t=Do(Ei),s=ol();B.useEffect(()=>{const l=fl(t,h=>{e(h||null)});return()=>l()},[t]);function o(){s(`/dashboard?${r.uid}&Tab=dashboard`)}return N.jsxs(N.Fragment,{children:[r?N.jsxs("ul",{className:"menu bg-base-200 lg:menu-horizontal rounded-box",children:[N.jsx("li",{children:N.jsxs("a",{children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Inbox",N.jsx("span",{className:"badge badge-sm",children:"99+"})]})}),N.jsx("li",{children:N.jsxs("a",{children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Updates",N.jsx("span",{className:"badge badge-sm badge-warning",children:"NEW"})]})}),N.jsx("li",{children:N.jsxs("a",{onClick:o,children:[N.jsx(dR,{}),"Dashboard",N.jsx("span",{className:"badge badge-xs badge-info"})]})})]}):N.jsx("div",{className:" card bg-primary text-primary-content w-full",children:N.jsxs("div",{className:"card-body",children:[N.jsx("h2",{className:"card-title",children:"Join Our Community Now!"}),N.jsx("p",{children:"This Page Help's You To Create Mind Blowing Protfolio's With All free For Now"}),N.jsx("div",{className:"card-actions justify-end",children:N.jsx("button",{className:"btn",children:N.jsx(go,{to:"/auth",children:"Join Us"})})})]})}),N.jsx("div",{className:"mt-10 m-2.5 flex align-middle place-content-center text-2xl",children:N.jsx("h1",{children:"Dashboard System"})}),N.jsx("div",{className:"_In-home h-auto overflow-y-auto",children:N.jsxs("div",{className:"stats shadow",children:[N.jsxs("div",{className:"stat",children:[N.jsx("div",{className:"stat-figure text-primary",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block h-8 w-8 stroke-current",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),N.jsx("div",{className:"stat-title",children:"Total Likes"}),N.jsx("div",{className:"stat-value text-primary",children:"25.6K"}),N.jsx("div",{className:"stat-desc",children:"21% more than last month"})]}),N.jsxs("div",{className:"stat",children:[N.jsx("div",{className:"stat-figure text-secondary",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block h-8 w-8 stroke-current",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),N.jsx("div",{className:"stat-title",children:"Page Views"}),N.jsx("div",{className:"stat-value text-secondary",children:"2.6M"}),N.jsx("div",{className:"stat-desc",children:"21% more than last month"})]}),N.jsxs("div",{className:"stat",children:[N.jsx("div",{className:"stat-figure text-secondary",children:N.jsx("div",{className:"avatar online",children:N.jsx("div",{className:"w-16 rounded-full",children:N.jsx("img",{src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp",alt:"avatar"})})})}),N.jsx("div",{className:"stat-value",children:"86%"}),N.jsx("div",{className:"stat-title",children:"Tasks done"}),N.jsx("div",{className:"stat-desc text-secondary",children:"31 tasks remaining"})]})]})}),r?N.jsx(go,{to:`/new?user=${r.uid}`,className:"_In-home-try flex place-content-start ml-2.5",children:N.jsx("button",{className:"btn btn-outline btn-accent",children:"Create New PortFolio"})}):N.jsx(go,{to:"/auth",className:"_In-home-try flex place-content-start ml-2.5",children:N.jsx("button",{className:"btn btn-outline btn-accent",children:"Create account PortFolio"})})]})}function Jv(){return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"m-1 flex w-full flex-col gap-4",children:[N.jsx("div",{className:"skeleton h-32 w-1/2"}),N.jsx("div",{className:"skeleton h-4 w-full"}),N.jsx("div",{className:"skeleton h-4 w-1/2"}),N.jsx("div",{className:"skeleton h-4 w-full"})]}),N.jsxs("div",{className:"m-2 flex w-full flex-col gap-4",children:[N.jsx("div",{className:"skeleton h-32 w-full"}),N.jsx("div",{className:"skeleton h-4 w-3/6"}),N.jsx("div",{className:"skeleton h-4 w-1/2"}),N.jsx("div",{className:"skeleton h-4 w-full"})]}),N.jsxs("div",{className:"m-2 flex w-full flex-col gap-4",children:[N.jsx("div",{className:"skeleton h-32 w-full"}),N.jsx("div",{className:"skeleton h-4 w-full"}),N.jsx("div",{className:"skeleton h-4 w-full"}),N.jsx("div",{className:"skeleton h-4 w-full"})]})]})}function Zv(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=Zv(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function ss(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=Zv(r))&&(s&&(s+=" "),s+=e);return s}function pR(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}pR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ml=r=>typeof r=="number"&&!isNaN(r),cs=r=>typeof r=="string",Or=r=>typeof r=="function",mR=r=>cs(r)||ml(r),Hd=r=>cs(r)||Or(r)?r:null,gR=(r,e)=>r===!1||ml(r)&&r>0?r:e,Wd=r=>B.isValidElement(r)||cs(r)||Or(r)||ml(r);function yR(r,e,t=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function vR({enter:r,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:h,preventExitTransition:f,done:p,nodeRef:y,isIn:E,playToast:I}){let S=t?`${r}--${h}`:r,b=t?`${e}--${h}`:e,V=B.useRef(0);return B.useLayoutEffect(()=>{let U=y.current,D=S.split(" "),q=H=>{H.target===y.current&&(I(),U.removeEventListener("animationend",q),U.removeEventListener("animationcancel",q),V.current===0&&H.type!=="animationcancel"&&U.classList.remove(...D))};U.classList.add(...D),U.addEventListener("animationend",q),U.addEventListener("animationcancel",q)},[]),B.useEffect(()=>{let U=y.current,D=()=>{U.removeEventListener("animationend",D),s?yR(U,p,o):p()};E||(f?D():(V.current=1,U.className+=` ${b}`,U.addEventListener("animationend",D)))},[E]),Fe.createElement(Fe.Fragment,null,l)}}function ty(r,e){return{content:e_(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function e_(r,e,t=!1){return B.isValidElement(r)&&!cs(r.type)?B.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Or(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function _R({closeToast:r,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ER({delay:r,isRunning:e,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:h,progress:f,rtl:p,isIn:y,theme:E}){let I=o||h&&f===0,S={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};h&&(S.transform=`scaleX(${f})`);let b=ss("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),V=Or(l)?l({rtl:p,type:s,defaultClassName:b}):ss(b,l),U={[h&&f>=1?"onTransitionEnd":"onAnimationEnd"]:h&&f<1?null:()=>{y&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:V,style:S,...U}))}var wR=1,t_=()=>`${wR++}`;function TR(r,e,t){let s=1,o=0,l=[],h=[],f=e,p=new Map,y=new Set,E=H=>(y.add(H),()=>y.delete(H)),I=()=>{h=Array.from(p.values()),y.forEach(H=>H())},S=({containerId:H,toastId:G,updateId:te})=>{let de=H?H!==r:r!==1,fe=p.has(G)&&te==null;return de||fe},b=(H,G)=>{p.forEach(te=>{var de;(G==null||G===te.props.toastId)&&((de=te.toggle)==null||de.call(te,H))})},V=H=>{var G,te;(te=(G=H.props)==null?void 0:G.onClose)==null||te.call(G,H.removalReason),H.isActive=!1},U=H=>{if(H==null)p.forEach(V);else{let G=p.get(H);G&&V(G)}I()},D=()=>{o-=l.length,l=[]},q=H=>{var G,te;let{toastId:de,updateId:fe}=H.props,A=fe==null;H.staleId&&p.delete(H.staleId),H.isActive=!0,p.set(de,H),I(),t(ty(H,A?"added":"updated")),A&&((te=(G=H.props).onOpen)==null||te.call(G))};return{id:r,props:f,observe:E,toggle:b,removeToast:U,toasts:p,clearQueue:D,buildToast:(H,G)=>{if(S(G))return;let{toastId:te,updateId:de,data:fe,staleId:A,delay:T}=G,R=de==null;R&&o++;let P={...f,style:f.toastStyle,key:s++,...Object.fromEntries(Object.entries(G).filter(([M,k])=>k!=null)),toastId:te,updateId:de,data:fe,isIn:!1,className:Hd(G.className||f.toastClassName),progressClassName:Hd(G.progressClassName||f.progressClassName),autoClose:G.isLoading?!1:gR(G.autoClose,f.autoClose),closeToast(M){p.get(te).removalReason=M,U(te)},deleteToast(){let M=p.get(te);if(M!=null){if(t(ty(M,"removed")),p.delete(te),o--,o<0&&(o=0),l.length>0){q(l.shift());return}I()}}};P.closeButton=f.closeButton,G.closeButton===!1||Wd(G.closeButton)?P.closeButton=G.closeButton:G.closeButton===!0&&(P.closeButton=Wd(f.closeButton)?f.closeButton:!0);let O={content:H,props:P,staleId:A};f.limit&&f.limit>0&&o>f.limit&&R?l.push(O):ml(T)?setTimeout(()=>{q(O)},T):q(O)},setProps(H){f=H},setToggle:(H,G)=>{let te=p.get(H);te&&(te.toggle=G)},isToastActive:H=>{var G;return(G=p.get(H))==null?void 0:G.isActive},getSnapshot:()=>h}}var qt=new Map,Qa=[],qd=new Set,IR=r=>qd.forEach(e=>e(r)),n_=()=>qt.size>0;function SR(){Qa.forEach(r=>i_(r.content,r.options)),Qa=[]}var RR=(r,{containerId:e})=>{var t;return(t=qt.get(e||1))==null?void 0:t.toasts.get(r)};function r_(r,e){var t;if(e)return!!((t=qt.get(e))!=null&&t.isToastActive(r));let s=!1;return qt.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function CR(r){if(!n_()){Qa=Qa.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||mR(r))qt.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=qt.get(r.containerId);e?e.removeToast(r.id):qt.forEach(t=>{t.removeToast(r.id)})}}var kR=(r={})=>{qt.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function i_(r,e){Wd(r)&&(n_()||Qa.push({content:r,options:e}),qt.forEach(t=>{t.buildToast(r,e)}))}function AR(r){var e;(e=qt.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function s_(r,e){qt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(r,e==null?void 0:e.id)})}function PR(r){let e=r.containerId||1;return{subscribe(t){let s=TR(e,r,IR);qt.set(e,s);let o=s.observe(t);return SR(),()=>{o(),qt.delete(e)}},setProps(t){var s;(s=qt.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=qt.get(e))==null?void 0:t.getSnapshot()}}}function xR(r){return qd.add(r),()=>{qd.delete(r)}}function NR(r){return r&&(cs(r.toastId)||ml(r.toastId))?r.toastId:t_()}function gl(r,e){return i_(r,e),e.toastId}function Ac(r,e){return{...e,type:e&&e.type||r,toastId:NR(e)}}function Pc(r){return(e,t)=>gl(e,Ac(r,t))}function $e(r,e){return gl(r,Ac("default",e))}$e.loading=(r,e)=>gl(r,Ac("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function bR(r,{pending:e,error:t,success:s},o){let l;e&&(l=cs(e)?$e.loading(e,o):$e.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(y,E,I)=>{if(E==null){$e.dismiss(l);return}let S={type:y,...h,...o,data:I},b=cs(E)?{render:E}:E;return l?$e.update(l,{...S,...b}):$e(b.render,{...S,...b}),I},p=Or(r)?r():r;return p.then(y=>f("success",s,y)).catch(y=>f("error",t,y)),p}$e.promise=bR;$e.success=Pc("success");$e.info=Pc("info");$e.error=Pc("error");$e.warning=Pc("warning");$e.warn=$e.warning;$e.dark=(r,e)=>gl(r,Ac("default",{theme:"dark",...e}));function DR(r){CR(r)}$e.dismiss=DR;$e.clearWaitingQueue=kR;$e.isActive=r_;$e.update=(r,e={})=>{let t=RR(r,e);if(t){let{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||r,updateId:t_()};l.toastId!==r&&(l.staleId=r);let h=l.render||o;delete l.render,gl(h,l)}};$e.done=r=>{$e.update(r,{progress:1})};$e.onChange=xR;$e.play=r=>s_(!0,r);$e.pause=r=>s_(!1,r);function OR(r){var e;let{subscribe:t,getSnapshot:s,setProps:o}=B.useRef(PR(r)).current;o(r);let l=(e=B.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function h(f){if(!l)return[];let p=new Map;return r.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:E}=y.props;p.has(E)||p.set(E,[]),p.get(E).push(y)}),Array.from(p,y=>f(y[0],y[1]))}return{getToastToRender:h,isToastActive:r_,count:l==null?void 0:l.length}}function LR(r){let[e,t]=B.useState(!1),[s,o]=B.useState(!1),l=B.useRef(null),h=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:p,closeToast:y,onClick:E,closeOnClick:I}=r;AR({id:r.toastId,containerId:r.containerId,fn:t}),B.useEffect(()=>{if(r.pauseOnFocusLoss)return S(),()=>{b()}},[r.pauseOnFocusLoss]);function S(){document.hasFocus()||q(),window.addEventListener("focus",D),window.addEventListener("blur",q)}function b(){window.removeEventListener("focus",D),window.removeEventListener("blur",q)}function V(A){if(r.draggable===!0||r.draggable===A.pointerType){H();let T=l.current;h.canCloseOnClick=!0,h.canDrag=!0,T.style.transition="none",r.draggableDirection==="x"?(h.start=A.clientX,h.removalDistance=T.offsetWidth*(r.draggablePercent/100)):(h.start=A.clientY,h.removalDistance=T.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function U(A){let{top:T,bottom:R,left:P,right:O}=l.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&r.pauseOnHover&&A.clientX>=P&&A.clientX<=O&&A.clientY>=T&&A.clientY<=R?q():D()}function D(){t(!0)}function q(){t(!1)}function H(){h.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",de)}function G(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",de)}function te(A){let T=l.current;if(h.canDrag&&T){h.didMove=!0,e&&q(),r.draggableDirection==="x"?h.delta=A.clientX-h.start:h.delta=A.clientY-h.start,h.start!==A.clientX&&(h.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;T.style.transform=`translate3d(${R},0)`,T.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function de(){G();let A=l.current;if(h.canDrag&&h.didMove&&A){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let fe={onPointerDown:V,onPointerUp:U};return f&&p&&(fe.onMouseEnter=q,r.stacked||(fe.onMouseLeave=D)),I&&(fe.onClick=A=>{E&&E(A),h.canCloseOnClick&&y(!0)}),{playToast:D,pauseToast:q,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:fe}}var VR=typeof window<"u"?B.useLayoutEffect:B.useEffect,xc=({theme:r,type:e,isLoading:t,...s})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function MR(r){return Fe.createElement(xc,{...r},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function FR(r){return Fe.createElement(xc,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function UR(r){return Fe.createElement(xc,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function jR(r){return Fe.createElement(xc,{...r},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zR(){return Fe.createElement("div",{className:"Toastify__spinner"})}var Kd={info:FR,warning:MR,success:UR,error:jR,spinner:zR},BR=r=>r in Kd;function $R({theme:r,type:e,isLoading:t,icon:s}){let o=null,l={theme:r,type:e};return s===!1||(Or(s)?o=s({...l,isLoading:t}):B.isValidElement(s)?o=B.cloneElement(s,l):t?o=Kd.spinner():BR(e)&&(o=Kd[e](l))),o}var HR=r=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=LR(r),{closeButton:h,children:f,autoClose:p,onClick:y,type:E,hideProgressBar:I,closeToast:S,transition:b,position:V,className:U,style:D,progressClassName:q,updateId:H,role:G,progress:te,rtl:de,toastId:fe,deleteToast:A,isIn:T,isLoading:R,closeOnClick:P,theme:O,ariaLabel:M}=r,k=ss("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":de},{"Toastify__toast--close-on-click":P}),Je=Or(U)?U({rtl:de,position:V,type:E,defaultClassName:k}):ss(k,U),ht=$R(r),dt=!!te||!p,Ve={closeToast:S,type:E,theme:O},re=null;return h===!1||(Or(h)?re=h(Ve):B.isValidElement(h)?re=B.cloneElement(h,Ve):re=_R(Ve)),Fe.createElement(b,{isIn:T,done:A,position:V,preventExitTransition:t,nodeRef:s,playToast:l},Fe.createElement("div",{id:fe,tabIndex:0,onClick:y,"data-in":T,className:Je,...o,style:D,ref:s,...T&&{role:G,"aria-label":M}},ht!=null&&Fe.createElement("div",{className:ss("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ht),e_(f,r,!e),re,!r.customProgressBar&&Fe.createElement(ER,{...H&&!dt?{key:`p-${H}`}:{},rtl:de,theme:O,delay:p,isRunning:e,isIn:T,closeToast:S,hide:I,type:E,className:q,controlledProgress:dt,progress:te||0})))},WR=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),qR=vR(WR("bounce",!0)),KR={position:"top-right",transition:qR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function o_(r){let e={...KR,...r},t=r.stacked,[s,o]=B.useState(!0),l=B.useRef(null),{getToastToRender:h,isToastActive:f,count:p}=OR(e),{className:y,style:E,rtl:I,containerId:S,hotKeys:b}=e;function V(D){let q=ss("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":I});return Or(y)?y({position:D,rtl:I,defaultClassName:q}):ss(q,Hd(y))}function U(){t&&(o(!0),$e.play())}return VR(()=>{var D;if(t){let q=l.current.querySelectorAll('[data-in="true"]'),H=12,G=(D=e.position)==null?void 0:D.includes("top"),te=0,de=0;Array.from(q).reverse().forEach((fe,A)=>{let T=fe;T.classList.add("Toastify__toast--stacked"),A>0&&(T.dataset.collapsed=`${s}`),T.dataset.pos||(T.dataset.pos=G?"top":"bot");let R=te*(s?.2:1)+(s?0:H*A);T.style.setProperty("--y",`${G?R:R*-1}px`),T.style.setProperty("--g",`${H}`),T.style.setProperty("--s",`${1-(s?de:0)}`),te+=T.offsetHeight,de+=.025})}},[s,p,t]),B.useEffect(()=>{function D(q){var H;let G=l.current;b(q)&&((H=G.querySelector('[tabIndex="0"]'))==null||H.focus(),o(!1),$e.pause()),q.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),$e.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[b]),Fe.createElement("section",{ref:l,className:"Toastify",id:S,onMouseEnter:()=>{t&&(o(!1),$e.pause())},onMouseLeave:U,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((D,q)=>{let H=q.length?{...E}:{...E,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:V(D),"data-stacked":t,style:H,key:`c-${D}`},q.map(({content:G,props:te})=>Fe.createElement(HR,{...te,stacked:t,collapseAll:U,isIn:f(te.toastId,te.containerId),key:`t-${te.key}`},G)))}))}function GR(){const[r,e]=B.useState(!1),[t,s]=B.useState(""),[o,l]=B.useState(""),[h,f]=B.useState(null),[p,y]=B.useState(!1),E=Do(Ei),I=ol();B.useEffect(()=>{const D=fl(E,q=>{q?(f(q),I(`/dashboard?id=${q.uid}&Tab=Dashboard`)):f(null)});return()=>D()},[E]);const S=()=>{r||(e(!0),b())};async function b(){try{const D=await MI(E,t,o);f(D.user),$e.success(`Account Created: ${D.user.email}`),I("/dashboard")}catch(D){$e.error(D.message)}e(!1)}async function V(){await FI(E,t,o),I("/dashboard")}function U(){y(!p)}return N.jsxs(N.Fragment,{children:[p?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-1/2 flex flex-col justify-center place-content-center",children:N.jsxs("div",{className:"_Inue-SignCom",children:[N.jsx("h1",{className:"text-8xl",children:"LogIn"}),N.jsx("input",{type:"email",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>s(D.target.value)}),N.jsx("input",{type:"password",placeholder:"Password",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>l(D.target.value)}),N.jsx("button",{className:"btn btn-accent w-full",onClick:V,children:r?N.jsx("span",{className:"loading loading-spinner",children:"LogIn..."}):N.jsx("h2",{children:"LogIn"})})]})}),N.jsx("div",{className:"",children:N.jsx("button",{className:"btn btn-accent w-full",onClick:U,children:"Create Acccunt"})})]}):N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-1/2 flex flex-col justify-center place-content-center",children:N.jsxs("div",{className:"_Inue-SignCom",children:[N.jsx("h1",{className:"text-8xl",children:"Create Account"}),N.jsx("input",{type:"text",placeholder:"UserName",className:"input input-bordered w-full max-w-xs"}),N.jsx("input",{type:"email",placeholder:"Email",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>s(D.target.value)}),N.jsx("input",{type:"password",placeholder:"Password",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>l(D.target.value)}),N.jsx("button",{className:"btn btn-accent w-full",onClick:S,children:r?N.jsx("span",{className:"loading loading-spinner",children:"Creating"}):N.jsx("h2",{children:"Create"})})]})}),N.jsx("div",{children:N.jsx("button",{className:"btn btn-accent w-full",onClick:U,children:"LogIn"})})]}),N.jsx(o_,{})]})}function QR(){const[r,e]=B.useState(!0),[t,s]=B.useState(null);return B.useEffect(()=>{const o=setTimeout(()=>{e(!1)},2e3);return()=>{clearTimeout(o)}},[]),N.jsx(N.Fragment,{children:r?N.jsx(Jv,{}):N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl",children:"Projects"}),N.jsx("div",{className:"card mt-10 w-full h-40 bg-base-200 text-center shadow-md",children:t?N.jsx("div",{children:"projects Found"}):N.jsx("div",{className:"w-full h-full flex flex-col justify-center align-middle place-content-center Center",children:N.jsx(go,{to:"/new",children:N.jsx("button",{className:"btn m-10 btn-outline btn-primary",children:"Create New"})})})})]})})}var ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,a_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function R(){}R.prototype=T.prototype,A.D=T.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(P,O,M){for(var k=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)k[Je-2]=arguments[Je];return T.prototype[O].apply(P,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,T,R){R||(R=0);var P=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)P[O]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(O=0;16>O;++O)P[O]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=A.g[0],R=A.g[1],O=A.g[2];var M=A.g[3],k=T+(M^R&(O^M))+P[0]+3614090360&4294967295;T=R+(k<<7&4294967295|k>>>25),k=M+(O^T&(R^O))+P[1]+3905402710&4294967295,M=T+(k<<12&4294967295|k>>>20),k=O+(R^M&(T^R))+P[2]+606105819&4294967295,O=M+(k<<17&4294967295|k>>>15),k=R+(T^O&(M^T))+P[3]+3250441966&4294967295,R=O+(k<<22&4294967295|k>>>10),k=T+(M^R&(O^M))+P[4]+4118548399&4294967295,T=R+(k<<7&4294967295|k>>>25),k=M+(O^T&(R^O))+P[5]+1200080426&4294967295,M=T+(k<<12&4294967295|k>>>20),k=O+(R^M&(T^R))+P[6]+2821735955&4294967295,O=M+(k<<17&4294967295|k>>>15),k=R+(T^O&(M^T))+P[7]+4249261313&4294967295,R=O+(k<<22&4294967295|k>>>10),k=T+(M^R&(O^M))+P[8]+1770035416&4294967295,T=R+(k<<7&4294967295|k>>>25),k=M+(O^T&(R^O))+P[9]+2336552879&4294967295,M=T+(k<<12&4294967295|k>>>20),k=O+(R^M&(T^R))+P[10]+4294925233&4294967295,O=M+(k<<17&4294967295|k>>>15),k=R+(T^O&(M^T))+P[11]+2304563134&4294967295,R=O+(k<<22&4294967295|k>>>10),k=T+(M^R&(O^M))+P[12]+1804603682&4294967295,T=R+(k<<7&4294967295|k>>>25),k=M+(O^T&(R^O))+P[13]+4254626195&4294967295,M=T+(k<<12&4294967295|k>>>20),k=O+(R^M&(T^R))+P[14]+2792965006&4294967295,O=M+(k<<17&4294967295|k>>>15),k=R+(T^O&(M^T))+P[15]+1236535329&4294967295,R=O+(k<<22&4294967295|k>>>10),k=T+(O^M&(R^O))+P[1]+4129170786&4294967295,T=R+(k<<5&4294967295|k>>>27),k=M+(R^O&(T^R))+P[6]+3225465664&4294967295,M=T+(k<<9&4294967295|k>>>23),k=O+(T^R&(M^T))+P[11]+643717713&4294967295,O=M+(k<<14&4294967295|k>>>18),k=R+(M^T&(O^M))+P[0]+3921069994&4294967295,R=O+(k<<20&4294967295|k>>>12),k=T+(O^M&(R^O))+P[5]+3593408605&4294967295,T=R+(k<<5&4294967295|k>>>27),k=M+(R^O&(T^R))+P[10]+38016083&4294967295,M=T+(k<<9&4294967295|k>>>23),k=O+(T^R&(M^T))+P[15]+3634488961&4294967295,O=M+(k<<14&4294967295|k>>>18),k=R+(M^T&(O^M))+P[4]+3889429448&4294967295,R=O+(k<<20&4294967295|k>>>12),k=T+(O^M&(R^O))+P[9]+568446438&4294967295,T=R+(k<<5&4294967295|k>>>27),k=M+(R^O&(T^R))+P[14]+3275163606&4294967295,M=T+(k<<9&4294967295|k>>>23),k=O+(T^R&(M^T))+P[3]+4107603335&4294967295,O=M+(k<<14&4294967295|k>>>18),k=R+(M^T&(O^M))+P[8]+1163531501&4294967295,R=O+(k<<20&4294967295|k>>>12),k=T+(O^M&(R^O))+P[13]+2850285829&4294967295,T=R+(k<<5&4294967295|k>>>27),k=M+(R^O&(T^R))+P[2]+4243563512&4294967295,M=T+(k<<9&4294967295|k>>>23),k=O+(T^R&(M^T))+P[7]+1735328473&4294967295,O=M+(k<<14&4294967295|k>>>18),k=R+(M^T&(O^M))+P[12]+2368359562&4294967295,R=O+(k<<20&4294967295|k>>>12),k=T+(R^O^M)+P[5]+4294588738&4294967295,T=R+(k<<4&4294967295|k>>>28),k=M+(T^R^O)+P[8]+2272392833&4294967295,M=T+(k<<11&4294967295|k>>>21),k=O+(M^T^R)+P[11]+1839030562&4294967295,O=M+(k<<16&4294967295|k>>>16),k=R+(O^M^T)+P[14]+4259657740&4294967295,R=O+(k<<23&4294967295|k>>>9),k=T+(R^O^M)+P[1]+2763975236&4294967295,T=R+(k<<4&4294967295|k>>>28),k=M+(T^R^O)+P[4]+1272893353&4294967295,M=T+(k<<11&4294967295|k>>>21),k=O+(M^T^R)+P[7]+4139469664&4294967295,O=M+(k<<16&4294967295|k>>>16),k=R+(O^M^T)+P[10]+3200236656&4294967295,R=O+(k<<23&4294967295|k>>>9),k=T+(R^O^M)+P[13]+681279174&4294967295,T=R+(k<<4&4294967295|k>>>28),k=M+(T^R^O)+P[0]+3936430074&4294967295,M=T+(k<<11&4294967295|k>>>21),k=O+(M^T^R)+P[3]+3572445317&4294967295,O=M+(k<<16&4294967295|k>>>16),k=R+(O^M^T)+P[6]+76029189&4294967295,R=O+(k<<23&4294967295|k>>>9),k=T+(R^O^M)+P[9]+3654602809&4294967295,T=R+(k<<4&4294967295|k>>>28),k=M+(T^R^O)+P[12]+3873151461&4294967295,M=T+(k<<11&4294967295|k>>>21),k=O+(M^T^R)+P[15]+530742520&4294967295,O=M+(k<<16&4294967295|k>>>16),k=R+(O^M^T)+P[2]+3299628645&4294967295,R=O+(k<<23&4294967295|k>>>9),k=T+(O^(R|~M))+P[0]+4096336452&4294967295,T=R+(k<<6&4294967295|k>>>26),k=M+(R^(T|~O))+P[7]+1126891415&4294967295,M=T+(k<<10&4294967295|k>>>22),k=O+(T^(M|~R))+P[14]+2878612391&4294967295,O=M+(k<<15&4294967295|k>>>17),k=R+(M^(O|~T))+P[5]+4237533241&4294967295,R=O+(k<<21&4294967295|k>>>11),k=T+(O^(R|~M))+P[12]+1700485571&4294967295,T=R+(k<<6&4294967295|k>>>26),k=M+(R^(T|~O))+P[3]+2399980690&4294967295,M=T+(k<<10&4294967295|k>>>22),k=O+(T^(M|~R))+P[10]+4293915773&4294967295,O=M+(k<<15&4294967295|k>>>17),k=R+(M^(O|~T))+P[1]+2240044497&4294967295,R=O+(k<<21&4294967295|k>>>11),k=T+(O^(R|~M))+P[8]+1873313359&4294967295,T=R+(k<<6&4294967295|k>>>26),k=M+(R^(T|~O))+P[15]+4264355552&4294967295,M=T+(k<<10&4294967295|k>>>22),k=O+(T^(M|~R))+P[6]+2734768916&4294967295,O=M+(k<<15&4294967295|k>>>17),k=R+(M^(O|~T))+P[13]+1309151649&4294967295,R=O+(k<<21&4294967295|k>>>11),k=T+(O^(R|~M))+P[4]+4149444226&4294967295,T=R+(k<<6&4294967295|k>>>26),k=M+(R^(T|~O))+P[11]+3174756917&4294967295,M=T+(k<<10&4294967295|k>>>22),k=O+(T^(M|~R))+P[2]+718787259&4294967295,O=M+(k<<15&4294967295|k>>>17),k=R+(M^(O|~T))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+M&4294967295}s.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var R=T-this.blockSize,P=this.B,O=this.h,M=0;M<T;){if(O==0)for(;M<=R;)o(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<T;)if(P[O++]=A.charCodeAt(M++),O==this.blockSize){o(this,P),O=0;break}}else for(;M<T;)if(P[O++]=A[M++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=T},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var R=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=R&255,R/=256;for(this.u(A),A=Array(16),T=R=0;4>T;++T)for(var P=0;32>P;P+=8)A[R++]=this.g[T]>>>P&255;return A};function l(A,T){var R=f;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=T(A)}function h(A,T){this.h=T;for(var R=[],P=!0,O=A.length-1;0<=O;O--){var M=A[O]|0;P&&M==T||(R[O]=M,P=!1)}this.g=R}var f={};function p(A){return-128<=A&&128>A?l(A,function(T){return new h([T|0],0>T?-1:0)}):new h([A|0],0>A?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return I;if(0>A)return D(y(-A));for(var T=[],R=1,P=0;A>=R;P++)T[P]=A/R|0,R*=4294967296;return new h(T,0)}function E(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return D(E(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(T,8)),P=I,O=0;O<A.length;O+=8){var M=Math.min(8,A.length-O),k=parseInt(A.substring(O,O+M),T);8>M?(M=y(Math.pow(T,M)),P=P.j(M).add(y(k))):(P=P.j(R),P=P.add(y(k)))}return P}var I=p(0),S=p(1),b=p(16777216);r=h.prototype,r.m=function(){if(U(this))return-D(this).m();for(var A=0,T=1,R=0;R<this.g.length;R++){var P=this.i(R);A+=(0<=P?P:4294967296+P)*T,T*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V(this))return"0";if(U(this))return"-"+D(this).toString(A);for(var T=y(Math.pow(A,6)),R=this,P="";;){var O=te(R,T).g;R=q(R,O.j(T));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=O,V(R))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function V(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function U(A){return A.h==-1}r.l=function(A){return A=q(this,A),U(A)?-1:V(A)?0:1};function D(A){for(var T=A.g.length,R=[],P=0;P<T;P++)R[P]=~A.g[P];return new h(R,~A.h).add(S)}r.abs=function(){return U(this)?D(this):this},r.add=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],P=0,O=0;O<=T;O++){var M=P+(this.i(O)&65535)+(A.i(O)&65535),k=(M>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);P=k>>>16,M&=65535,k&=65535,R[O]=k<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function q(A,T){return A.add(D(T))}r.j=function(A){if(V(this)||V(A))return I;if(U(this))return U(A)?D(this).j(D(A)):D(D(this).j(A));if(U(A))return D(this.j(D(A)));if(0>this.l(b)&&0>A.l(b))return y(this.m()*A.m());for(var T=this.g.length+A.g.length,R=[],P=0;P<2*T;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<A.g.length;O++){var M=this.i(P)>>>16,k=this.i(P)&65535,Je=A.i(O)>>>16,ht=A.i(O)&65535;R[2*P+2*O]+=k*ht,H(R,2*P+2*O),R[2*P+2*O+1]+=M*ht,H(R,2*P+2*O+1),R[2*P+2*O+1]+=k*Je,H(R,2*P+2*O+1),R[2*P+2*O+2]+=M*Je,H(R,2*P+2*O+2)}for(P=0;P<T;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=T;P<2*T;P++)R[P]=0;return new h(R,0)};function H(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function G(A,T){this.g=A,this.h=T}function te(A,T){if(V(T))throw Error("division by zero");if(V(A))return new G(I,I);if(U(A))return T=te(D(A),T),new G(D(T.g),D(T.h));if(U(T))return T=te(A,D(T)),new G(D(T.g),T.h);if(30<A.g.length){if(U(A)||U(T))throw Error("slowDivide_ only works with positive integers.");for(var R=S,P=T;0>=P.l(A);)R=de(R),P=de(P);var O=fe(R,1),M=fe(P,1);for(P=fe(P,2),R=fe(R,2);!V(P);){var k=M.add(P);0>=k.l(A)&&(O=O.add(R),M=k),P=fe(P,1),R=fe(R,1)}return T=q(A,O.j(T)),new G(O,T)}for(O=I;0<=A.l(T);){for(R=Math.max(1,Math.floor(A.m()/T.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=y(R),k=M.j(T);U(k)||0<k.l(A);)R-=P,M=y(R),k=M.j(T);V(M)&&(M=S),O=O.add(M),A=q(A,k)}return new G(O,A)}r.A=function(A){return te(this,A).h},r.and=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)&A.i(P);return new h(R,this.h&A.h)},r.or=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)|A.i(P);return new h(R,this.h|A.h)},r.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)^A.i(P);return new h(R,this.h^A.h)};function de(A){for(var T=A.g.length+1,R=[],P=0;P<T;P++)R[P]=A.i(P)<<1|A.i(P-1)>>>31;return new h(R,A.h)}function fe(A,T){var R=T>>5;T%=32;for(var P=A.g.length-R,O=[],M=0;M<P;M++)O[M]=0<T?A.i(M+R)>>>T|A.i(M+R+1)<<32-T:A.i(M+R);return new h(O,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,a_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,os=h}).apply(typeof ny<"u"?ny:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l_,Ma,u_,Yu,Gd,c_,h_,d_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var v=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var j=u[w];if(!(j in v))break e;v=v[j]}u=u[u.length-1],w=v[u],m=m(w),m!=w&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,w=!1,j={next:function(){if(!w&&v<u.length){var K=v++;return{value:m(K,u[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,S.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function V(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(w,j,K){for(var ie=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ie[Be-2]=arguments[Be];return m.prototype[j].apply(w,ie)}}function U(u){const m=u.length;if(0<m){const v=Array(m);for(let w=0;w<m;w++)v[w]=u[w];return v}return[]}function D(u,m){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const j=u.length||0,K=w.length||0;u.length=j+K;for(let ie=0;ie<K;ie++)u[j+ie]=w[ie]}else u.push(w)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var de=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function fe(u,m,v){for(const w in u)m.call(v,u[w],w,u)}function A(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)u[v]=w[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){f.setTimeout(()=>{throw u},0)}function k(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Je{constructor(){this.h=this.g=null}add(m,v){const w=ht.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ht=new q(()=>new dt,u=>u.reset());class dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,re=!1,me=new Je,oe=()=>{const u=f.Promise.resolve(void 0);Ve=()=>{u.then(F)}};var F=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){M(v)}var m=ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Ce(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(de){e:{try{te(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}V(Ce,pe);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function We(u,m,v,w,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=j,this.key=++je,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function lr(u){this.src=u,this.g={},this.h=0}lr.prototype.add=function(u,m,v,w,j){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ie=Fr(u,m,w,j);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new We(m,this.src,K,!!w,j),m.fa=v,u.push(m)),m};function vs(u,m){var v=m.type;if(v in u.g){var w=u.g[v],j=Array.prototype.indexOf.call(w,m,void 0),K;(K=0<=j)&&Array.prototype.splice.call(w,j,1),K&&(wt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Fr(u,m,v,w){for(var j=0;j<u.length;++j){var K=u[j];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==w)return j}return-1}var Ai="closure_lm_"+(1e6*Math.random()|0),_s={};function Fo(u,m,v,w,j){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Fo(u,m[K],v,w,j);return null}return v=zo(v),u&&u[Ue]?u.K(m,v,y(w)?!!w.capture:!!w,j):Uo(u,m,v,!1,w,j)}function Uo(u,m,v,w,j,K){if(!m)throw Error("Invalid event type");var ie=y(j)?!!j.capture:!!j,Be=ws(u);if(Be||(u[Ai]=Be=new lr(u)),v=Be.add(m,v,w,ie,K),v.proxy)return v;if(w=wl(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)Re||(j=ie),j===void 0&&(j=!1),u.addEventListener(m.toString(),w,j);else if(u.attachEvent)u.attachEvent(cr(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wl(){function u(v){return m.call(u.src,u.listener,v)}const m=jo;return u}function Es(u,m,v,w,j){if(Array.isArray(m))for(var K=0;K<m.length;K++)Es(u,m[K],v,w,j);else w=y(w)?!!w.capture:!!w,v=zo(v),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],v=Fr(K,v,w,j),-1<v&&(wt(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Fr(m,v,w,j)),(v=-1<u?m[u]:null)&&ur(v))}function ur(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])vs(m.i,u);else{var v=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(v,w,u.capture):m.detachEvent?m.detachEvent(cr(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=ws(m))?(vs(v,u),v.h==0&&(v.src=null,m[Ai]=null)):wt(u)}}}function cr(u){return u in _s?_s[u]:_s[u]="on"+u}function jo(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var v=u.listener,w=u.ha||u.src;u.fa&&ur(u),u=v.call(w,m)}return u}function ws(u){return u=u[Ai],u instanceof lr?u:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function zo(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(m){return u.handleEvent(m)}),u[Ts])}function ft(){Y.call(this),this.i=new lr(this),this.M=this,this.F=null}V(ft,Y),ft.prototype[Ue]=!0,ft.prototype.removeEventListener=function(u,m,v,w){Es(this,u,m,v,w)};function pt(u,m){var v,w=u.F;if(w)for(v=[];w;w=w.F)v.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var j=m;m=new pe(w,u),P(m,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var ie=m.g=v[K];j=hr(ie,w,!0,m)&&j}if(ie=m.g=u,j=hr(ie,w,!0,m)&&j,j=hr(ie,w,!1,m)&&j,v)for(K=0;K<v.length;K++)ie=m.g=v[K],j=hr(ie,w,!1,m)&&j}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],w=0;w<v.length;w++)wt(v[w]);delete u.g[m],u.h--}}this.F=null},ft.prototype.K=function(u,m,v,w){return this.i.add(String(u),m,!1,v,w)},ft.prototype.L=function(u,m,v,w){return this.i.add(String(u),m,!0,v,w)};function hr(u,m,v,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,K=0;K<m.length;++K){var ie=m[K];if(ie&&!ie.da&&ie.capture==v){var Be=ie.listener,mt=ie.ha||ie.src;ie.fa&&vs(u.i,ie),j=Be.call(mt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Bo(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Ur(u){u.g=Bo(()=>{u.g=null,u.i&&(u.i=!1,Ur(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Pi extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ur(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(u){Y.call(this),this.h=u,this.g={}}V(xi,Y);var $o=[];function Ho(u){fe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ur(m)},u),u.g={}}xi.prototype.N=function(){xi.aa.N.call(this),Ho(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wo=f.JSON.stringify,qo=f.JSON.parse,Ko=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ni(){}Ni.prototype.h=null;function Is(u){return u.h||(u.h=u.i())}function Ss(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){pe.call(this,"d")}V(jn,pe);function Rs(){pe.call(this,"c")}V(Rs,pe);var zn={},Go=null;function bi(){return Go=Go||new ft}zn.La="serverreachability";function Qo(u){pe.call(this,zn.La,u)}V(Qo,pe);function dr(u){const m=bi();pt(m,new Qo(m))}zn.STAT_EVENT="statevent";function Yo(u,m){pe.call(this,zn.STAT_EVENT,u),this.stat=m}V(Yo,pe);function st(u){const m=bi();pt(m,new Yo(m,u))}zn.Ma="timingevent";function Cs(u,m){pe.call(this,zn.Ma,u),this.size=m}V(Cs,pe);function In(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Di(){this.g=!0}Di.prototype.xa=function(){this.g=!1};function Oi(u,m,v,w,j,K){u.info(function(){if(u.g)if(K)for(var ie="",Be=K.split("&"),mt=0;mt<Be.length;mt++){var De=Be[mt].split("=");if(1<De.length){var Tt=De[0];De=De[1];var lt=Tt.split("_");ie=2<=lt.length&&lt[1]=="type"?ie+(Tt+"="+De+"&"):ie+(Tt+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+m+`
`+v+`
`+ie})}function ks(u,m,v,w,j,K,ie){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+m+`
`+v+`
`+K+" "+ie})}function Sn(u,m,v,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$c(u,v)+(w?" "+w:"")})}function Xo(u,m){u.info(function(){return"TIMEOUT: "+m})}Di.prototype.info=function(){};function $c(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var w=v[u];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return Wo(v)}catch{return m}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function Li(){}V(Li,Ni),Li.prototype.g=function(){return new XMLHttpRequest},Li.prototype.i=function(){return{}},Rn=new Li;function Cn(u,m,v,w){this.j=u,this.i=m,this.l=v,this.R=w||1,this.U=new xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Il}function Il(){this.i=null,this.g="",this.h=!1}var Jo={},Ps={};function xs(u,m,v){u.L=1,u.v=Hr(rn(m)),u.m=v,u.P=!0,Zo(u,null)}function Zo(u,m){u.F=Date.now(),qe(u),u.A=rn(u.v);var v=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),qr(v.i,"t",w),u.C=0,v=u.j.J,u.h=new Il,u.g=zl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Pi(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,w=u.ca;var j="readystatechange";Array.isArray(j)||(j&&($o[0]=j.toString()),j=$o);for(var K=0;K<j.length;K++){var ie=Fo(v,j[K],w||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),dr(),Oi(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Gt(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Gt(this.g);var m=this.g.Ba();const pn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||sa(this.g)))){this.J||lt!=4||m==7||(m==8||0>=pn?dr(3):dr(2)),Vi(this);var v=this.g.Z();this.X=v;t:if(Sl(this)){var w=sa(this.g);u="";var j=w.length,K=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),jr(this);var ie="";break t}this.h.i=new f.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!(K&&m==j-1)});w.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,ks(this.i,this.u,this.A,this.l,this.R,lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,mt=this.g;if((Be=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Be)){var De=Be;break t}}De=null}if(v=De)Sn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,v);else{this.o=!1,this.s=3,st(12),dn(this),jr(this);break e}}if(this.P){v=!0;let on;for(;!this.J&&this.C<ie.length;)if(on=Hc(this,ie),on==Ps){lt==4&&(this.s=4,st(14),v=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Jo){this.s=4,st(15),Sn(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Sn(this.i,this.l,on,null),ea(this,on);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||ie.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)Sn(this.i,this.l,ie,"[Invalid Chunked Response]"),dn(this),jr(this);else if(0<ie.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),aa(Tt),Tt.M=!0,st(11))}}else Sn(this.i,this.l,ie,null),ea(this,ie);lt==4&&dn(this),this.o&&!this.J&&(lt==4?zs(this.j,this):(this.o=!1,qe(this)))}else Vs(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),dn(this),jr(this)}}}catch{}finally{}};function Sl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Hc(u,m){var v=u.C,w=m.indexOf(`
`,v);return w==-1?Ps:(v=Number(m.substring(v,w)),isNaN(v)?Jo:(w+=1,w+v>m.length?Ps:(m=m.slice(w,w+v),u.C=w+v,m)))}Cn.prototype.cancel=function(){this.J=!0,dn(this)};function qe(u){u.S=Date.now()+u.I,Rl(u,u.I)}function Rl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=In(S(u.ba,u),m)}function Vi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xo(this.i,this.A),this.L!=2&&(dr(),st(17)),dn(this),this.s=2,jr(this)):Rl(this,this.S-u)};function jr(u){u.j.G==0||u.J||zs(u.j,u)}function dn(u){Vi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ho(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ea(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Bt(v.h,u))){if(!u.K&&Bt(v.h,u)&&v.G==3){try{var w=v.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)js(v),Nn(v);else break e;Us(v),st(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=In(S(v.Za,v),6e3));if(1>=kl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else yr(v,11)}else if((u.K||v.g==u)&&js(v),!H(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let De=j[m];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const Tt=De[3];Tt!=null&&(v.la=Tt,v.j.info("VER="+v.la));const lt=De[4];lt!=null&&(v.Aa=lt,v.j.info("SVER="+v.Aa));const pn=De[5];pn!=null&&typeof pn=="number"&&0<pn&&(w=1.5*pn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const on=u.g;if(on){const $i=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($i){var K=w.h;K.g||$i.indexOf("spdy")==-1&&$i.indexOf("quic")==-1&&$i.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ta(K,K.h),K.h=null))}if(w.D){const $s=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(w.ya=$s,He(w.I,w.D,$s))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ie=u;if(w.qa=jl(w,w.J?w.ia:null,w.W),ie.K){Al(w.h,ie);var Be=ie,mt=w.L;mt&&(Be.I=mt),Be.B&&(Vi(Be),qe(Be)),w.g=ie}else Bi(w);0<v.i.length&&Wn(v)}else De[0]!="stop"&&De[0]!="close"||yr(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?yr(v,7):At(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}dr(4)}catch{}}var Cl=class{constructor(u,m){this.g=u,this.map=m}};function Mi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function kl(u){return u.h?1:u.g?u.g.size:0}function Bt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ta(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Mi.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return U(u.i)}function Ns(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,w=0;w<v;w++)m.push(u[w]);return m}m=[],v=0;for(w in u)m[v++]=u[w];return m}function bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const w in u)m[v++]=w;return m}}}function zr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=bs(u),w=Ns(u),j=w.length,K=0;K<j;K++)m.call(void 0,w[K],v&&v[K],u)}var Fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),j=null;if(0<=w){var K=u[v].substring(0,w);j=u[v].substring(w+1)}else K=u[v];m(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fr){this.h=u.h,Ui(this,u.j),this.o=u.o,this.g=u.g,Br(this,u.s),this.l=u.l;var m=u.i,v=new Bn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),$r(this,v),this.m=u.m}else u&&(m=String(u).match(Fi))?(this.h=!1,Ui(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Br(this,m[4]),this.l=xe(m[5]||"",!0),$r(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Bn(null,this.h))}fr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wr(m,Ds,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wr(m,Ds,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Wr(v,v.charAt(0)=="/"?bl:Nl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Wr(v,na)),u.join("")};function rn(u){return new fr(u)}function Ui(u,m,v){u.j=v?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Br(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function $r(u,m,v){m instanceof Bn?(u.i=m,$n(u.i,u.h)):(v||(m=Wr(m,Dl)),u.i=new Bn(m,u.h))}function He(u,m,v){u.i.set(m,v)}function Hr(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,xl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ds=/[#\/\?@]/g,Nl=/[#\?:]/g,bl=/[#\?]/g,Dl=/[#\?@]/g,na=/#/g;function Bn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&Wc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Bn.prototype,r.add=function(u,m){kt(this),this.i=null,u=fn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function kn(u,m){kt(u),m=fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function An(u,m){return kt(u),m=fn(u,m),u.g.has(m)}r.forEach=function(u,m){kt(this),this.g.forEach(function(v,w){v.forEach(function(j){u.call(m,j,w,this)},this)},this)},r.na=function(){kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let w=0;w<m.length;w++){const j=u[w];for(let K=0;K<j.length;K++)v.push(m[w])}return v},r.V=function(u){kt(this);let m=[];if(typeof u=="string")An(this,u)&&(m=m.concat(this.g.get(fn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return kt(this),this.i=null,u=fn(this,u),An(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function qr(u,m,v){kn(u,m),0<v.length&&(u.i=null,u.g.set(fn(u,m),U(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var w=m[v];const K=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var j=K;ie[w]!==""&&(j+="="+encodeURIComponent(String(ie[w]))),u.push(j)}}return this.i=u.join("&")};function fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $n(u,m){m&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(v,w){var j=w.toLowerCase();w!=j&&(kn(this,w),qr(this,j,v))},u)),u.j=m}function qc(u,m){const v=new Di;if(f.Image){const w=new Image;w.onload=b(Kt,v,"TestLoadImage: loaded",!0,m,w),w.onerror=b(Kt,v,"TestLoadImage: error",!1,m,w),w.onabort=b(Kt,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=b(Kt,v,"TestLoadImage: timeout",!1,m,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Ol(u,m){const v=new Di,w=new AbortController,j=setTimeout(()=>{w.abort(),Kt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(j),K.ok?Kt(v,"TestPingServer: ok",!0,m):Kt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Kt(v,"TestPingServer: error",!1,m)})}function Kt(u,m,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function Kc(){this.g=new Ko}function Ll(u,m,v){const w=v||"";try{zr(u,function(j,K){let ie=j;y(j)&&(ie=Wo(j)),m.push(w+K+"="+encodeURIComponent(ie))})}catch(j){throw m.push(w+"type="+encodeURIComponent("_badmap")),j}}function pr(u){this.l=u.Ub||null,this.j=u.eb||!1}V(pr,Ni),pr.prototype.g=function(){return new ji(this.l,this.j)},pr.prototype.i=function(u){return function(){return u}}({});function ji(u,m){ft.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ji,ft),r=ji.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Pn(this):xn(this),this.readyState==3&&Vl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Pn(this))},r.Qa=function(u){this.g&&(this.response=u,Pn(this))},r.ga=function(){this.g&&Pn(this)};function Pn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mr(u){let m="";return fe(u,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function Kr(u,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=mr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):He(u,m,v))}function Ye(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ye,ft);var Gc=/^https?$/i,ra=["POST","PUT"];r=Ye.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?Is(this.o):Is(Rn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){zi(this,K);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ra,m,void 0))||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of v)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){zi(this,K)}};function zi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Os(u),sn(u)}function Os(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),sn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},r.bb=function(){ia(this)};function ia(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Gt(u)!=4||u.Z()!=2)){if(u.u&&Gt(u)==4)Bo(u.Ea,0,u);else if(pt(u,"readystatechange"),Gt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=ie===0){var j=String(u.D).match(Fi)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),w=!Gc.test(j?j.toLowerCase():"")}v=w}if(v)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var K=2<Gt(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Os(u)}}finally{sn(u)}}}}function sn(u,m){if(u.g){Ls(u);const v=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||pt(u,"ready");try{v.onreadystatechange=w}catch{}}}function Ls(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Gt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qo(m)}};function sa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(u){const m={};u=(u.g&&2<=Gt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(H(u[w]))continue;var v=O(u[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=m[j]||[];m[j]=K,K.push(v)}A(m,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function oa(u){this.Aa=0,this.i=[],this.j=new Di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,u),this.cb=Hn("retryDelaySeedMs",1e4,u),this.Wa=Hn("forwardChannelMaxRetries",2,u),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mi(u&&u.concurrentRequestLimit),this.Da=new Kc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oa.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,w){st(0),this.W=u,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=jl(this,null,this.W),Wn(this)};function At(u){if(Ms(u),u.G==3){var m=u.U++,v=rn(u.I);if(He(v,"SID",u.K),He(v,"RID",m),He(v,"TYPE","terminate"),gr(u,v),m=new Cn(u,u.j,m),m.L=2,m.v=Hr(rn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=zl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}Ul(u)}function Nn(u){u.g&&(aa(u),u.g.cancel(),u.g=null)}function Ms(u){Nn(u),u.u&&(f.clearTimeout(u.u),u.u=null),js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Wn(u){if(!nn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ve||oe(),re||(Ve(),re=!0),me.add(m,u),u.B=0}}function Qc(u,m){return kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=In(S(u.Ga,u,m),Fl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Cn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=T(K),P(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Gr(this,j,m),v=rn(this.I),He(v,"RID",u),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),gr(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(mr(K)))+"&"+m:this.m&&Kr(v,this.m,K)),ta(this.h,j),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",m),He(v,"SID","null"),j.T=!0,xs(j,v,null)):xs(j,v,m),this.G=2}}else this.G==3&&(u?Fs(this,u):this.i.length==0||nn(this.h)||Fs(this))};function Fs(u,m){var v;m?v=m.l:v=u.U++;const w=rn(u.I);He(w,"SID",u.K),He(w,"RID",v),He(w,"AID",u.T),gr(u,w),u.m&&u.o&&Kr(w,u.m,u.o),v=new Cn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Gr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ta(u.h,v),xs(v,w,m)}function gr(u,m){u.H&&fe(u.H,function(v,w){He(m,w,v)}),u.l&&zr({},function(v,w){He(m,w,v)})}function Gr(u,m,v){v=Math.min(u.i.length,v);var w=u.l?S(u.l.Na,u.l,u):null;e:{var j=u.i;let K=-1;for(;;){const ie=["count="+v];K==-1?0<v?(K=j[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let Be=!0;for(let mt=0;mt<v;mt++){let De=j[mt].g;const Tt=j[mt].map;if(De-=K,0>De)K=Math.max(0,j[mt].g-100),Be=!1;else try{Ll(Tt,ie,"req"+De+"_")}catch{w&&w(Tt)}}if(Be){w=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,w}function Bi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ve||oe(),re||(Ve(),re=!0),me.add(m,u),u.v=0}}function Us(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=In(S(u.Fa,u),Fl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ml(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=In(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Nn(this),Ml(this))};function aa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ml(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),gr(u,m),u.m&&u.o&&Kr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Hr(rn(m)),v.m=null,v.P=!0,Zo(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Nn(this),Us(this),st(19))};function js(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function zs(u,m){var v=null;if(u.g==m){js(u),aa(u),u.g=null;var w=2}else if(Bt(u.h,m))v=m.D,Al(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;w=bi(),pt(w,new Cs(w,v)),Wn(u)}else Bi(u);else if(j=m.s,j==3||j==0&&0<m.X||!(w==1&&Qc(u,m)||w==2&&Us(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),j){case 1:yr(u,5);break;case 4:yr(u,10);break;case 3:yr(u,6);break;default:yr(u,2)}}}function Fl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function yr(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),w=u.Xa;const j=!w;w=new fr(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ui(w,"https"),Hr(w),j?qc(w.toString(),v):Ol(w.toString(),v)}else st(2);u.G=0,u.l&&u.l.sa(m),Ul(u),Ms(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ul(u){if(u.G=0,u.ka=[],u.l){const m=Pl(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function jl(u,m,v){var w=v instanceof fr?rn(v):new fr(v);if(w.g!="")m&&(w.g=m+"."+w.g),Br(w,w.s);else{var j=f.location;w=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var K=new fr(null);w&&Ui(K,w),m&&(K.g=m),j&&Br(K,j),v&&(K.l=v),w=K}return v=u.D,m=u.ya,v&&m&&He(w,v,m),He(w,"VER",u.la),gr(u,w),w}function zl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new pr({eb:v})):new Ye(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function la(){}r=la.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Bs(){}Bs.prototype.g=function(u,m){return new $t(u,m)};function $t(u,m){ft.call(this),this.g=new oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!H(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qn(this)}V($t,ft),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){At(this.g)},$t.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Wo(u),u=v);m.i.push(new Cl(m.Ya++,u)),m.G==3&&Wn(m)},$t.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,$t.aa.N.call(this)};function Bl(u){jn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}V(Bl,jn);function $l(){Rs.call(this),this.status=1}V($l,Rs);function qn(u){this.g=u}V(qn,la),qn.prototype.ua=function(){pt(this.g,"a")},qn.prototype.ta=function(u){pt(this.g,new Bl(u))},qn.prototype.sa=function(u){pt(this.g,new $l)},qn.prototype.ra=function(){pt(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,d_=function(){return new Bs},h_=function(){return bi()},c_=zn,Gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Yu=As,Tl.COMPLETE="complete",u_=Tl,Ss.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ma=Ss,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,l_=Ye}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const ry="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new gf("@firebase/firestore");function co(){return hs.logLevel}function ae(r,...e){if(hs.logLevel<=Ae.DEBUG){const t=e.map(Af);hs.debug(`Firestore (${Oo}): ${r}`,...t)}}function Lr(r,...e){if(hs.logLevel<=Ae.ERROR){const t=e.map(Af);hs.error(`Firestore (${Oo}): ${r}`,...t)}}function To(r,...e){if(hs.logLevel<=Ae.WARN){const t=e.map(Af);hs.warn(`Firestore (${Oo}): ${r}`,...t)}}function Af(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+r;throw Lr(e),new Error(e)}function ze(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class XR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JR{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string"),new f_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ut(e)}}class ZR{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eC{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ZR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new tC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=rC(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function Io(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new _t(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new _t(0,0))}static max(){return new Ie(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends Ya{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const iC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Ya{construct(e,t,s){return new bt(e,t,s)}static isValidIdentifier(e){return iC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}function sC(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new _t(t+1,0):new _t(t,s));return new wi(o,_e.empty(),e)}function oC(r){return new wi(r.readTime,r.key,-1)}class wi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new wi(Ie.min(),_e.empty(),-1)}static max(){return new wi(Ie.max(),_e.empty(),-1)}}function aC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==lC)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,s)=>{t(e)})}static reject(e){return new Q((t,s)=>{s(e)})}static waitFor(e){return new Q((t,s)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next(o=>o?Q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Q((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(E=>{h[y]=E,++f,f===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Q((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function cC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Nc.oe=-1;function bc(r){return r==null}function dc(r){return r===0&&1/r==-1/0}function hC(r){return typeof r=="number"&&Number.isInteger(r)&&!dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=iy(e)),e=fC(r.get(t),e);return iy(e)}function fC(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function iy(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ps(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function m_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Nt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Et(bt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new g_("Invalid base64 string: "+l):l}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const pC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(r){if(ze(!!r),typeof r=="string"){let e=0;const t=pC.exec(r);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ii(r){return typeof r=="string"?Dt.fromBase64String(r):Dt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dc(r){const e=r.mapValue.fields.__previous_value__;return Pf(e)?Dc(e):e}function Xa(r){const e=Ti(r.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,s,o,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Si(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pf(r)?4:yC(r)?9007199254740991:gC(r)?10:11:Te()}function ir(r,e){if(r===e)return!0;const t=Si(r);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xa(r).isEqual(Xa(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ti(o.timestampValue),f=Ti(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Ii(o.bytesValue).isEqual(Ii(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=at(o.doubleValue),f=at(l.doubleValue);return h===f?dc(h)===dc(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(sy(h)!==sy(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!ir(h[p],f[p])))return!1;return!0}(r,e);default:return Te()}}function Za(r,e){return(r.values||[]).find(t=>ir(t,e))!==void 0}function So(r,e){if(r===e)return 0;const t=Si(r),s=Si(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=at(l.integerValue||l.doubleValue),p=at(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return ay(r.timestampValue,e.timestampValue);case 4:return ay(Xa(r),Xa(e));case 5:return Ne(r.stringValue,e.stringValue);case 6:return function(l,h){const f=Ii(l),p=Ii(h);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const E=Ne(f[y],p[y]);if(E!==0)return E}return Ne(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Ne(at(l.latitude),at(h.latitude));return f!==0?f:Ne(at(l.longitude),at(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ly(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,E;const I=l.fields||{},S=h.fields||{},b=(f=I.value)===null||f===void 0?void 0:f.arrayValue,V=(p=S.value)===null||p===void 0?void 0:p.arrayValue,U=Ne(((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return U!==0?U:ly(b,V)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===zu.mapValue&&h===zu.mapValue)return 0;if(l===zu.mapValue)return 1;if(h===zu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let I=0;I<p.length&&I<E.length;++I){const S=Ne(p[I],E[I]);if(S!==0)return S;const b=So(f[p[I]],y[E[I]]);if(b!==0)return b}return Ne(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function ay(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=Ti(r),s=Ti(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function ly(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=So(t[o],s[o]);if(l)return l}return Ne(t.length,s.length)}function Ro(r){return Qd(r)}function Qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ti(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ii(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Qd(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Qd(t.fields[h])}`;return o+"}"}(r.mapValue):Te()}function Xu(r){switch(Si(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(r);return e?16+Xu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ii(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Xu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ps(s.fields,(l,h)=>{o+=l.length+Xu(h)}),o}(r.mapValue);default:throw Te()}}function Yd(r){return!!r&&"integerValue"in r}function xf(r){return!!r&&"arrayValue"in r}function uy(r){return!!r&&"nullValue"in r}function cy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ju(r){return!!r&&"mapValue"in r}function gC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function za(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=za(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=za(r.arrayValue.values[t]);return e}return Object.assign({},r)}function yC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ju(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(t)}setAll(e){let t=bt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=za(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Ju(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ps(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new wn(za(this.value))}}function y_(r){const e=[];return ps(r.fields,(t,s)=>{const o=new bt([t]);if(Ju(s)){const l=y_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new jt(e,0,Ie.min(),Ie.min(),Ie.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new jt(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new jt(e,2,t,Ie.min(),Ie.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,Ie.min(),Ie.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.position=e,this.inclusive=t}}function hy(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=So(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function dy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ir(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function vC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{}class vt extends v_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new EC(e,t,s):t==="array-contains"?new IC(e,s):t==="in"?new SC(e,s):t==="not-in"?new RC(e,s):t==="array-contains-any"?new CC(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new wC(e,s):new TC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(So(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends v_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new sr(e,t)}matches(e){return __(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __(r){return r.op==="and"}function E_(r){return _C(r)&&__(r)}function _C(r){for(const e of r.filters)if(e instanceof sr)return!1;return!0}function Xd(r){if(r instanceof vt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(E_(r))return r.filters.map(e=>Xd(e)).join(",");{const e=r.filters.map(t=>Xd(t)).join(",");return`${r.op}(${e})`}}function w_(r,e){return r instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&ir(s.value,o.value)}(r,e):r instanceof sr?function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,f)=>l&&w_(h,o.filters[f]),!0):!1}(r,e):void Te()}function T_(r){return r instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`}(r):r instanceof sr?function(t){return t.op.toString()+" {"+t.getFilters().map(T_).join(" ,")+"}"}(r):"Filter"}class EC extends vt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class wC extends vt{constructor(e,t){super(e,"in",t),this.keys=I_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TC extends vt{constructor(e,t){super(e,"not-in",t),this.keys=I_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class IC extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xf(t)&&Za(t.arrayValue,this.value)}}class SC extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Za(this.value.arrayValue,t)}}class RC extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Za(this.value.arrayValue,t)}}class CC extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Za(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function fy(r,e=null,t=[],s=[],o=null,l=null,h=null){return new kC(r,e,t,s,o,l,h)}function Nf(r){const e=Se(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Xd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ro(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ro(s)).join(",")),e.ue=t}return e.ue}function bf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!vC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!w_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dy(r.startAt,e.startAt)&&dy(r.endAt,e.endAt)}function Jd(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function AC(r,e,t,s,o,l,h,f){return new Oc(r,e,t,s,o,l,h,f)}function Df(r){return new Oc(r)}function py(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function PC(r){return r.collectionGroup!==null}function Ba(r){const e=Se(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Et(bt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new pc(l,s))}),t.has(bt.keyField().canonicalString())||e.ce.push(new pc(bt.keyField(),s))}return e.ce}function tr(r){const e=Se(r);return e.le||(e.le=xC(e,Ba(r))),e.le}function xC(r,e){if(r.limitType==="F")return fy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new pc(o.field,l)});const t=r.endAt?new fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fc(r.startAt.position,r.startAt.inclusive):null;return fy(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Zd(r,e,t){return new Oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lc(r,e){return bf(tr(r),tr(e))&&r.limitType===e.limitType}function S_(r){return`${Nf(tr(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>T_(o)).join(", ")}]`),bc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Ro(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Ro(o)).join(",")),`Target(${s})`}(tr(r))}; limitType=${r.limitType})`}function Vc(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Ba(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,p){const y=hy(h,f,p);return h.inclusive?y<=0:y<0}(s.startAt,Ba(s),o)||s.endAt&&!function(h,f,p){const y=hy(h,f,p);return h.inclusive?y>=0:y>0}(s.endAt,Ba(s),o))}(r,e)}function NC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function R_(r){return(e,t)=>{let s=!1;for(const o of Ba(r)){const l=bC(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function bC(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?So(p,y):Te()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return m_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new nt(_e.comparator);function Vr(){return DC}const C_=new nt(_e.comparator);function Fa(...r){let e=C_;for(const t of r)e=e.insert(t.key,t);return e}function k_(r){let e=C_;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function is(){return $a()}function A_(){return $a()}function $a(){return new ms(r=>r.toString(),(r,e)=>r.isEqual(e))}const OC=new nt(_e.comparator),LC=new Et(_e.comparator);function Pe(...r){let e=LC;for(const t of r)e=e.add(t);return e}const VC=new Et(Ne);function MC(){return VC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function P_(r){return{integerValue:""+r}}function FC(r,e){return hC(e)?P_(e):Of(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function UC(r,e,t){return r instanceof mc?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Pf(l)&&(l=Dc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof el?N_(r,e):r instanceof tl?b_(r,e):function(o,l){const h=x_(o,l),f=my(h)+my(o.Pe);return Yd(h)&&Yd(o.Pe)?P_(f):Of(o.serializer,f)}(r,e)}function jC(r,e,t){return r instanceof el?N_(r,e):r instanceof tl?b_(r,e):t}function x_(r,e){return r instanceof gc?function(s){return Yd(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class mc extends Mc{}class el extends Mc{constructor(e){super(),this.elements=e}}function N_(r,e){const t=D_(e);for(const s of r.elements)t.some(o=>ir(o,s))||t.push(s);return{arrayValue:{values:t}}}class tl extends Mc{constructor(e){super(),this.elements=e}}function b_(r,e){let t=D_(e);for(const s of r.elements)t=t.filter(o=>!ir(o,s));return{arrayValue:{values:t}}}class gc extends Mc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function my(r){return at(r.integerValue||r.doubleValue)}function D_(r){return xf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function zC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof el&&o instanceof el||s instanceof tl&&o instanceof tl?Io(s.elements,o.elements,ir):s instanceof gc&&o instanceof gc?ir(s.Pe,o.Pe):s instanceof mc&&o instanceof mc}(r.transform,e.transform)}class BC{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fc{}function O_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new V_(r.key,Nr.none()):new yl(r.key,r.data,Nr.none());{const t=r.data,s=wn.empty();let o=new Et(bt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new gs(r.key,s,new Fn(o.toArray()),Nr.none())}}function $C(r,e,t){r instanceof yl?function(o,l,h){const f=o.value.clone(),p=yy(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof gs?function(o,l,h){if(!Zu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=yy(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(L_(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ha(r,e,t,s){return r instanceof yl?function(l,h,f,p){if(!Zu(l.precondition,h))return f;const y=l.value.clone(),E=vy(l.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof gs?function(l,h,f,p){if(!Zu(l.precondition,h))return f;const y=vy(l.fieldTransforms,p,h),E=h.data;return E.setAll(L_(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(r,e,t,s):function(l,h,f){return Zu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function HC(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=x_(s.transform,o||null);l!=null&&(t===null&&(t=wn.empty()),t.set(s.field,l))}return t||null}function gy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,(l,h)=>zC(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yl extends Fc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends Fc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function L_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function yy(r,e,t){const s=new Map;ze(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,jC(h,f,t[o]))}return s}function vy(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,UC(l,h,e))}return s}class V_ extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WC extends Fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&$C(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ha(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ha(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=A_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=O_(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(t,s)=>gy(t,s))&&Io(this.baseMutations,e.baseMutations,(t,s)=>gy(t,s))}}class Lf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length);let o=function(){return OC}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Lf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Oe;function QC(r){switch(r){default:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function M_(r){if(r===void 0)return Lr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case ct.OK:return ee.OK;case ct.CANCELLED:return ee.CANCELLED;case ct.UNKNOWN:return ee.UNKNOWN;case ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case ct.INTERNAL:return ee.INTERNAL;case ct.UNAVAILABLE:return ee.UNAVAILABLE;case ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case ct.NOT_FOUND:return ee.NOT_FOUND;case ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case ct.ABORTED:return ee.ABORTED;case ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case ct.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Oe=ct||(ct={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new os([4294967295,4294967295],0);function _y(r){const e=YC().encode(r),t=new a_;return t.update(e),new Uint8Array(t.digest())}function Ey(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new os([t,s],0),new os([o,l],0)]}class Vf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ua(`Invalid padding: ${t}`);if(s<0)throw new Ua(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=os.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(os.fromNumber(s)));return o.compare(XC)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=_y(e),[s,o]=Ey(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Vf(l,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=_y(e),[s,o]=Ey(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Uc(Ie.min(),o,new nt(Ne),Vr(),Pe())}}class vl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vl(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class F_{constructor(e,t){this.targetId=e,this.me=t}}class U_{constructor(e,t,s=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class wy{constructor(){this.fe=0,this.ge=Ty(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),t=Pe(),s=Pe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new vl(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Ty()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Bu(),this.Qe=Bu(),this.Ke=new nt(Ne)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Jd(l))if(s===0){const h=new _e(l.path);this.We(t,h,jt.newNoDocument(h,Ie.min()))}else ze(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ii(s).toUint8Array()}catch(p){if(p instanceof g_)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Vf(h,o,l)}catch(p){return To(p instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&Jd(f.target)){const p=new _e(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,jt.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=Pe();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Uc(e,t,this.Ke,this.ke,s);return this.ke=Vr(),this.qe=Bu(),this.Qe=Bu(),this.Ke=new nt(Ne),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new wy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Ne),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ne),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new wy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Bu(){return new nt(_e.comparator)}function Ty(){return new nt(_e.comparator)}const ZC={asc:"ASCENDING",desc:"DESCENDING"},ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tk={and:"AND",or:"OR"};class nk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ef(r,e){return r.useProto3Json||bc(e)?e:{value:e}}function yc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rk(r,e){return yc(r,e.toTimestamp())}function nr(r){return ze(!!r),Ie.fromTimestamp(function(t){const s=Ti(t);return new _t(s.seconds,s.nanos)}(r))}function Mf(r,e){return tf(r,e).canonicalString()}function tf(r,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function z_(r){const e=it.fromString(r);return ze(q_(e)),e}function nf(r,e){return Mf(r.databaseId,e.path)}function Pd(r,e){const t=z_(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e($_(t))}function B_(r,e){return Mf(r.databaseId,e)}function ik(r){const e=z_(r);return e.length===4?it.emptyPath():$_(e)}function rf(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $_(r){return ze(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Iy(r,e,t){return{name:nf(r,e),fields:t.value.mapValue.fields}}function sk(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(ze(E===void 0||typeof E=="string"),Dt.fromBase64String(E||"")):(ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Dt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const E=y.code===void 0?ee.UNKNOWN:M_(y.code);return new ve(E,y.message||"")}(h);t=new U_(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pd(r,s.document.name),l=nr(s.document.updateTime),h=s.document.createTime?nr(s.document.createTime):Ie.min(),f=new wn({mapValue:{fields:s.document.fields}}),p=jt.newFoundDocument(o,l,h,f),y=s.targetIds||[],E=s.removedTargetIds||[];t=new ec(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pd(r,s.document),l=s.readTime?nr(s.readTime):Ie.min(),h=jt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new ec([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pd(r,s.document),l=s.removedTargetIds||[];t=new ec([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new GC(o,l),f=s.targetId;t=new F_(f,h)}}return t}function ok(r,e){let t;if(e instanceof yl)t={update:Iy(r,e.key,e.value)};else if(e instanceof V_)t={delete:nf(r,e.key)};else if(e instanceof gs)t={update:Iy(r,e.key,e.data),updateMask:mk(e.fieldMask)};else{if(!(e instanceof WC))return Te();t={verify:nf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const f=h.transform;if(f instanceof mc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof el)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:rk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(r,e.precondition)),t}function ak(r,e){return r&&r.length>0?(ze(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?nr(o.updateTime):nr(l);return h.isEqual(Ie.min())&&(h=nr(l)),new BC(h,o.transformResults||[])}(t,e))):[]}function lk(r,e){return{documents:[B_(r,e.path)]}}function uk(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=B_(r,o);const l=function(y){if(y.length!==0)return W_(sr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:fo(S.field),direction:dk(S.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=ef(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function ck(r){let e=ik(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(I){const S=H_(I);return S instanceof sr&&E_(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(S=>function(V){return new pc(po(V.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(I){let S;return S=typeof I=="object"?I.value:I,bc(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(I){const S=!!I.before,b=I.values||[];return new fc(b,S)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const S=!I.before,b=I.values||[];return new fc(b,S)}(t.endAt)),AC(e,o,h,l,f,"F",p,y)}function hk(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function H_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=po(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=po(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(t.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(t){return vt.create(po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return sr.create(t.compositeFilter.filters.map(s=>H_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(r):Te()}function dk(r){return ZC[r]}function fk(r){return ek[r]}function pk(r){return tk[r]}function fo(r){return{fieldPath:r.canonicalString()}}function po(r){return bt.fromServerFormat(r.fieldPath)}function W_(r){return r instanceof vt?function(t){if(t.op==="=="){if(cy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NAN"}};if(uy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NAN"}};if(uy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(t.field),op:fk(t.op),value:t.value}}}(r):r instanceof sr?function(t){const s=t.getFilters().map(o=>W_(o));return s.length===1?s[0]:{compositeFilter:{op:pk(t.op),filters:s}}}(r):Te()}function mk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function q_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t,s,o,l=Ie.min(),h=Ie.min(),f=Dt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.ht=e}}function yk(r){const e=ck({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.ln=new _k}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(wi.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class _k{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Et(it.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Et(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Co(0)}static Qn(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry([r,e],[t,s]){const o=Ne(r,t);return o===0?Ne(e,s):o}class Ek{constructor(e){this.Gn=e,this.buffer=new Et(Ry),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ry(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.Yn(3e5)})}}class Tk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Nc.oe);const s=new Ek(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Sy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,f,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,f=Date.now(),this.removeTargets(e,s,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(y=Date.now(),co()<=Ae.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function Ik(r,e){return new Tk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.changes=new ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ha(s.mutation,o,Fn.empty(),_t.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Pe()){const o=is();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Fa();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=is();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Pe()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let l=Vr();const h=$a(),f=function(){return $a()}();return t.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof gs)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Ha(E.mutation,y,E.mutation.getFieldMask(),_t.now())):h.set(y.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var I;return f.set(y,new Rk(E,(I=h.get(y))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const s=$a();let o=new nt((h,f)=>h-f),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let E=s.get(p)||Fn.empty();E=f.applyToLocalView(y,E),s.set(p,E);const I=(o.get(f.batchId)||Pe()).add(p);o=o.insert(f.batchId,I)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,E=p.value,I=A_();E.forEach(S=>{if(!l.has(S)){const b=O_(t.get(S),s.get(S));b!==null&&I.set(S,b),l=l.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,I))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Q.resolve(is());let f=-1,p=l;return h.next(y=>Q.forEach(y,(E,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Pe())).next(E=>({batchId:f,changes:k_(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Fa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Fa();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,p=>{const y=function(I,S){return new Oc(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((I,S)=>{h=h.insert(I,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,jt.newInvalidDocument(E)))});let f=Fa();return h.forEach((p,y)=>{const E=l.get(p);E!==void 0&&Ha(E.mutation,y,Fn.empty(),_t.now()),Vc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:yk(o.bundledQuery),readTime:nr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.overlays=new nt(_e.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=is();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const o=is(),l=t.length+1,h=new _e(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new nt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=l.get(y.largestBatchId);E===null&&(E=is(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const f=is(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>f.set(y,E)),!(f.size()>=o)););return Q.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new KC(t,s));let l=this.Er.get(t);l===void 0&&(l=Pe(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this.dr=new Et(Ct.Ar),this.Rr=new Et(Ct.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new Ct(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Ct(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new _e(new it([])),s=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new it([])),s=new Ct(t,e),o=new Ct(t,e+1);let l=Pe();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ct(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||Ne(e.br,t.br)}static Vr(e,t){return Ne(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Ct.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qC(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new Ct(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(Ne);return t.forEach(o=>{const l=new Ct(o,0),h=new Ct(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{s=s.add(f.br)})}),Q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const h=new Ct(new _e(l),0);let f=new Et(Ne);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},h),Q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Q.forEach(t.mutations,o=>{const l=new Ct(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new Ct(t,0),o=this.vr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.Nr=e,this.docs=function(){return new nt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let s=Vr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():jt.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Vr();const h=t.path,f=new _e(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||aC(oC(E),s)<=0||(o.has(E.key)||Vc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te()}Lr(e,t){return Q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new bk(this)}getSize(e){return Q.resolve(this.size)}}class bk extends Sk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.persistence=e,this.Br=new ms(t=>Nf(t),bf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ff,this.targetCount=0,this.Qr=Co.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Co(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Nc(0),this.Ur=!1,this.Ur=!0,this.Wr=new Pk,this.referenceDelegate=e(this),this.Gr=new Dk(this),this.indexManager=new vk,this.remoteDocumentCache=function(o){return new Nk(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new gk(t),this.jr=new kk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ak,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new xk(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new Ok(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class Ok extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class Uf{constructor(e){this.persistence=e,this.Zr=new Ff,this.Xr=null}static ei(e){return new Uf(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,s=>{const o=_e.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class vc{constructor(e,t){this.persistence=e,this.ri=new ms(s=>dC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ik(this,t)}static ei(e,t){return new vc(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xu(e.data.value)),t}ir(e,t,s){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Pe(),o=Pe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new jf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return ST()?8:cC(zt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new Lk;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(co()<=Ae.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(co()<=Ae.DEBUG&&ae("QueryEngine","Query:",ho(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(co()<=Ae.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):Q.resolve())}Xi(e,t){if(py(t))return Q.resolve(null);let s=tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zd(t,null,"F"),s=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Pe(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.rs(t,f);return this.ss(t,y,h,p.readTime)?this.Xi(e,Zd(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,s,o){return py(t)||o.isEqual(Ie.min())?Q.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?Q.resolve(null):(co()<=Ae.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(t)),this.os(e,h,t,sC(o,-1)).next(f=>f))})}rs(e,t){let s=new Et(R_(e));return t.forEach((o,l)=>{Vc(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return co()<=Ae.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ho(t)),this.Zi.getDocumentsMatchingQuery(e,t,wi.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new nt(Ne),this.cs=new ms(l=>Nf(l),bf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ck(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Fk(r,e,t,s){return new Mk(r,e,t,s)}async function G_(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],f=[];let p=Pe();for(const y of o){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function Uk(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,E){const I=y.batch,S=I.keys();let b=Q.resolve();return S.forEach(V=>{b=b.next(()=>E.getEntry(p,V)).next(U=>{const D=y.docVersions.get(V);ze(D!==null),U.version.compareTo(D)<0&&(I.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),E.addEntry(U)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(p,I))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=Pe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Q_(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function jk(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((E,I)=>{const S=o.get(I);if(!S)return;f.push(t.Gr.removeMatchingKeys(l,E.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,E.addedDocuments,I)));let b=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?b=b.withResumeToken(Dt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(E.resumeToken,s)),o=o.insert(I,b),function(U,D,q){return U.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(S,b,E)&&f.push(t.Gr.updateTargetData(l,b))});let p=Vr(),y=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(zk(l,h,e.documentUpdates).next(E=>{p=E.Is,y=E.Es})),!s.isEqual(Ie.min())){const E=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(E)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function zk(r,e,t){let s=Pe(),o=Pe();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=Vr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function Bk(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $k(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new pi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function sf(r,e,t){const s=Se(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Vo(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Cy(r,e,t){const s=Se(r);let o=Ie.min(),l=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,E){const I=Se(p),S=I.cs.get(E);return S!==void 0?Q.resolve(I.us.get(S)):I.Gr.getTargetData(y,E)}(s,h,tr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:Pe())).next(f=>(Hk(s,NC(e),f),{documents:f,ds:l})))}function Hk(r,e,t){let s=r.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class ky{constructor(){this.activeTargetIds=MC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wk{constructor(){this._o=new ky,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ky,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function xd(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class Qk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const f=xd(),p=this.No(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(E=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,E),E),E=>{throw To("RestConnection",`RPC '${t}' ${f} failed with error: `,E,"url: ",p,"request:",o),E})}ko(t,s,o,l,h,f){return this.Oo(t,s,o,l,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=Kk[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=xd();return new Promise((h,f)=>{const p=new l_;p.setWithCredentials(!0),p.listenOnce(u_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yu.NO_ERROR:const E=p.getResponseJson();ae(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Yu.TIMEOUT:ae(Ft,`RPC '${e}' ${l} timed out`),f(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const I=p.getStatus();if(ae(Ft,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S==null?void 0:S.error;if(b&&b.status&&b.message){const V=function(D){const q=D.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(q)>=0?q:ee.UNKNOWN}(b.status);f(new ve(V,b.message))}else f(new ve(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Ft,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(Ft,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,s,15)})}qo(e,t,s){const o=xd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=d_(),f=h_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");ae(Ft,`Creating RPC '${e}' stream ${o}: ${E}`,p);const I=h.createWebChannel(E,p);let S=!1,b=!1;const V=new Gk({Eo:D=>{b?ae(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(S||(ae(Ft,`Opening RPC '${e}' stream ${o} transport.`),I.open(),S=!0),ae(Ft,`RPC '${e}' stream ${o} sending:`,D),I.send(D))},Ao:()=>I.close()}),U=(D,q,H)=>{D.listen(q,G=>{try{H(G)}catch(te){setTimeout(()=>{throw te},0)}})};return U(I,Ma.EventType.OPEN,()=>{b||(ae(Ft,`RPC '${e}' stream ${o} transport opened.`),V.So())}),U(I,Ma.EventType.CLOSE,()=>{b||(b=!0,ae(Ft,`RPC '${e}' stream ${o} transport closed`),V.Do())}),U(I,Ma.EventType.ERROR,D=>{b||(b=!0,To(Ft,`RPC '${e}' stream ${o} transport errored:`,D),V.Do(new ve(ee.UNAVAILABLE,"The operation could not be completed")))}),U(I,Ma.EventType.MESSAGE,D=>{var q;if(!b){const H=D.data[0];ze(!!H);const G=H,te=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(te){ae(Ft,`RPC '${e}' stream ${o} received error:`,te);const de=te.status;let fe=function(R){const P=ct[R];if(P!==void 0)return M_(P)}(de),A=te.message;fe===void 0&&(fe=ee.INTERNAL,A="Unknown error status: "+de+" with message "+te.message),b=!0,V.Do(new ve(fe,A)),I.close()}else ae(Ft,`RPC '${e}' stream ${o} received:`,H),V.vo(H)}}),U(f,c_.STAT_EVENT,D=>{D.stat===Gd.PROXY?ae(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===Gd.NOPROXY&&ae(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.bo()},0),V}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(r){return new nk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t,s,o,l,h,f,p){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Y_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new ve(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yk extends X_{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=sk(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?nr(h.readTime):Ie.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=rf(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=Jd(p)?{documents:lk(l,p)}:{query:uk(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=j_(l,h.resumeToken);const y=ef(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=yc(l,h.snapshotVersion.toTimestamp());const y=ef(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=hk(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=rf(this.serializer),t.removeTarget=e,this.c_(t)}}class Xk extends X_{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=ak(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=rf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ok(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,tf(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ee.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,tf(t,s),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(ee.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Zk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Lr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ys(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.k_.add(4),await _l(y),y.K_.set("Unknown"),y.k_.delete(4),await zc(y)}(this))})}),this.K_=new Zk(s,o)}}async function zc(r){if(ys(r))for(const e of r.q_)await e(!0)}async function _l(r){for(const e of r.q_)await e(!1)}function J_(r,e){const t=Se(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Hf(t)?$f(t):Mo(t).s_()&&Bf(t,e))}function zf(r,e){const t=Se(r),s=Mo(t);t.B_.delete(e),s.s_()&&Z_(t,e),t.B_.size===0&&(s.s_()?s.a_():ys(t)&&t.K_.set("Unknown"))}function Bf(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mo(r).V_(e)}function Z_(r,e){r.U_.xe(e),Mo(r).m_(e)}function $f(r){r.U_=new JC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.K_.F_()}function Hf(r){return ys(r)&&!Mo(r).i_()&&r.B_.size>0}function ys(r){return Se(r).k_.size===0}function e0(r){r.U_=void 0}async function tA(r){r.K_.set("Online")}async function nA(r){r.B_.forEach((e,t)=>{Bf(r,e)})}async function rA(r,e){e0(r),Hf(r)?(r.K_.O_(e),$f(r)):r.K_.set("Unknown")}async function iA(r,e,t){if(r.K_.set("Online"),e instanceof U_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(r,s)}else if(e instanceof ec?r.U_.$e(e):e instanceof F_?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ie.min()))try{const s=await Q_(r.localStore);t.compareTo(s)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.B_.get(y);E&&l.B_.set(y,E.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const E=l.B_.get(p);if(!E)return;l.B_.set(p,E.withResumeToken(Dt.EMPTY_BYTE_STRING,E.snapshotVersion)),Z_(l,p);const I=new pi(E.target,p,y,E.sequenceNumber);Bf(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await _c(r,s)}}async function _c(r,e,t){if(!Vo(e))throw e;r.k_.add(1),await _l(r),r.K_.set("Offline"),t||(t=()=>Q_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await zc(r)})}function t0(r,e){return e().catch(t=>_c(r,t,e))}async function Bc(r){const e=Se(r),t=Ri(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;sA(e);)try{const o=await Bk(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,oA(e,o)}catch(o){await _c(e,o)}n0(e)&&r0(e)}function sA(r){return ys(r)&&r.L_.length<10}function oA(r,e){r.L_.push(e);const t=Ri(r);t.s_()&&t.f_&&t.g_(e.mutations)}function n0(r){return ys(r)&&!Ri(r).i_()&&r.L_.length>0}function r0(r){Ri(r).start()}async function aA(r){Ri(r).w_()}async function lA(r){const e=Ri(r);for(const t of r.L_)e.g_(t.mutations)}async function uA(r,e,t){const s=r.L_.shift(),o=Lf.from(s,e,t);await t0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Bc(r)}async function cA(r,e){e&&Ri(r).f_&&await async function(s,o){if(function(h){return QC(h)&&h!==ee.ABORTED}(o.code)){const l=s.L_.shift();Ri(s).__(),await t0(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Bc(s)}}(r,e),n0(r)&&r0(r)}async function Py(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=ys(t);t.k_.add(3),await _l(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await zc(t)}async function hA(r,e){const t=Se(r);e?(t.k_.delete(2),await zc(t)):e||(t.k_.add(2),await _l(t),t.K_.set("Unknown"))}function Mo(r){return r.W_||(r.W_=function(t,s,o){const l=Se(t);return l.b_(),new Yk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:tA.bind(null,r),mo:nA.bind(null,r),po:rA.bind(null,r),R_:iA.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Hf(r)?$f(r):r.K_.set("Unknown")):(await r.W_.stop(),e0(r))})),r.W_}function Ri(r){return r.G_||(r.G_=function(t,s,o){const l=Se(t);return l.b_(),new Xk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:aA.bind(null,r),po:cA.bind(null,r),p_:lA.bind(null,r),y_:uA.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Bc(r)):(await r.G_.stop(),r.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new Wf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qf(r,e){if(Lr("AsyncQueue",`${e}: ${r}`),Vo(r))return new ve(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Fa(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.z_=new nt(_e.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ko{constructor(e,t,s,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new ko(e,t,Eo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class fA{constructor(){this.queries=Ny(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Se(t),l=o.queries;o.queries=Ny(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(s)})})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function Ny(){return new ms(r=>S_(r),Lc)}async function pA(r,e){const t=Se(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new dA,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=qf(h,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Kf(t)}async function mA(r,e){const t=Se(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function gA(r,e){const t=Se(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&Kf(t)}function yA(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function Kf(r){r.X_.forEach(e=>{e.next()})}var of,by;(by=of||(of={})).na="default",by.Cache="cache";class vA{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.key=e}}class s0{constructor(e){this.key=e}}class _A{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pe(),this.mutatedKeys=Pe(),this.Va=R_(e),this.ma=new Eo(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new xy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,I)=>{const S=o.get(E),b=Vc(this.query,I)?I:null,V=!!S&&this.mutatedKeys.has(S.key),U=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;S&&b?S.data.isEqual(b.data)?V!==U&&(s.track({type:3,doc:b}),D=!0):this.ya(S,b)||(s.track({type:2,doc:b}),D=!0,(p&&this.Va(b,p)>0||y&&this.Va(b,y)<0)&&(f=!0)):!S&&b?(s.track({type:0,doc:b}),D=!0):S&&!b&&(s.track({type:1,doc:S}),D=!0,(p||y)&&(f=!0)),D&&(b?(h=h.add(b),l=U?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,I)=>function(b,V){const U=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return U(b)-U(V)}(E.type,I.type)||this.Va(E.doc,I.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new ko(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new xy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Pe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new s0(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new i0(s))}),t}va(e){this.da=e.ds,this.Ra=Pe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class EA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wA{constructor(e){this.key=e,this.Fa=!1}}class TA{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new ms(f=>S_(f),Lc),this.Oa=new Map,this.Na=new Set,this.La=new nt(_e.comparator),this.Ba=new Map,this.ka=new Ff,this.qa={},this.Qa=new Map,this.Ka=Co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function IA(r,e,t=!0){const s=h0(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await o0(s,e,t,!0),o}async function SA(r,e){const t=h0(r);await o0(t,e,!0,!1)}async function o0(r,e,t,s){const o=await $k(r.localStore,tr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await RA(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&J_(r.remoteStore,o),f}async function RA(r,e,t,s,o){r.Ua=(I,S,b)=>async function(U,D,q,H){let G=D.view.ga(q);G.ss&&(G=await Cy(U.localStore,D.query,!1).then(({documents:A})=>D.view.ga(A,G)));const te=H&&H.targetChanges.get(D.targetId),de=H&&H.targetMismatches.get(D.targetId)!=null,fe=D.view.applyChanges(G,U.isPrimaryClient,te,de);return Oy(U,D.targetId,fe.ba),fe.snapshot}(r,I,S,b);const l=await Cy(r.localStore,e,!0),h=new _A(e,l.ds),f=h.ga(l.documents),p=vl.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,p);Oy(r,t,y.ba);const E=new EA(e,t,h);return r.xa.set(e,E),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function CA(r,e,t){const s=Se(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!Lc(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&zf(s.remoteStore,o.targetId),af(s,o.targetId)}).catch(Lo)):(af(s,o.targetId),await sf(s.localStore,o.targetId,!0))}async function kA(r,e){const t=Se(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),zf(t.remoteStore,s.targetId))}async function AA(r,e,t){const s=LA(r);try{const o=await function(h,f){const p=Se(h),y=_t.now(),E=f.reduce((b,V)=>b.add(V.key),Pe());let I,S;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let V=Vr(),U=Pe();return p.hs.getEntries(b,E).next(D=>{V=D,V.forEach((q,H)=>{H.isValidDocument()||(U=U.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,V)).next(D=>{I=D;const q=[];for(const H of f){const G=HC(H,I.get(H.key).overlayedDocument);G!=null&&q.push(new gs(H.key,G,y_(G.value.mapValue),Nr.exists(!0)))}return p.mutationQueue.addMutationBatch(b,y,q,f)}).next(D=>{S=D;const q=D.applyToLocalDocumentSet(I,U);return p.documentOverlayCache.saveOverlays(b,D.batchId,q)})}).then(()=>({batchId:S.batchId,changes:k_(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new nt(Ne)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await El(s,o.changes),await Bc(s.remoteStore)}catch(o){const l=qf(o,"Failed to persist write");t.reject(l)}}async function a0(r,e){const t=Se(r);try{const s=await jk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?ze(h.Fa):o.removedDocuments.size>0&&(ze(h.Fa),h.Fa=!1))}),await El(t,s,e)}catch(s){await Lo(s)}}function Dy(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Se(h);p.onlineState=f;let y=!1;p.queries.forEach((E,I)=>{for(const S of I.J_)S.ea(f)&&(y=!0)}),y&&Kf(p)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PA(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let h=new nt(_e.comparator);h=h.insert(l,jt.newNoDocument(l,Ie.min()));const f=Pe().add(l),p=new Uc(Ie.min(),new Map,new nt(Ne),h,f);await a0(s,p),s.La=s.La.remove(l),s.Ba.delete(e),Gf(s)}else await sf(s.localStore,e,!1).then(()=>af(s,e,t)).catch(Lo)}async function xA(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await Uk(t.localStore,e);u0(t,s,null),l0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await El(t,o)}catch(o){await Lo(o)}}async function NA(r,e,t){const s=Se(r);try{const o=await function(h,f){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,f).next(I=>(ze(I!==null),E=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);u0(s,e,t),l0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await El(s,o)}catch(o){await Lo(o)}}function l0(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function u0(r,e,t){const s=Se(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function af(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||c0(r,s)})}function c0(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(zf(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),Gf(r))}function Oy(r,e,t){for(const s of t)s instanceof i0?(r.ka.addReference(s.key,e),bA(r,s)):s instanceof s0?(ae("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||c0(r,s.key)):Te()}function bA(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(ae("SyncEngine","New document in limbo: "+t),r.Na.add(s),Gf(r))}function Gf(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new _e(it.fromString(e)),s=r.Ka.next();r.Ba.set(s,new wA(t)),r.La=r.La.insert(t,s),J_(r.remoteStore,new pi(tr(Df(t.path)),s,"TargetPurposeLimboResolution",Nc.oe))}}async function El(r,e,t){const s=Se(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,p)=>{h.push(s.Ua(p,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const I=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=jf.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(p,y){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(y,S=>Q.forEach(S.Wi,b=>E.persistence.referenceDelegate.addReference(I,S.targetId,b)).next(()=>Q.forEach(S.Gi,b=>E.persistence.referenceDelegate.removeReference(I,S.targetId,b)))))}catch(I){if(!Vo(I))throw I;ae("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const S=I.targetId;if(!I.fromCache){const b=E.us.get(S),V=b.snapshotVersion,U=b.withLastLimboFreeSnapshotVersion(V);E.us=E.us.insert(S,U)}}}(s.localStore,l))}async function DA(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await G_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ve(ee.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await El(t,s.Ts)}}function OA(r,e){const t=Se(r),s=t.Ba.get(e);if(s&&s.Fa)return Pe().add(s.key);{let o=Pe();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function h0(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PA.bind(null,e),e.Ma.R_=gA.bind(null,e.eventManager),e.Ma.Wa=yA.bind(null,e.eventManager),e}function LA(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NA.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Fk(this.persistence,new Vk,e.initialUser,this.serializer)}ja(e){return new K_(Uf.ei,this.serializer)}za(e){return new Wk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class VA extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ze(this.persistence.referenceDelegate instanceof vc);const s=this.persistence.referenceDelegate.garbageCollector;return new wk(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new K_(s=>vc.ei(s,t),this.serializer)}}class lf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DA.bind(null,this.syncEngine),await hA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fA}()}createDatastore(e){const t=jc(e.databaseInfo.databaseId),s=function(l){return new Qk(l)}(e.databaseInfo);return function(l,h,f,p){return new Jk(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,f){return new eA(s,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Dy(this.syncEngine,t,0),function(){return Ay.p()?new Ay:new qk}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,E){const I=new TA(o,l,h,f,p,y);return E&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await _l(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lf.provider={build:()=>new lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=p_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=qf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bd(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await G_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Ly(r,e){r.asyncQueue.verifyOperationInProgress();const t=await UA(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Py(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Py(e.remoteStore,o)),r._onlineComponents=e}async function UA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;To("Error using user provided cache. Falling back to memory cache: "+t),await bd(r,new Ec)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await bd(r,new VA(void 0));return r._offlineComponents}async function d0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Ly(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Ly(r,new lf))),r._onlineComponents}function jA(r){return d0(r).then(e=>e.syncEngine)}async function zA(r){const e=await d0(r),t=e.eventManager;return t.onListen=IA.bind(null,e.syncEngine),t.onUnlisten=CA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kA.bind(null,e.syncEngine),t}function BA(r,e,t={}){const s=new vi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const E=new MA({next:S=>{E.eu(),h.enqueueAndForget(()=>mA(l,I));const b=S.docs.has(f);!b&&S.fromCache?y.reject(new ve(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&S.fromCache&&p&&p.source==="server"?y.reject(new ve(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new vA(Df(f.path),E,{includeMetadataChanges:!0,ua:!0});return pA(l,I)}(await zA(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r,e,t){if(!t)throw new ve(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HA(r,e,t,s){if(e===!0&&s===!0)throw new ve(ee.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function My(r){if(!_e.isDocumentKey(r))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function nl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qf(r);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YR;switch(s.type){case"firstParty":return new eC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Vy.get(t);s&&(ae("ComponentProvider","Removing Datastore"),Vy.delete(t),s.terminate())}(this),Promise.resolve()}}function WA(r,e,t,s={}){var o;const l=(r=nl(r,Yf))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let f,p;if(typeof s.mockUserToken=="string")f=s.mockUserToken,p=Ut.MOCK_USER;else{f=yT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ut(y)}r._authCredentials=new XR(new f_(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xf(this.firestore,e,this._query)}}class Tn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class rl extends Xf{constructor(e,t,s){super(e,t,Df(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new _e(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function uf(r,e,...t){if(r=cn(r),arguments.length===1&&(e=p_.newId()),$A("doc","path",e),r instanceof Yf){const s=it.fromString(e,...t);return My(s),new Tn(r,null,new _e(s))}{if(!(r instanceof Tn||r instanceof rl))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...t));return My(s),new Tn(r.firestore,r instanceof rl?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Y_(this,"async_queue_retry"),this.fu=()=>{const s=Nd();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Nd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Nd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new vi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Vo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Lr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Wf.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Jf extends Yf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Uy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uy(e),this._firestoreClient=void 0,await e}}}function p0(r,e){const t=typeof r=="object"?r:dv(),s=typeof r=="string"?r:"(default)",o=vf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=mT("firestore");l&&WA(o,...l)}return o}function m0(r){if(r._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qA(r),r._firestoreClient}function qA(r){var e,t,s;const o=r._freezeSettings(),l=function(f,p,y,E){return new mC(f,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,f0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new FA(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(Dt.fromBase64String(e))}catch(t){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ao(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=/^__.*__$/;class GA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}function y0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class np{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return wc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(y0(this.Mu)&&KA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class QA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jc(e)}$u(e,t,s,o=!1){return new np({Mu:e,methodName:t,Ku:s,path:bt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YA(r){const e=r._freezeSettings(),t=jc(r._databaseId);return new QA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function XA(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);w0("Data must be an object, but it was:",h,s);const f=_0(s,h);let p,y;if(l.merge)p=new Fn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const I of l.mergeFields){const S=JA(e,I,t);if(!h.contains(S))throw new ve(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);eP(E,S)||E.push(S)}p=new Fn(E),y=h.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=h.fieldTransforms;return new GA(new wn(f),p,y)}function v0(r,e){if(E0(r=cn(r)))return w0("Unsupported field value:",e,r),_0(r,e);if(r instanceof g0)return function(s,o){if(!y0(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const f of s){let p=v0(f,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=_t.fromDate(s);return{timestampValue:yc(o.serializer,l)}}if(s instanceof _t){const l=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yc(o.serializer,l)}}if(s instanceof ep)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:j_(o.serializer,s._byteString)};if(s instanceof Tn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof tp)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Of(f.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Qf(s)}`)}(r,e)}function _0(r,e){const t={};return m_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,(s,o)=>{const l=v0(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function E0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof ep||r instanceof Ao||r instanceof Tn||r instanceof g0||r instanceof tp)}function w0(r,e,t){if(!E0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Qf(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function JA(r,e,t){if((e=cn(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return T0(r,e);throw wc("Field path arguments must be of type string or ",r,!1,void 0,t)}const ZA=new RegExp("[~\\*/\\[\\]]");function T0(r,e,t){if(e.search(ZA)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Zf(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wc(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ve(ee.INVALID_ARGUMENT,f+r+p)}function eP(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(S0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tP extends I0{data(){return super.data()}}function S0(r,e){return typeof e=="string"?T0(r,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}class nP{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ps(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>at(h.doubleValue));return new tp(l)}convertGeoPoint(e){return new ep(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Dc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const t=Ti(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);ze(q_(s));const o=new Ja(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return o.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R0 extends I0{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(S0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class sP extends R0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(r){r=nl(r,Tn);const e=nl(r.firestore,Jf);return BA(m0(e),r._key).then(t=>uP(e,r,t))}class aP extends nP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function jy(r,e,t){r=nl(r,Tn);const s=nl(r.firestore,Jf),o=rP(r.converter,e);return lP(s,[XA(YA(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Nr.none())])}function lP(r,e){return function(s,o){const l=new vi;return s.asyncQueue.enqueueAndForget(async()=>AA(await jA(s),o,l)),l.promise}(m0(r),e)}function uP(r,e,t){const s=t.docs.get(e._key),o=new aP(r);return new R0(r,o,e._key,s,new iP(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Oo=o})(No),wo(new as("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new Jf(new JR(s.getProvider("auth-internal")),new nC(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(y.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),yi(ry,"4.7.5",e),yi(ry,"4.7.5","esm2017")})();function cP(){const[r,e]=B.useState(""),[t,s]=B.useState(""),[o,l]=B.useState(""),[h,f]=B.useState(""),p=ol(),y=Do(Ei),E=p0(Ei),[I,S]=B.useState(null);B.useEffect(()=>{const V=fl(y,U=>{S(U||null)});return()=>V()},[y]);const b=async()=>{if(!o||!r||!t||!h){alert("Please fill in all fields!");return}if(!I){alert("You need to be logged in to create a portfolio.");return}try{const V=uf(E,"portfolios",I.email),U=uf(E,"portfolios",I.email,"projects",r);await jy(V,{userName:o}),await jy(U,{projectName:r,description:t,theme:h,createdAt:new Date}),console.log("Document written with ID: "),p(`/${encodeURIComponent(o)}/${encodeURIComponent(r)}`)}catch(V){console.error("Error adding document: ",V)}};return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"bg-base-200 w-full min-h-80 shadow-md p-6",children:[N.jsx("div",{className:"mb-4",children:N.jsx("input",{className:"input input-bordered w-full",type:"text",placeholder:"Project Name",onChange:V=>e(V.target.value)})}),N.jsx("div",{className:"mb-4",children:N.jsx("input",{className:"input input-bordered w-full",type:"text",placeholder:"Description",onChange:V=>s(V.target.value)})}),N.jsx("div",{className:"mb-4",children:N.jsx("input",{className:"input input-bordered w-full",type:"text",placeholder:"Your Name",onChange:V=>l(V.target.value)})}),N.jsx("div",{className:"mb-4",children:N.jsxs("select",{className:"select select-bordered w-full",onChange:V=>f(V.target.value),children:[N.jsx("option",{value:"",disabled:!0,children:"Select Theme"}),N.jsx("option",{value:"Game of Thrones",children:"Game of Thrones"}),N.jsx("option",{value:"Lost",children:"Lost"}),N.jsx("option",{value:"Breaking Bad",children:"Breaking Bad"}),N.jsx("option",{value:"Walking Dead",children:"Walking Dead"})]})}),N.jsx("button",{className:"btn btn-primary w-full",onClick:b,children:"Start"})]})})}function hP(){const{userName:r,projectName:e}=fw(),[t,s]=B.useState(null),[o,l]=B.useState(!0),[h,f]=B.useState(null),p=p0(Ei),[y,E]=B.useState(null),I=Do(Ei);return B.useEffect(()=>{const S=fl(I,b=>{b?(E(b),console.log("User found:",b.email)):(E(null),console.log("No user authenticated"))});return()=>S()},[I]),B.useEffect(()=>{console.log("userName:",r,"projectName:",e),(async()=>{try{const b=uf(p,"portfolios",y.email,"projects",e),V=await oP(b);V.exists()?s(V.data()):f("No matching portfolio found!")}catch(b){f(`Error fetching portfolio data. ${er.messager}`),console.error(b)}finally{l(!1)}})()},[y,e,p]),o?N.jsx("div",{children:"Loading portfolio..."}):h?N.jsxs("div",{children:["Error: ",h]}):N.jsxs("div",{className:"portfolio-container p-6",children:[N.jsx("h1",{className:"text-3xl font-bold",children:t==null?void 0:t.projectName}),N.jsx("p",{className:"mt-4 text-lg",children:t==null?void 0:t.description}),N.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Created by: ",t==null?void 0:t.userName]}),N.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Theme: ",t==null?void 0:t.theme]})]})}function dP(){const[r,e]=B.useState(!0);return Do(Ei),B.useEffect(()=>{const t=setTimeout(()=>{e(!1)},2e3);return()=>{clearTimeout(t)}},[]),N.jsxs(N.Fragment,{children:[N.jsx(o_,{}),N.jsx(nR,{}),r?N.jsx("main",{className:"h-screen",children:N.jsx(Jv,{})}):N.jsx("main",{className:"h-screen",children:N.jsxs(Aw,{children:[N.jsx(ns,{path:"/",element:N.jsx(fR,{})}),N.jsx(ns,{path:"/*",element:N.jsx("div",{className:"grid place-items-center h-1/2",children:N.jsxs("h3",{className:"flex flex-col justify-center align-middle",children:[N.jsx("span",{className:"text-green-500 text-6xl",children:":("}),N.jsx("h1",{className:"m-1 text-2xl",children:"Unable To Find Your File. Try Returning Home."})]})})}),N.jsx(ns,{path:"/auth",element:N.jsx(GR,{})}),N.jsx(ns,{path:"/dashboard",element:N.jsx(QR,{})}),N.jsx(ns,{path:"/new",element:N.jsx(cP,{})}),N.jsx(ns,{path:"/:userName/:projectName",element:N.jsx(hP,{})})]})}),N.jsx(rR,{})]})}ME.createRoot(document.getElementById("root")).render(N.jsx(Jw,{basename:"/Inue",children:N.jsx(dP,{})}));

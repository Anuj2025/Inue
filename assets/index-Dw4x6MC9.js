(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Yy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vd={exports:{}},Da={},wd={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function jw(){if(pg)return Ae;pg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,z={};function D(F,Y,me){this.props=F,this.context=Y,this.refs=z,this.updater=me||L}D.prototype.isReactComponent={},D.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function q(){}q.prototype=D.prototype;function H(F,Y,me){this.props=F,this.context=Y,this.refs=z,this.updater=me||L}var G=H.prototype=new q;G.constructor=H,V(G,D.prototype),G.isPureReactComponent=!0;var te=Array.isArray,fe=Object.prototype.hasOwnProperty,pe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(F,Y,me){var Re,Ce={},De=null,Ue=null;if(Y!=null)for(Re in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)fe.call(Y,Re)&&!k.hasOwnProperty(Re)&&(Ce[Re]=Y[Re]);var je=arguments.length-2;if(je===1)Ce.children=me;else if(1<je){for(var We=Array(je),Et=0;Et<je;Et++)We[Et]=arguments[Et+2];Ce.children=We}if(F&&F.defaultProps)for(Re in je=F.defaultProps,je)Ce[Re]===void 0&&(Ce[Re]=je[Re]);return{$$typeof:n,type:F,key:De,ref:Ue,props:Ce,_owner:pe.current}}function R(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function b(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(me){return Y[me]})}var M=/\/+/g;function A(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?b(""+F.key):Y.toString(36)}function Ze(F,Y,me,Re,Ce){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=F,Ce=Ce(Ue),F=Re===""?"."+A(Ue,0):Re,te(Ce)?(me="",F!=null&&(me=F.replace(M,"$&/")+"/"),Ze(Ce,Y,me,"",function(Et){return Et})):Ce!=null&&(P(Ce)&&(Ce=R(Ce,me+(!Ce.key||Ue&&Ue.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+F)),Y.push(Ce)),1;if(Ue=0,Re=Re===""?".":Re+":",te(F))for(var je=0;je<F.length;je++){De=F[je];var We=Re+A(De,je);Ue+=Ze(De,Y,me,We,Ce)}else if(We=S(F),typeof We=="function")for(F=We.call(F),je=0;!(De=F.next()).done;)De=De.value,We=Re+A(De,je++),Ue+=Ze(De,Y,me,We,Ce);else if(De==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function dt(F,Y,me){if(F==null)return F;var Re=[],Ce=0;return Ze(F,Re,"","",function(De){return Y.call(me,De,Ce++)}),Re}function ft(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(me){(F._status===0||F._status===-1)&&(F._status=1,F._result=me)},function(me){(F._status===0||F._status===-1)&&(F._status=2,F._result=me)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Ve={current:null},re={transition:null},ye={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:re,ReactCurrentOwner:pe};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:dt,forEach:function(F,Y,me){dt(F,function(){Y.apply(this,arguments)},me)},count:function(F){var Y=0;return dt(F,function(){Y++}),Y},toArray:function(F){return dt(F,function(Y){return Y})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ae.Component=D,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=H,Ae.StrictMode=i,Ae.Suspense=p,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ae.act=oe,Ae.cloneElement=function(F,Y,me){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Re=V({},F.props),Ce=F.key,De=F.ref,Ue=F._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Ue=pe.current),Y.key!==void 0&&(Ce=""+Y.key),F.type&&F.type.defaultProps)var je=F.type.defaultProps;for(We in Y)fe.call(Y,We)&&!k.hasOwnProperty(We)&&(Re[We]=Y[We]===void 0&&je!==void 0?je[We]:Y[We])}var We=arguments.length-2;if(We===1)Re.children=me;else if(1<We){je=Array(We);for(var Et=0;Et<We;Et++)je[Et]=arguments[Et+2];Re.children=je}return{$$typeof:n,type:F.type,key:Ce,ref:De,props:Re,_owner:Ue}},Ae.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Ae.createElement=I,Ae.createFactory=function(F){var Y=I.bind(null,F);return Y.type=F,Y},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(F){return{$$typeof:f,render:F}},Ae.isValidElement=P,Ae.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:ft}},Ae.memo=function(F,Y){return{$$typeof:y,type:F,compare:Y===void 0?null:Y}},Ae.startTransition=function(F){var Y=re.transition;re.transition={};try{F()}finally{re.transition=Y}},Ae.unstable_act=oe,Ae.useCallback=function(F,Y){return Ve.current.useCallback(F,Y)},Ae.useContext=function(F){return Ve.current.useContext(F)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(F){return Ve.current.useDeferredValue(F)},Ae.useEffect=function(F,Y){return Ve.current.useEffect(F,Y)},Ae.useId=function(){return Ve.current.useId()},Ae.useImperativeHandle=function(F,Y,me){return Ve.current.useImperativeHandle(F,Y,me)},Ae.useInsertionEffect=function(F,Y){return Ve.current.useInsertionEffect(F,Y)},Ae.useLayoutEffect=function(F,Y){return Ve.current.useLayoutEffect(F,Y)},Ae.useMemo=function(F,Y){return Ve.current.useMemo(F,Y)},Ae.useReducer=function(F,Y,me){return Ve.current.useReducer(F,Y,me)},Ae.useRef=function(F){return Ve.current.useRef(F)},Ae.useState=function(F){return Ve.current.useState(F)},Ae.useSyncExternalStore=function(F,Y,me){return Ve.current.useSyncExternalStore(F,Y,me)},Ae.useTransition=function(){return Ve.current.useTransition()},Ae.version="18.3.1",Ae}var mg;function pf(){return mg||(mg=1,wd.exports=jw()),wd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function zw(){if(gg)return Da;gg=1;var n=pf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var w,T={},S=null,L=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(L=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:f,key:S,ref:L,props:T,_owner:o.current}}return Da.Fragment=t,Da.jsx=h,Da.jsxs=h,Da}var yg;function Bw(){return yg||(yg=1,vd.exports=zw()),vd.exports}var N=Bw(),$=pf();const Fe=Yy($);var Ou={},Ed={exports:{}},tn={},Td={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function $w(){return _g||(_g=1,function(n){function e(re,ye){var oe=re.length;re.push(ye);e:for(;0<oe;){var F=oe-1>>>1,Y=re[F];if(0<o(Y,ye))re[F]=ye,re[oe]=Y,oe=F;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var ye=re[0],oe=re.pop();if(oe!==ye){re[0]=oe;e:for(var F=0,Y=re.length,me=Y>>>1;F<me;){var Re=2*(F+1)-1,Ce=re[Re],De=Re+1,Ue=re[De];if(0>o(Ce,oe))De<Y&&0>o(Ue,Ce)?(re[F]=Ue,re[De]=oe,F=De):(re[F]=Ce,re[Re]=oe,F=Re);else if(De<Y&&0>o(Ue,oe))re[F]=Ue,re[De]=oe,F=De;else break e}}return ye}function o(re,ye){var oe=re.sortIndex-ye.sortIndex;return oe!==0?oe:re.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],y=[],w=1,T=null,S=3,L=!1,V=!1,z=!1,D=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(re){for(var ye=t(y);ye!==null;){if(ye.callback===null)i(y);else if(ye.startTime<=re)i(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function te(re){if(z=!1,G(re),!V)if(t(p)!==null)V=!0,ft(fe);else{var ye=t(y);ye!==null&&Ve(te,ye.startTime-re)}}function fe(re,ye){V=!1,z&&(z=!1,q(I),I=-1),L=!0;var oe=S;try{for(G(ye),T=t(p);T!==null&&(!(T.expirationTime>ye)||re&&!b());){var F=T.callback;if(typeof F=="function"){T.callback=null,S=T.priorityLevel;var Y=F(T.expirationTime<=ye);ye=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),G(ye)}else i(p);T=t(p)}if(T!==null)var me=!0;else{var Re=t(y);Re!==null&&Ve(te,Re.startTime-ye),me=!1}return me}finally{T=null,S=oe,L=!1}}var pe=!1,k=null,I=-1,R=5,P=-1;function b(){return!(n.unstable_now()-P<R)}function M(){if(k!==null){var re=n.unstable_now();P=re;var ye=!0;try{ye=k(!0,re)}finally{ye?A():(pe=!1,k=null)}}else pe=!1}var A;if(typeof H=="function")A=function(){H(M)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,dt=Ze.port2;Ze.port1.onmessage=M,A=function(){dt.postMessage(null)}}else A=function(){D(M,0)};function ft(re){k=re,pe||(pe=!0,A())}function Ve(re,ye){I=D(function(){re(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){V||L||(V=!0,ft(fe))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(S){case 1:case 2:case 3:var ye=3;break;default:ye=S}var oe=S;S=ye;try{return re()}finally{S=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=S;S=re;try{return ye()}finally{S=oe}},n.unstable_scheduleCallback=function(re,ye,oe){var F=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,re={id:w++,callback:ye,priorityLevel:re,startTime:oe,expirationTime:Y,sortIndex:-1},oe>F?(re.sortIndex=oe,e(y,re),t(p)===null&&re===t(y)&&(z?(q(I),I=-1):z=!0,Ve(te,oe-F))):(re.sortIndex=Y,e(p,re),V||L||(V=!0,ft(fe))),re},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(re){var ye=S;return function(){var oe=S;S=ye;try{return re.apply(this,arguments)}finally{S=oe}}}}(Id)),Id}var vg;function Hw(){return vg||(vg=1,Td.exports=$w()),Td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function Ww(){if(wg)return tn;wg=1;var n=pf(),e=Hw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function L(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,s,a,c){if(s===null||typeof s>"u"||L(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,a,c,d,g,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=v}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,H);D[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,H);D[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,H);D[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,c){var d=D.hasOwnProperty(s)?D[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,a,d,c)&&(a=null),c||d===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),pe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),b=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Ve=Symbol.for("react.offscreen"),re=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,F;function Y(r){if(F===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var me=!1;function Re(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var c=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){c=W}r.call(s.prototype)}else{try{throw Error()}catch(W){c=W}r()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var d=W.stack.split(`
`),g=c.stack.split(`
`),v=d.length-1,C=g.length-1;1<=v&&0<=C&&d[v]!==g[C];)C--;for(;1<=v&&0<=C;v--,C--)if(d[v]!==g[C]){if(v!==1||C!==1)do if(v--,C--,0>C||d[v]!==g[C]){var x=`
`+d[v].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=v&&0<=C);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ce(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case pe:return"Portal";case R:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case Ze:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dt:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case ft:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=We(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,g.call(this,v)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ar(r){r._valueTracker||(r._valueTracker=Et(r))}function ys(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=We(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Mr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ai(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function _s(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fo(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Uo(r,s){Fo(r,s);var a=je(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?vs(r,s.type,a):s.hasOwnProperty("defaultValue")&&vs(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function vl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function vs(r,s,a){(s!=="number"||Mr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var lr=Array.isArray;function ur(r,s,a,c){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function jo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ws(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(lr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:je(a)}}function Es(r,s){var a=je(s.value),c=je(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function zo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var cr,Bo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=cr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Fr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pi=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(r){Pi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ki[s]=ki[r]})});function $o(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ki.hasOwnProperty(r)&&ki[r]?(""+s).trim():s+"px"}function Ho(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=$o(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var Wo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(r,s){if(s){if(Wo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ko(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xi=null;function Ts(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,hn=null,zn=null;function Ss(r){if(r=ya(r)){if(typeof Is!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ql(s),Is(r.stateNode,r.type,s))}}function Bn(r){hn?zn?zn.push(r):zn=[r]:hn=r}function Go(){if(hn){var r=hn,s=zn;if(zn=hn=null,Ss(r),s)for(r=0;r<s.length;r++)Ss(s[r])}}function Ni(r,s){return r(s)}function Qo(){}var hr=!1;function Yo(r,s,a){if(hr)return r(s,a);hr=!0;try{return Ni(r,s,a)}finally{hr=!1,(hn!==null||zn!==null)&&(Qo(),Go())}}function st(r,s){var a=r.stateNode;if(a===null)return null;var c=Ql(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Rs=!1;if(f)try{var In={};Object.defineProperty(In,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{Rs=!1}function Di(r,s,a,c,d,g,v,C,x){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(Z){this.onError(Z)}}var bi=!1,Cs=null,Sn=!1,Xo=null,Kc={onError:function(r){bi=!0,Cs=r}};function As(r,s,a,c,d,g,v,C,x){bi=!1,Cs=null,Di.apply(Kc,arguments)}function wl(r,s,a,c,d,g,v,C,x){if(As.apply(this,arguments),bi){if(bi){var W=Cs;bi=!1,Cs=null}else throw Error(t(198));Sn||(Sn=!0,Xo=W)}}function Rn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Oi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Cn(r){if(Rn(r)!==r)throw Error(t(188))}function El(r){var s=r.alternate;if(!s){if(s=Rn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Cn(d),r;if(g===c)return Cn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var v=!1,C=d.child;C;){if(C===a){v=!0,a=d,c=g;break}if(C===c){v=!0,c=d,a=g;break}C=C.sibling}if(!v){for(C=g.child;C;){if(C===a){v=!0,a=g,c=d;break}if(C===c){v=!0,c=g,a=d;break}C=C.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Jo(r){return r=El(r),r!==null?ks(r):null}function ks(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ks(r);if(s!==null)return s;r=r.sibling}return null}var Ps=e.unstable_scheduleCallback,Zo=e.unstable_cancelCallback,Tl=e.unstable_shouldYield,Gc=e.unstable_requestPaint,qe=e.unstable_now,Il=e.unstable_getCurrentPriorityLevel,Li=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,dn=e.unstable_NormalPriority,ea=e.unstable_LowPriority,Sl=e.unstable_IdlePriority,Vi=null,rn=null;function Rl(r){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Vi,r,void 0,(r.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Al,ta=Math.log,Cl=Math.LN2;function Al(r){return r>>>=0,r===0?32:31-(ta(r)/Cl|0)|0}var xs=64,Ns=4194304;function jr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Mi(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,v=a&268435455;if(v!==0){var C=v&~d;C!==0?c=jr(C):(g&=v,g!==0&&(c=jr(g)))}else v=a&~d,v!==0?c=jr(v):g!==0&&(c=jr(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&d)&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Bt(s),d=1<<a,c|=r[a],s&=~d;return c}function Qc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var v=31-Bt(g),C=1<<v,x=d[v];x===-1?(!(C&a)||C&c)&&(d[v]=Qc(C,s)):x<=s&&(r.expiredLanes|=C),g&=~C}}function sn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Fi(){var r=xs;return xs<<=1,!(xs&4194240)&&(xs=64),r}function zr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Br(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Bt(s),r[s]=a}function He(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Bt(a),g=1<<d;s[d]=0,c[d]=-1,r[d]=-1,a&=~g}}function $r(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Bt(a),d=1<<c;d&s|r[c]&s&&(r[c]|=s),a&=~d}}var xe=0;function Hr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var kl,Ds,Pl,xl,Nl,na=!1,$n=[],At=null,An=null,kn=null,Wr=new Map,fn=new Map,Hn=[],Yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(r,s){switch(r){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Wr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(s.pointerId)}}function Gt(r,s,a,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ya(s),s!==null&&Ds(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Xc(r,s,a,c,d){switch(s){case"focusin":return At=Gt(At,r,s,a,c,d),!0;case"dragenter":return An=Gt(An,r,s,a,c,d),!0;case"mouseover":return kn=Gt(kn,r,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Wr.set(g,Gt(Wr.get(g)||null,r,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,fn.set(g,Gt(fn.get(g)||null,r,s,a,c,d)),!0}return!1}function bl(r){var s=$i(r.target);if(s!==null){var a=Rn(s);if(a!==null){if(s=a.tag,s===13){if(s=Oi(a),s!==null){r.blockedOn=s,Nl(r.priority,function(){Pl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=bs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);xi=c,a.target.dispatchEvent(c),xi=null}else return s=ya(a),s!==null&&Ds(s),r.blockedOn=a,!1;s.shift()}return!0}function Ui(r,s,a){fr(r)&&a.delete(s)}function Ol(){na=!1,At!==null&&fr(At)&&(At=null),An!==null&&fr(An)&&(An=null),kn!==null&&fr(kn)&&(kn=null),Wr.forEach(Ui),fn.forEach(Ui)}function Pn(r,s){r.blockedOn===s&&(r.blockedOn=null,na||(na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ol)))}function xn(r){function s(d){return Pn(d,r)}if(0<$n.length){Pn($n[0],r);for(var a=1;a<$n.length;a++){var c=$n[a];c.blockedOn===r&&(c.blockedOn=null)}}for(At!==null&&Pn(At,r),An!==null&&Pn(An,r),kn!==null&&Pn(kn,r),Wr.forEach(s),fn.forEach(s),a=0;a<Hn.length;a++)c=Hn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Hn.length&&(a=Hn[0],a.blockedOn===null);)bl(a),a.blockedOn===null&&Hn.shift()}var pr=te.ReactCurrentBatchConfig,qr=!0;function Xe(r,s,a,c){var d=xe,g=pr.transition;pr.transition=null;try{xe=1,ra(r,s,a,c)}finally{xe=d,pr.transition=g}}function Jc(r,s,a,c){var d=xe,g=pr.transition;pr.transition=null;try{xe=4,ra(r,s,a,c)}finally{xe=d,pr.transition=g}}function ra(r,s,a,c){if(qr){var d=bs(r,s,a,c);if(d===null)uh(r,s,c,ji,a),Dl(r,c);else if(Xc(d,r,s,a,c))c.stopPropagation();else if(Dl(r,c),s&4&&-1<Yc.indexOf(r)){for(;d!==null;){var g=ya(d);if(g!==null&&kl(g),g=bs(r,s,a,c),g===null&&uh(r,s,c,ji,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else uh(r,s,c,null,a)}}var ji=null;function bs(r,s,a,c){if(ji=null,r=Ts(c),r=$i(r),r!==null)if(s=Rn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Oi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ji=r,null}function ia(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Il()){case Li:return 1;case Ur:return 4;case dn:case ea:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var on=null,Os=null,Qt=null;function sa(){if(Qt)return Qt;var r,s=Os,a=s.length,c,d="value"in on?on.value:on.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var v=a-r;for(c=1;c<=v&&s[a-c]===d[g-c];c++);return Qt=d.slice(r,1<c?1-c:void 0)}function Ls(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Wn(){return!0}function oa(){return!1}function kt(r){function s(a,c,d,g,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wn:oa,this.isPropagationStopped=oa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),s}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=kt(Nn),qn=oe({},Nn,{view:0,detail:0}),Zc=kt(qn),Ms,mr,Kr,zi=oe({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Kr&&(Kr&&r.type==="mousemove"?(Ms=r.screenX-Kr.screenX,mr=r.screenY-Kr.screenY):mr=Ms=0,Kr=r),Ms)},movementY:function(r){return"movementY"in r?r.movementY:mr}}),Fs=kt(zi),aa=oe({},zi,{dataTransfer:0}),Ll=kt(aa),Us=oe({},qn,{relatedTarget:0}),js=kt(Us),Vl=oe({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),gr=kt(Vl),Ml=oe({},Nn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fl=kt(Ml),Ul=oe({},Nn,{data:0}),la=kt(Ul),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=jl[r])?!!s[r]:!1}function Kn(){return zl}var u=oe({},qn,{key:function(r){if(r.key){var s=zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ls(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$t[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kn,charCode:function(r){return r.type==="keypress"?Ls(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ls(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),_=oe({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=kt(_),U=oe({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kn}),K=kt(U),ie=oe({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=kt(ie),gt=oe({},zi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=kt(gt),Tt=[9,13,27,32],lt=f&&"CompositionEvent"in window,pn=null;f&&"documentMode"in document&&(pn=document.documentMode);var an=f&&"TextEvent"in window&&!pn,Bi=f&&(!lt||pn&&8<pn&&11>=pn),Bs=" ",lp=!1;function up(r,s){switch(r){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $s=!1;function F0(r,s){switch(r){case"compositionend":return cp(s);case"keypress":return s.which!==32?null:(lp=!0,Bs);case"textInput":return r=s.data,r===Bs&&lp?null:r;default:return null}}function U0(r,s){if($s)return r==="compositionend"||!lt&&up(r,s)?(r=sa(),Qt=Os=on=null,$s=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bi&&s.locale!=="ko"?null:s.data;default:return null}}var j0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!j0[r.type]:s==="textarea"}function dp(r,s,a,c){Bn(c),s=ql(s,"onChange"),0<s.length&&(a=new Vs("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var ua=null,ca=null;function z0(r){xp(r,0)}function Bl(r){var s=Gs(r);if(ys(s))return r}function B0(r,s){if(r==="change")return s}var fp=!1;if(f){var eh;if(f){var th="oninput"in document;if(!th){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),th=typeof pp.oninput=="function"}eh=th}else eh=!1;fp=eh&&(!document.documentMode||9<document.documentMode)}function mp(){ua&&(ua.detachEvent("onpropertychange",gp),ca=ua=null)}function gp(r){if(r.propertyName==="value"&&Bl(ca)){var s=[];dp(s,ca,r,Ts(r)),Yo(z0,s)}}function $0(r,s,a){r==="focusin"?(mp(),ua=s,ca=a,ua.attachEvent("onpropertychange",gp)):r==="focusout"&&mp()}function H0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bl(ca)}function W0(r,s){if(r==="click")return Bl(s)}function q0(r,s){if(r==="input"||r==="change")return Bl(s)}function K0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:K0;function ha(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!Dn(r[d],s[d]))return!1}return!0}function yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _p(r,s){var a=yp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yp(a)}}function vp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?vp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function wp(){for(var r=window,s=Mr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Mr(r.document)}return s}function nh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function G0(r){var s=wp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&vp(a.ownerDocument.documentElement,a)){if(c!==null&&nh(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!r.extend&&g>c&&(d=c,c=g,g=d),d=_p(a,g);var v=_p(a,c);d&&v&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Q0=f&&"documentMode"in document&&11>=document.documentMode,Hs=null,rh=null,da=null,ih=!1;function Ep(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||Hs==null||Hs!==Mr(c)||(c=Hs,"selectionStart"in c&&nh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),da&&ha(da,c)||(da=c,c=ql(rh,"onSelect"),0<c.length&&(s=new Vs("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Hs)))}function $l(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ws={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},sh={},Tp={};f&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Hl(r){if(sh[r])return sh[r];if(!Ws[r])return r;var s=Ws[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Tp)return sh[r]=s[a];return r}var Ip=Hl("animationend"),Sp=Hl("animationiteration"),Rp=Hl("animationstart"),Cp=Hl("transitionend"),Ap=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(r,s){Ap.set(r,s),l(s,[r])}for(var oh=0;oh<kp.length;oh++){var ah=kp[oh],Y0=ah.toLowerCase(),X0=ah[0].toUpperCase()+ah.slice(1);Gr(Y0,"on"+X0)}Gr(Ip,"onAnimationEnd"),Gr(Sp,"onAnimationIteration"),Gr(Rp,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(Cp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Pp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,wl(c,s,void 0,r),r.currentTarget=null}function xp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var v=c.length-1;0<=v;v--){var C=c[v],x=C.instance,W=C.currentTarget;if(C=C.listener,x!==g&&d.isPropagationStopped())break e;Pp(d,C,W),g=x}else for(v=0;v<c.length;v++){if(C=c[v],x=C.instance,W=C.currentTarget,C=C.listener,x!==g&&d.isPropagationStopped())break e;Pp(d,C,W),g=x}}}if(Sn)throw r=Xo,Sn=!1,Xo=null,r}function Ge(r,s){var a=s[mh];a===void 0&&(a=s[mh]=new Set);var c=r+"__bubble";a.has(c)||(Np(s,r,2,!1),a.add(c))}function lh(r,s,a){var c=0;s&&(c|=4),Np(a,r,c,s)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function pa(r){if(!r[Wl]){r[Wl]=!0,i.forEach(function(a){a!=="selectionchange"&&(J0.has(a)||lh(a,!1,r),lh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Wl]||(s[Wl]=!0,lh("selectionchange",!1,s))}}function Np(r,s,a,c){switch(ia(s)){case 1:var d=Xe;break;case 4:d=Jc;break;default:d=ra}a=d.bind(null,s,a,r),d=void 0,!Rs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function uh(r,s,a,c,d){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var x=v.tag;if((x===3||x===4)&&(x=v.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;v=v.return}for(;C!==null;){if(v=$i(C),v===null)return;if(x=v.tag,x===5||x===6){c=g=v;continue e}C=C.parentNode}}c=c.return}Yo(function(){var W=g,Z=Ts(a),ee=[];e:{var J=Ap.get(r);if(J!==void 0){var se=Vs,ue=r;switch(r){case"keypress":if(Ls(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ue="focus",se=js;break;case"focusout":ue="blur",se=js;break;case"beforeblur":case"afterblur":se=js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=K;break;case Ip:case Sp:case Rp:se=gr;break;case Cp:se=Be;break;case"scroll":se=Zc;break;case"wheel":se=be;break;case"copy":case"cut":case"paste":se=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(s&4)!==0,ot=!he&&r==="scroll",j=he?J!==null?J+"Capture":null:J;he=[];for(var O=W,B;O!==null;){B=O;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,j!==null&&(ne=st(O,j),ne!=null&&he.push(ma(O,ne,B)))),ot)break;O=O.return}0<he.length&&(J=new se(J,ue,null,a,Z),ee.push({event:J,listeners:he}))}}if(!(s&7)){e:{if(J=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",J&&a!==xi&&(ue=a.relatedTarget||a.fromElement)&&($i(ue)||ue[yr]))break e;if((se||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=W,ue=ue?$i(ue):null,ue!==null&&(ot=Rn(ue),ue!==ot||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=W),se!==ue)){if(he=Fs,ne="onMouseLeave",j="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(he=E,ne="onPointerLeave",j="onPointerEnter",O="pointer"),ot=se==null?J:Gs(se),B=ue==null?J:Gs(ue),J=new he(ne,O+"leave",se,a,Z),J.target=ot,J.relatedTarget=B,ne=null,$i(Z)===W&&(he=new he(j,O+"enter",ue,a,Z),he.target=B,he.relatedTarget=ot,ne=he),ot=ne,se&&ue)t:{for(he=se,j=ue,O=0,B=he;B;B=qs(B))O++;for(B=0,ne=j;ne;ne=qs(ne))B++;for(;0<O-B;)he=qs(he),O--;for(;0<B-O;)j=qs(j),B--;for(;O--;){if(he===j||j!==null&&he===j.alternate)break t;he=qs(he),j=qs(j)}he=null}else he=null;se!==null&&Dp(ee,J,se,he,!1),ue!==null&&ot!==null&&Dp(ee,ot,ue,he,!0)}}e:{if(J=W?Gs(W):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var de=B0;else if(hp(J))if(fp)de=q0;else{de=H0;var _e=$0}else(se=J.nodeName)&&se.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(de=W0);if(de&&(de=de(r,W))){dp(ee,de,a,Z);break e}_e&&_e(r,J,W),r==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&vs(J,"number",J.value)}switch(_e=W?Gs(W):window,r){case"focusin":(hp(_e)||_e.contentEditable==="true")&&(Hs=_e,rh=W,da=null);break;case"focusout":da=rh=Hs=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Ep(ee,a,Z);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":Ep(ee,a,Z)}var ve;if(lt)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else $s?up(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Bi&&a.locale!=="ko"&&($s||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&$s&&(ve=sa()):(on=Z,Os="value"in on?on.value:on.textContent,$s=!0)),_e=ql(W,Ee),0<_e.length&&(Ee=new la(Ee,r,null,a,Z),ee.push({event:Ee,listeners:_e}),ve?Ee.data=ve:(ve=cp(a),ve!==null&&(Ee.data=ve)))),(ve=an?F0(r,a):U0(r,a))&&(W=ql(W,"onBeforeInput"),0<W.length&&(Z=new la("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:W}),Z.data=ve))}xp(ee,s)})}function ma(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ql(r,s){for(var a=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=st(r,a),g!=null&&c.unshift(ma(r,g,d)),g=st(r,s),g!=null&&c.push(ma(r,g,d))),r=r.return}return c}function qs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dp(r,s,a,c,d){for(var g=s._reactName,v=[];a!==null&&a!==c;){var C=a,x=C.alternate,W=C.stateNode;if(x!==null&&x===c)break;C.tag===5&&W!==null&&(C=W,d?(x=st(a,g),x!=null&&v.unshift(ma(a,x,C))):d||(x=st(a,g),x!=null&&v.push(ma(a,x,C)))),a=a.return}v.length!==0&&r.push({event:s,listeners:v})}var Z0=/\r\n?/g,ew=/\u0000|\uFFFD/g;function bp(r){return(typeof r=="string"?r:""+r).replace(Z0,`
`).replace(ew,"")}function Kl(r,s,a){if(s=bp(s),bp(r)!==s&&a)throw Error(t(425))}function Gl(){}var ch=null,hh=null;function dh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,tw=typeof clearTimeout=="function"?clearTimeout:void 0,Op=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof Op<"u"?function(r){return Op.resolve(null).then(r).catch(rw)}:fh;function rw(r){setTimeout(function(){throw r})}function ph(r,s){var a=s,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),xn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);xn(s)}function Qr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Lp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ks,ga="__reactProps$"+Ks,yr="__reactContainer$"+Ks,mh="__reactEvents$"+Ks,iw="__reactListeners$"+Ks,sw="__reactHandles$"+Ks;function $i(r){var s=r[Gn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[yr]||a[Gn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Lp(r);r!==null;){if(a=r[Gn])return a;r=Lp(r)}return s}r=a,a=r.parentNode}return null}function ya(r){return r=r[Gn]||r[yr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Gs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ql(r){return r[ga]||null}var gh=[],Qs=-1;function Yr(r){return{current:r}}function Qe(r){0>Qs||(r.current=gh[Qs],gh[Qs]=null,Qs--)}function Ke(r,s){Qs++,gh[Qs]=r.current,r.current=s}var Xr={},Ot=Yr(Xr),Yt=Yr(!1),Hi=Xr;function Ys(r,s){var a=r.type.contextTypes;if(!a)return Xr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Xt(r){return r=r.childContextTypes,r!=null}function Yl(){Qe(Yt),Qe(Ot)}function Vp(r,s,a){if(Ot.current!==Xr)throw Error(t(168));Ke(Ot,s),Ke(Yt,a)}function Mp(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Ue(r)||"Unknown",d));return oe({},a,c)}function Xl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Xr,Hi=Ot.current,Ke(Ot,r),Ke(Yt,Yt.current),!0}function Fp(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Mp(r,s,Hi),c.__reactInternalMemoizedMergedChildContext=r,Qe(Yt),Qe(Ot),Ke(Ot,r)):Qe(Yt),Ke(Yt,a)}var _r=null,Jl=!1,yh=!1;function Up(r){_r===null?_r=[r]:_r.push(r)}function ow(r){Jl=!0,Up(r)}function Jr(){if(!yh&&_r!==null){yh=!0;var r=0,s=xe;try{var a=_r;for(xe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}_r=null,Jl=!1}catch(d){throw _r!==null&&(_r=_r.slice(r+1)),Ps(Li,Jr),d}finally{xe=s,yh=!1}}return null}var Xs=[],Js=0,Zl=null,eu=0,mn=[],gn=0,Wi=null,vr=1,wr="";function qi(r,s){Xs[Js++]=eu,Xs[Js++]=Zl,Zl=r,eu=s}function jp(r,s,a){mn[gn++]=vr,mn[gn++]=wr,mn[gn++]=Wi,Wi=r;var c=vr;r=wr;var d=32-Bt(c)-1;c&=~(1<<d),a+=1;var g=32-Bt(s)+d;if(30<g){var v=d-d%5;g=(c&(1<<v)-1).toString(32),c>>=v,d-=v,vr=1<<32-Bt(s)+d|a<<d|c,wr=g+r}else vr=1<<g|a<<d|c,wr=r}function _h(r){r.return!==null&&(qi(r,1),jp(r,1,0))}function vh(r){for(;r===Zl;)Zl=Xs[--Js],Xs[Js]=null,eu=Xs[--Js],Xs[Js]=null;for(;r===Wi;)Wi=mn[--gn],mn[gn]=null,wr=mn[--gn],mn[gn]=null,vr=mn[--gn],mn[gn]=null}var ln=null,un=null,Je=!1,bn=null;function zp(r,s){var a=wn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Bp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,ln=r,un=Qr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,ln=r,un=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Wi!==null?{id:vr,overflow:wr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=wn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,ln=r,un=null,!0):!1;default:return!1}}function wh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Eh(r){if(Je){var s=un;if(s){var a=s;if(!Bp(r,s)){if(wh(r))throw Error(t(418));s=Qr(a.nextSibling);var c=ln;s&&Bp(r,s)?zp(c,a):(r.flags=r.flags&-4097|2,Je=!1,ln=r)}}else{if(wh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,ln=r}}}function $p(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ln=r}function tu(r){if(r!==ln)return!1;if(!Je)return $p(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!dh(r.type,r.memoizedProps)),s&&(s=un)){if(wh(r))throw Hp(),Error(t(418));for(;s;)zp(r,s),s=Qr(s.nextSibling)}if($p(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){un=Qr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}un=null}}else un=ln?Qr(r.stateNode.nextSibling):null;return!0}function Hp(){for(var r=un;r;)r=Qr(r.nextSibling)}function Zs(){un=ln=null,Je=!1}function Th(r){bn===null?bn=[r]:bn.push(r)}var aw=te.ReactCurrentBatchConfig;function _a(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(v){var C=d.refs;v===null?delete C[g]:C[g]=v},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function nu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Wp(r){var s=r._init;return s(r._payload)}function qp(r){function s(j,O){if(r){var B=j.deletions;B===null?(j.deletions=[O],j.flags|=16):B.push(O)}}function a(j,O){if(!r)return null;for(;O!==null;)s(j,O),O=O.sibling;return null}function c(j,O){for(j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function d(j,O){return j=oi(j,O),j.index=0,j.sibling=null,j}function g(j,O,B){return j.index=B,r?(B=j.alternate,B!==null?(B=B.index,B<O?(j.flags|=2,O):B):(j.flags|=2,O)):(j.flags|=1048576,O)}function v(j){return r&&j.alternate===null&&(j.flags|=2),j}function C(j,O,B,ne){return O===null||O.tag!==6?(O=fd(B,j.mode,ne),O.return=j,O):(O=d(O,B),O.return=j,O)}function x(j,O,B,ne){var de=B.type;return de===k?Z(j,O,B.props.children,ne,B.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ft&&Wp(de)===O.type)?(ne=d(O,B.props),ne.ref=_a(j,O,B),ne.return=j,ne):(ne=Cu(B.type,B.key,B.props,null,j.mode,ne),ne.ref=_a(j,O,B),ne.return=j,ne)}function W(j,O,B,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=pd(B,j.mode,ne),O.return=j,O):(O=d(O,B.children||[]),O.return=j,O)}function Z(j,O,B,ne,de){return O===null||O.tag!==7?(O=es(B,j.mode,ne,de),O.return=j,O):(O=d(O,B),O.return=j,O)}function ee(j,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=fd(""+O,j.mode,B),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case fe:return B=Cu(O.type,O.key,O.props,null,j.mode,B),B.ref=_a(j,null,O),B.return=j,B;case pe:return O=pd(O,j.mode,B),O.return=j,O;case ft:var ne=O._init;return ee(j,ne(O._payload),B)}if(lr(O)||ye(O))return O=es(O,j.mode,B,null),O.return=j,O;nu(j,O)}return null}function J(j,O,B,ne){var de=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:C(j,O,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case fe:return B.key===de?x(j,O,B,ne):null;case pe:return B.key===de?W(j,O,B,ne):null;case ft:return de=B._init,J(j,O,de(B._payload),ne)}if(lr(B)||ye(B))return de!==null?null:Z(j,O,B,ne,null);nu(j,B)}return null}function se(j,O,B,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return j=j.get(B)||null,C(O,j,""+ne,de);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case fe:return j=j.get(ne.key===null?B:ne.key)||null,x(O,j,ne,de);case pe:return j=j.get(ne.key===null?B:ne.key)||null,W(O,j,ne,de);case ft:var _e=ne._init;return se(j,O,B,_e(ne._payload),de)}if(lr(ne)||ye(ne))return j=j.get(B)||null,Z(O,j,ne,de,null);nu(O,ne)}return null}function ue(j,O,B,ne){for(var de=null,_e=null,ve=O,Ee=O=0,Rt=null;ve!==null&&Ee<B.length;Ee++){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var Me=J(j,ve,B[Ee],ne);if(Me===null){ve===null&&(ve=Rt);break}r&&ve&&Me.alternate===null&&s(j,ve),O=g(Me,O,Ee),_e===null?de=Me:_e.sibling=Me,_e=Me,ve=Rt}if(Ee===B.length)return a(j,ve),Je&&qi(j,Ee),de;if(ve===null){for(;Ee<B.length;Ee++)ve=ee(j,B[Ee],ne),ve!==null&&(O=g(ve,O,Ee),_e===null?de=ve:_e.sibling=ve,_e=ve);return Je&&qi(j,Ee),de}for(ve=c(j,ve);Ee<B.length;Ee++)Rt=se(ve,j,Ee,B[Ee],ne),Rt!==null&&(r&&Rt.alternate!==null&&ve.delete(Rt.key===null?Ee:Rt.key),O=g(Rt,O,Ee),_e===null?de=Rt:_e.sibling=Rt,_e=Rt);return r&&ve.forEach(function(ai){return s(j,ai)}),Je&&qi(j,Ee),de}function he(j,O,B,ne){var de=ye(B);if(typeof de!="function")throw Error(t(150));if(B=de.call(B),B==null)throw Error(t(151));for(var _e=de=null,ve=O,Ee=O=0,Rt=null,Me=B.next();ve!==null&&!Me.done;Ee++,Me=B.next()){ve.index>Ee?(Rt=ve,ve=null):Rt=ve.sibling;var ai=J(j,ve,Me.value,ne);if(ai===null){ve===null&&(ve=Rt);break}r&&ve&&ai.alternate===null&&s(j,ve),O=g(ai,O,Ee),_e===null?de=ai:_e.sibling=ai,_e=ai,ve=Rt}if(Me.done)return a(j,ve),Je&&qi(j,Ee),de;if(ve===null){for(;!Me.done;Ee++,Me=B.next())Me=ee(j,Me.value,ne),Me!==null&&(O=g(Me,O,Ee),_e===null?de=Me:_e.sibling=Me,_e=Me);return Je&&qi(j,Ee),de}for(ve=c(j,ve);!Me.done;Ee++,Me=B.next())Me=se(ve,j,Ee,Me.value,ne),Me!==null&&(r&&Me.alternate!==null&&ve.delete(Me.key===null?Ee:Me.key),O=g(Me,O,Ee),_e===null?de=Me:_e.sibling=Me,_e=Me);return r&&ve.forEach(function(Uw){return s(j,Uw)}),Je&&qi(j,Ee),de}function ot(j,O,B,ne){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case fe:e:{for(var de=B.key,_e=O;_e!==null;){if(_e.key===de){if(de=B.type,de===k){if(_e.tag===7){a(j,_e.sibling),O=d(_e,B.props.children),O.return=j,j=O;break e}}else if(_e.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ft&&Wp(de)===_e.type){a(j,_e.sibling),O=d(_e,B.props),O.ref=_a(j,_e,B),O.return=j,j=O;break e}a(j,_e);break}else s(j,_e);_e=_e.sibling}B.type===k?(O=es(B.props.children,j.mode,ne,B.key),O.return=j,j=O):(ne=Cu(B.type,B.key,B.props,null,j.mode,ne),ne.ref=_a(j,O,B),ne.return=j,j=ne)}return v(j);case pe:e:{for(_e=B.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(j,O.sibling),O=d(O,B.children||[]),O.return=j,j=O;break e}else{a(j,O);break}else s(j,O);O=O.sibling}O=pd(B,j.mode,ne),O.return=j,j=O}return v(j);case ft:return _e=B._init,ot(j,O,_e(B._payload),ne)}if(lr(B))return ue(j,O,B,ne);if(ye(B))return he(j,O,B,ne);nu(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(a(j,O.sibling),O=d(O,B),O.return=j,j=O):(a(j,O),O=fd(B,j.mode,ne),O.return=j,j=O),v(j)):a(j,O)}return ot}var eo=qp(!0),Kp=qp(!1),ru=Yr(null),iu=null,to=null,Ih=null;function Sh(){Ih=to=iu=null}function Rh(r){var s=ru.current;Qe(ru),r._currentValue=s}function Ch(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function no(r,s){iu=r,Ih=to=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Jt=!0),r.firstContext=null)}function yn(r){var s=r._currentValue;if(Ih!==r)if(r={context:r,memoizedValue:s,next:null},to===null){if(iu===null)throw Error(t(308));to=r,iu.dependencies={lanes:0,firstContext:r}}else to=to.next=r;return s}var Ki=null;function Ah(r){Ki===null?Ki=[r]:Ki.push(r)}function Gp(r,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Ah(s)):(a.next=d.next,d.next=a),s.interleaved=a,Er(r,c)}function Er(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Zr=!1;function kh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Tr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ei(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Er(r,a)}return d=c.interleaved,d===null?(s.next=s,Ah(c)):(s.next=d.next,d.next=s),c.interleaved=s,Er(r,a)}function su(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,$r(r,a)}}function Yp(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function ou(r,s,a,c){var d=r.updateQueue;Zr=!1;var g=d.firstBaseUpdate,v=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var x=C,W=x.next;x.next=null,v===null?g=W:v.next=W,v=x;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==v&&(C===null?Z.firstBaseUpdate=W:C.next=W,Z.lastBaseUpdate=x))}if(g!==null){var ee=d.baseState;v=0,Z=W=x=null,C=g;do{var J=C.lane,se=C.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ue=r,he=C;switch(J=s,se=a,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){ee=ue.call(se,ee,J);break e}ee=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,J=typeof ue=="function"?ue.call(se,ee,J):ue,J==null)break e;ee=oe({},ee,J);break e;case 2:Zr=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,J=d.effects,J===null?d.effects=[C]:J.push(C))}else se={eventTime:se,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(W=Z=se,x=ee):Z=Z.next=se,v|=J;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;J=C,C=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);if(Z===null&&(x=ee),d.baseState=x,d.firstBaseUpdate=W,d.lastBaseUpdate=Z,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Yi|=v,r.lanes=v,r.memoizedState=ee}}function Xp(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var va={},Qn=Yr(va),wa=Yr(va),Ea=Yr(va);function Gi(r){if(r===va)throw Error(t(174));return r}function Ph(r,s){switch(Ke(Ea,s),Ke(wa,r),Ke(Qn,va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Qe(Qn),Ke(Qn,s)}function ro(){Qe(Qn),Qe(wa),Qe(Ea)}function Jp(r){Gi(Ea.current);var s=Gi(Qn.current),a=mt(s,r.type);s!==a&&(Ke(wa,r),Ke(Qn,a))}function xh(r){wa.current===r&&(Qe(Qn),Qe(wa))}var et=Yr(0);function au(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nh=[];function Dh(){for(var r=0;r<Nh.length;r++)Nh[r]._workInProgressVersionPrimary=null;Nh.length=0}var lu=te.ReactCurrentDispatcher,bh=te.ReactCurrentBatchConfig,Qi=0,tt=null,yt=null,It=null,uu=!1,Ta=!1,Ia=0,lw=0;function Lt(){throw Error(t(321))}function Oh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Dn(r[a],s[a]))return!1;return!0}function Lh(r,s,a,c,d,g){if(Qi=g,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lu.current=r===null||r.memoizedState===null?dw:fw,r=a(c,d),Ta){g=0;do{if(Ta=!1,Ia=0,25<=g)throw Error(t(301));g+=1,It=yt=null,s.updateQueue=null,lu.current=pw,r=a(c,d)}while(Ta)}if(lu.current=du,s=yt!==null&&yt.next!==null,Qi=0,It=yt=tt=null,uu=!1,s)throw Error(t(300));return r}function Vh(){var r=Ia!==0;return Ia=0,r}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?tt.memoizedState=It=r:It=It.next=r,It}function _n(){if(yt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=It===null?tt.memoizedState:It.next;if(s!==null)It=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?tt.memoizedState=It=r:It=It.next=r}return It}function Sa(r,s){return typeof s=="function"?s(r):s}function Mh(r){var s=_n(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=yt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var v=d.next;d.next=g.next,g.next=v}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var C=v=null,x=null,W=g;do{var Z=W.lane;if((Qi&Z)===Z)x!==null&&(x=x.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:r(c,W.action);else{var ee={lane:Z,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};x===null?(C=x=ee,v=c):x=x.next=ee,tt.lanes|=Z,Yi|=Z}W=W.next}while(W!==null&&W!==g);x===null?v=c:x.next=C,Dn(c,s.memoizedState)||(Jt=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=x,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do g=d.lane,tt.lanes|=g,Yi|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Fh(r){var s=_n(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do g=r(g,v.action),v=v.next;while(v!==d);Dn(g,s.memoizedState)||(Jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Zp(){}function em(r,s){var a=tt,c=_n(),d=s(),g=!Dn(c.memoizedState,d);if(g&&(c.memoizedState=d,Jt=!0),c=c.queue,Uh(rm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ra(9,nm.bind(null,a,c,d,s),void 0,null),St===null)throw Error(t(349));Qi&30||tm(a,s,d)}return d}function tm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function nm(r,s,a,c){s.value=a,s.getSnapshot=c,im(s)&&sm(r)}function rm(r,s,a){return a(function(){im(s)&&sm(r)})}function im(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Dn(r,a)}catch{return!0}}function sm(r){var s=Er(r,1);s!==null&&Mn(s,r,1,-1)}function om(r){var s=Yn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:r},s.queue=r,r=r.dispatch=hw.bind(null,tt,r),[s.memoizedState,r]}function Ra(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function am(){return _n().memoizedState}function cu(r,s,a,c){var d=Yn();tt.flags|=r,d.memoizedState=Ra(1|s,a,void 0,c===void 0?null:c)}function hu(r,s,a,c){var d=_n();c=c===void 0?null:c;var g=void 0;if(yt!==null){var v=yt.memoizedState;if(g=v.destroy,c!==null&&Oh(c,v.deps)){d.memoizedState=Ra(s,a,g,c);return}}tt.flags|=r,d.memoizedState=Ra(1|s,a,g,c)}function lm(r,s){return cu(8390656,8,r,s)}function Uh(r,s){return hu(2048,8,r,s)}function um(r,s){return hu(4,2,r,s)}function cm(r,s){return hu(4,4,r,s)}function hm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function dm(r,s,a){return a=a!=null?a.concat([r]):null,hu(4,4,hm.bind(null,s,r),a)}function jh(){}function fm(r,s){var a=_n();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Oh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function pm(r,s){var a=_n();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Oh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function mm(r,s,a){return Qi&21?(Dn(a,s)||(a=Fi(),tt.lanes|=a,Yi|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Jt=!0),r.memoizedState=a)}function uw(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var c=bh.transition;bh.transition={};try{r(!1),s()}finally{xe=a,bh.transition=c}}function gm(){return _n().memoizedState}function cw(r,s,a){var c=ii(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},ym(r))_m(s,a);else if(a=Gp(r,s,a,c),a!==null){var d=Wt();Mn(a,r,c,d),vm(a,s,c)}}function hw(r,s,a){var c=ii(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(ym(r))_m(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,C=g(v,a);if(d.hasEagerState=!0,d.eagerState=C,Dn(C,v)){var x=s.interleaved;x===null?(d.next=d,Ah(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=Gp(r,s,d,c),a!==null&&(d=Wt(),Mn(a,r,c,d),vm(a,s,c))}}function ym(r){var s=r.alternate;return r===tt||s!==null&&s===tt}function _m(r,s){Ta=uu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function vm(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,$r(r,a)}}var du={readContext:yn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},dw={readContext:yn,useCallback:function(r,s){return Yn().memoizedState=[r,s===void 0?null:s],r},useContext:yn,useEffect:lm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,cu(4194308,4,hm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return cu(4194308,4,r,s)},useInsertionEffect:function(r,s){return cu(4,2,r,s)},useMemo:function(r,s){var a=Yn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Yn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=cw.bind(null,tt,r),[c.memoizedState,r]},useRef:function(r){var s=Yn();return r={current:r},s.memoizedState=r},useState:om,useDebugValue:jh,useDeferredValue:function(r){return Yn().memoizedState=r},useTransition:function(){var r=om(!1),s=r[0];return r=uw.bind(null,r[1]),Yn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=tt,d=Yn();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),St===null)throw Error(t(349));Qi&30||tm(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,lm(rm.bind(null,c,g,r),[r]),c.flags|=2048,Ra(9,nm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=Yn(),s=St.identifierPrefix;if(Je){var a=wr,c=vr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ia++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=lw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},fw={readContext:yn,useCallback:fm,useContext:yn,useEffect:Uh,useImperativeHandle:dm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:Mh,useRef:am,useState:function(){return Mh(Sa)},useDebugValue:jh,useDeferredValue:function(r){var s=_n();return mm(s,yt.memoizedState,r)},useTransition:function(){var r=Mh(Sa)[0],s=_n().memoizedState;return[r,s]},useMutableSource:Zp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1},pw={readContext:yn,useCallback:fm,useContext:yn,useEffect:Uh,useImperativeHandle:dm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:Fh,useRef:am,useState:function(){return Fh(Sa)},useDebugValue:jh,useDeferredValue:function(r){var s=_n();return yt===null?s.memoizedState=r:mm(s,yt.memoizedState,r)},useTransition:function(){var r=Fh(Sa)[0],s=_n().memoizedState;return[r,s]},useMutableSource:Zp,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1};function On(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function zh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var fu={isMounted:function(r){return(r=r._reactInternals)?Rn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Wt(),d=ii(r),g=Tr(c,d);g.payload=s,a!=null&&(g.callback=a),s=ei(r,g,d),s!==null&&(Mn(s,r,d,c),su(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Wt(),d=ii(r),g=Tr(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ei(r,g,d),s!==null&&(Mn(s,r,d,c),su(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Wt(),c=ii(r),d=Tr(a,c);d.tag=2,s!=null&&(d.callback=s),s=ei(r,d,c),s!==null&&(Mn(s,r,c,a),su(s,r,c))}};function wm(r,s,a,c,d,g,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,v):s.prototype&&s.prototype.isPureReactComponent?!ha(a,c)||!ha(d,g):!0}function Em(r,s,a){var c=!1,d=Xr,g=s.contextType;return typeof g=="object"&&g!==null?g=yn(g):(d=Xt(s)?Hi:Ot.current,c=s.contextTypes,g=(c=c!=null)?Ys(r,d):Xr),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function Tm(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&fu.enqueueReplaceState(s,s.state,null)}function Bh(r,s,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},kh(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=yn(g):(g=Xt(s)?Hi:Ot.current,d.context=Ys(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(zh(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&fu.enqueueReplaceState(d,d.state,null),ou(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function io(r,s){try{var a="",c=s;do a+=Ce(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function $h(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Hh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var mw=typeof WeakMap=="function"?WeakMap:Map;function Im(r,s,a){a=Tr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){wu||(wu=!0,sd=c),Hh(r,s)},a}function Sm(r,s,a){a=Tr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Hh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Hh(r,s),typeof c!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function Rm(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new mw;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),r=Pw.bind(null,r,s,a),s.then(r,r))}function Cm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Am(r,s,a,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Tr(-1,1),s.tag=2,ei(a,s,1))),a.lanes|=1),r)}var gw=te.ReactCurrentOwner,Jt=!1;function Ht(r,s,a,c){s.child=r===null?Kp(s,null,a,c):eo(s,r.child,a,c)}function km(r,s,a,c,d){a=a.render;var g=s.ref;return no(s,d),c=Lh(r,s,a,c,g,d),a=Vh(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Ir(r,s,d)):(Je&&a&&_h(s),s.flags|=1,Ht(r,s,c,d),s.child)}function Pm(r,s,a,c,d){if(r===null){var g=a.type;return typeof g=="function"&&!dd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,xm(r,s,g,c,d)):(r=Cu(a.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:ha,a(v,c)&&r.ref===s.ref)return Ir(r,s,d)}return s.flags|=1,r=oi(g,c),r.ref=s.ref,r.return=s,s.child=r}function xm(r,s,a,c,d){if(r!==null){var g=r.memoizedProps;if(ha(g,c)&&r.ref===s.ref)if(Jt=!1,s.pendingProps=c=g,(r.lanes&d)!==0)r.flags&131072&&(Jt=!0);else return s.lanes=r.lanes,Ir(r,s,d)}return Wh(r,s,a,c,d)}function Nm(r,s,a){var c=s.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(oo,cn),cn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(oo,cn),cn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ke(oo,cn),cn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Ke(oo,cn),cn|=c;return Ht(r,s,d,a),s.child}function Dm(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Wh(r,s,a,c,d){var g=Xt(a)?Hi:Ot.current;return g=Ys(s,g),no(s,d),a=Lh(r,s,a,c,g,d),c=Vh(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Ir(r,s,d)):(Je&&c&&_h(s),s.flags|=1,Ht(r,s,a,d),s.child)}function bm(r,s,a,c,d){if(Xt(a)){var g=!0;Xl(s)}else g=!1;if(no(s,d),s.stateNode===null)mu(r,s),Em(s,a,c),Bh(s,a,c,d),c=!0;else if(r===null){var v=s.stateNode,C=s.memoizedProps;v.props=C;var x=v.context,W=a.contextType;typeof W=="object"&&W!==null?W=yn(W):(W=Xt(a)?Hi:Ot.current,W=Ys(s,W));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof v.getSnapshotBeforeUpdate=="function";ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==c||x!==W)&&Tm(s,v,c,W),Zr=!1;var J=s.memoizedState;v.state=J,ou(s,c,v,d),x=s.memoizedState,C!==c||J!==x||Yt.current||Zr?(typeof Z=="function"&&(zh(s,a,Z,c),x=s.memoizedState),(C=Zr||wm(s,a,C,c,J,x,W))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=x),v.props=c,v.state=x,v.context=W,c=C):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,Qp(r,s),C=s.memoizedProps,W=s.type===s.elementType?C:On(s.type,C),v.props=W,ee=s.pendingProps,J=v.context,x=a.contextType,typeof x=="object"&&x!==null?x=yn(x):(x=Xt(a)?Hi:Ot.current,x=Ys(s,x));var se=a.getDerivedStateFromProps;(Z=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ee||J!==x)&&Tm(s,v,c,x),Zr=!1,J=s.memoizedState,v.state=J,ou(s,c,v,d);var ue=s.memoizedState;C!==ee||J!==ue||Yt.current||Zr?(typeof se=="function"&&(zh(s,a,se,c),ue=s.memoizedState),(W=Zr||wm(s,a,W,c,J,ue,x)||!1)?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ue,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ue,x)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),v.props=c,v.state=ue,v.context=x,c=W):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return qh(r,s,a,c,g,d)}function qh(r,s,a,c,d,g){Dm(r,s);var v=(s.flags&128)!==0;if(!c&&!v)return d&&Fp(s,a,!1),Ir(r,s,g);c=s.stateNode,gw.current=s;var C=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&v?(s.child=eo(s,r.child,null,g),s.child=eo(s,null,C,g)):Ht(r,s,C,g),s.memoizedState=c.state,d&&Fp(s,a,!0),s.child}function Om(r){var s=r.stateNode;s.pendingContext?Vp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Vp(r,s.context,!1),Ph(r,s.containerInfo)}function Lm(r,s,a,c,d){return Zs(),Th(d),s.flags|=256,Ht(r,s,a,c),s.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Gh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Vm(r,s,a){var c=s.pendingProps,d=et.current,g=!1,v=(s.flags&128)!==0,C;if((C=v)||(C=r!==null&&r.memoizedState===null?!1:(d&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ke(et,d&1),r===null)return Eh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(v=c.children,r=c.fallback,g?(c=s.mode,g=s.child,v={mode:"hidden",children:v},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=v):g=Au(v,c,0,null),r=es(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Gh(a),s.memoizedState=Kh,r):Qh(s,v));if(d=r.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return yw(r,s,v,c,C,d,a);if(g){g=c.fallback,v=s.mode,d=r.child,C=d.sibling;var x={mode:"hidden",children:c.children};return!(v&1)&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=x,s.deletions=null):(c=oi(d,x),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?g=oi(C,g):(g=es(g,v,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,v=r.child.memoizedState,v=v===null?Gh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=r.childLanes&~a,s.memoizedState=Kh,c}return g=r.child,r=g.sibling,c=oi(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Qh(r,s){return s=Au({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function pu(r,s,a,c){return c!==null&&Th(c),eo(s,r.child,null,a),r=Qh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function yw(r,s,a,c,d,g,v){if(a)return s.flags&256?(s.flags&=-257,c=$h(Error(t(422))),pu(r,s,v,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=Au({mode:"visible",children:c.children},d,0,null),g=es(g,d,v,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&eo(s,r.child,null,v),s.child.memoizedState=Gh(v),s.memoizedState=Kh,g);if(!(s.mode&1))return pu(r,s,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=$h(g,c,void 0),pu(r,s,v,c)}if(C=(v&r.childLanes)!==0,Jt||C){if(c=St,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|v)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Er(r,d),Mn(c,r,d,-1))}return hd(),c=$h(Error(t(421))),pu(r,s,v,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=xw.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,un=Qr(d.nextSibling),ln=s,Je=!0,bn=null,r!==null&&(mn[gn++]=vr,mn[gn++]=wr,mn[gn++]=Wi,vr=r.id,wr=r.overflow,Wi=s),s=Qh(s,c.children),s.flags|=4096,s)}function Mm(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Ch(r.return,s,a)}function Yh(r,s,a,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Fm(r,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(Ht(r,s,c.children,a),c=et.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Mm(r,a,s);else if(r.tag===19)Mm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ke(et,c),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&au(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Yh(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&au(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Yh(s,!0,a,null,g);break;case"together":Yh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ir(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Yi|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=oi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=oi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function _w(r,s,a){switch(s.tag){case 3:Om(s),Zs();break;case 5:Jp(s);break;case 1:Xt(s.type)&&Xl(s);break;case 4:Ph(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Ke(ru,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ke(et,et.current&1),s.flags|=128,null):a&s.child.childLanes?Vm(r,s,a):(Ke(et,et.current&1),r=Ir(r,s,a),r!==null?r.sibling:null);Ke(et,et.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return Fm(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(et,et.current),c)break;return null;case 22:case 23:return s.lanes=0,Nm(r,s,a)}return Ir(r,s,a)}var Um,Xh,jm,zm;Um=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Xh=function(){},jm=function(r,s,a,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,Gi(Qn.current);var g=null;switch(a){case"input":d=Ai(r,d),c=Ai(r,c),g=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),g=[];break;case"textarea":d=jo(r,d),c=jo(r,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Gl)}qo(a,c);var v;a=null;for(W in d)if(!c.hasOwnProperty(W)&&d.hasOwnProperty(W)&&d[W]!=null)if(W==="style"){var C=d[W];for(v in C)C.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var x=c[W];if(C=d!=null?d[W]:void 0,c.hasOwnProperty(W)&&x!==C&&(x!=null||C!=null))if(W==="style")if(C){for(v in C)!C.hasOwnProperty(v)||x&&x.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in x)x.hasOwnProperty(v)&&C[v]!==x[v]&&(a||(a={}),a[v]=x[v])}else a||(g||(g=[]),g.push(W,a)),a=x;else W==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(g=g||[]).push(W,x)):W==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(W,""+x):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(x!=null&&W==="onScroll"&&Ge("scroll",r),g||C===x||(g=[])):(g=g||[]).push(W,x))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},zm=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ca(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function vw(r,s,a){var c=s.pendingProps;switch(vh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return Xt(s.type)&&Yl(),Vt(s),null;case 3:return c=s.stateNode,ro(),Qe(Yt),Qe(Ot),Dh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(tu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,bn!==null&&(ld(bn),bn=null))),Xh(r,s),Vt(s),null;case 5:xh(s);var d=Gi(Ea.current);if(a=s.type,r!==null&&s.stateNode!=null)jm(r,s,a,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Vt(s),null}if(r=Gi(Qn.current),tu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Gn]=s,c[ga]=g,r=(s.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<fa.length;d++)Ge(fa[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":_s(c,g),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",c);break;case"textarea":ws(c,g),Ge("invalid",c)}qo(a,g),d=null;for(var v in g)if(g.hasOwnProperty(v)){var C=g[v];v==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&Kl(c.textContent,C,r),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Kl(c.textContent,C,r),d=["children",""+C]):o.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&Ge("scroll",c)}switch(a){case"input":ar(c),vl(c,g,!0);break;case"textarea":ar(c),zo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Gl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=v.createElement(a,{is:c.is}):(r=v.createElement(a),a==="select"&&(v=r,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):r=v.createElementNS(r,a),r[Gn]=s,r[ga]=c,Um(r,s,!1,!1),s.stateNode=r;e:{switch(v=Ko(a,c),a){case"dialog":Ge("cancel",r),Ge("close",r),d=c;break;case"iframe":case"object":case"embed":Ge("load",r),d=c;break;case"video":case"audio":for(d=0;d<fa.length;d++)Ge(fa[d],r);d=c;break;case"source":Ge("error",r),d=c;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),d=c;break;case"details":Ge("toggle",r),d=c;break;case"input":_s(r,c),d=Ai(r,c),Ge("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),Ge("invalid",r);break;case"textarea":ws(r,c),d=jo(r,c),Ge("invalid",r);break;default:d=c}qo(a,d),C=d;for(g in C)if(C.hasOwnProperty(g)){var x=C[g];g==="style"?Ho(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Bo(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Fr(r,x):typeof x=="number"&&Fr(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Ge("scroll",r):x!=null&&G(r,g,x,v))}switch(a){case"input":ar(r),vl(r,c,!1);break;case"textarea":ar(r),zo(r);break;case"option":c.value!=null&&r.setAttribute("value",""+je(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?ur(r,!!c.multiple,g,!1):c.defaultValue!=null&&ur(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Vt(s),null;case 6:if(r&&s.stateNode!=null)zm(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Gi(Ea.current),Gi(Qn.current),tu(s)){if(c=s.stateNode,a=s.memoizedProps,c[Gn]=s,(g=c.nodeValue!==a)&&(r=ln,r!==null))switch(r.tag){case 3:Kl(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Kl(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Gn]=s,s.stateNode=c}return Vt(s),null;case 13:if(Qe(et),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&un!==null&&s.mode&1&&!(s.flags&128))Hp(),Zs(),s.flags|=98560,g=!1;else if(g=tu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Gn]=s}else Zs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Vt(s),g=!1}else bn!==null&&(ld(bn),bn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||et.current&1?_t===0&&(_t=3):hd())),s.updateQueue!==null&&(s.flags|=4),Vt(s),null);case 4:return ro(),Xh(r,s),r===null&&pa(s.stateNode.containerInfo),Vt(s),null;case 10:return Rh(s.type._context),Vt(s),null;case 17:return Xt(s.type)&&Yl(),Vt(s),null;case 19:if(Qe(et),g=s.memoizedState,g===null)return Vt(s),null;if(c=(s.flags&128)!==0,v=g.rendering,v===null)if(c)Ca(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(v=au(r),v!==null){for(s.flags|=128,Ca(g,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,r=v.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(et,et.current&1|2),s.child}r=r.sibling}g.tail!==null&&qe()>ao&&(s.flags|=128,c=!0,Ca(g,!1),s.lanes=4194304)}else{if(!c)if(r=au(v),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ca(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Je)return Vt(s),null}else 2*qe()-g.renderingStartTime>ao&&a!==1073741824&&(s.flags|=128,c=!0,Ca(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(a=g.last,a!==null?a.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,a=et.current,Ke(et,c?a&1|2:a&1),s):(Vt(s),null);case 22:case 23:return cd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?cn&1073741824&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function ww(r,s){switch(vh(s),s.tag){case 1:return Xt(s.type)&&Yl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ro(),Qe(Yt),Qe(Ot),Dh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return xh(s),null;case 13:if(Qe(et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Zs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(et),null;case 4:return ro(),null;case 10:return Rh(s.type._context),null;case 22:case 23:return cd(),null;case 24:return null;default:return null}}var gu=!1,Mt=!1,Ew=typeof WeakSet=="function"?WeakSet:Set,le=null;function so(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(r,s,c)}else a.current=null}function Jh(r,s,a){try{a()}catch(c){it(r,s,c)}}var Bm=!1;function Tw(r,s){if(ch=qr,r=wp(),nh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,C=-1,x=-1,W=0,Z=0,ee=r,J=null;t:for(;;){for(var se;ee!==a||d!==0&&ee.nodeType!==3||(C=v+d),ee!==g||c!==0&&ee.nodeType!==3||(x=v+c),ee.nodeType===3&&(v+=ee.nodeValue.length),(se=ee.firstChild)!==null;)J=ee,ee=se;for(;;){if(ee===r)break t;if(J===a&&++W===d&&(C=v),J===g&&++Z===c&&(x=v),(se=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=se}a=C===-1||x===-1?null:{start:C,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(hh={focusedElem:r,selectionRange:a},qr=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ue=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,ot=ue.memoizedState,j=s.stateNode,O=j.getSnapshotBeforeUpdate(s.elementType===s.type?he:On(s.type,he),ot);j.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){it(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ue=Bm,Bm=!1,ue}function Aa(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&Jh(s,a,g)}d=d.next}while(d!==c)}}function yu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Zh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function $m(r){var s=r.alternate;s!==null&&(r.alternate=null,$m(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Gn],delete s[ga],delete s[mh],delete s[iw],delete s[sw])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hm(r){return r.tag===5||r.tag===3||r.tag===4}function Wm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ed(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Gl));else if(c!==4&&(r=r.child,r!==null))for(ed(r,s,a),r=r.sibling;r!==null;)ed(r,s,a),r=r.sibling}function td(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(td(r,s,a),r=r.sibling;r!==null;)td(r,s,a),r=r.sibling}var Pt=null,Ln=!1;function ti(r,s,a){for(a=a.child;a!==null;)qm(r,s,a),a=a.sibling}function qm(r,s,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Vi,a)}catch{}switch(a.tag){case 5:Mt||so(a,s);case 6:var c=Pt,d=Ln;Pt=null,ti(r,s,a),Pt=c,Ln=d,Pt!==null&&(Ln?(r=Pt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Ln?(r=Pt,a=a.stateNode,r.nodeType===8?ph(r.parentNode,a):r.nodeType===1&&ph(r,a),xn(r)):ph(Pt,a.stateNode));break;case 4:c=Pt,d=Ln,Pt=a.stateNode.containerInfo,Ln=!0,ti(r,s,a),Pt=c,Ln=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,v=g.destroy;g=g.tag,v!==void 0&&(g&2||g&4)&&Jh(a,s,v),d=d.next}while(d!==c)}ti(r,s,a);break;case 1:if(!Mt&&(so(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){it(a,s,C)}ti(r,s,a);break;case 21:ti(r,s,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ti(r,s,a),Mt=c):ti(r,s,a);break;default:ti(r,s,a)}}function Km(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Ew),s.forEach(function(c){var d=Nw.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Vn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=r,v=s,C=v;e:for(;C!==null;){switch(C.tag){case 5:Pt=C.stateNode,Ln=!1;break e;case 3:Pt=C.stateNode.containerInfo,Ln=!0;break e;case 4:Pt=C.stateNode.containerInfo,Ln=!0;break e}C=C.return}if(Pt===null)throw Error(t(160));qm(g,v,d),Pt=null,Ln=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(W){it(d,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Gm(s,r),s=s.sibling}function Gm(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vn(s,r),Xn(r),c&4){try{Aa(3,r,r.return),yu(3,r)}catch(he){it(r,r.return,he)}try{Aa(5,r,r.return)}catch(he){it(r,r.return,he)}}break;case 1:Vn(s,r),Xn(r),c&512&&a!==null&&so(a,a.return);break;case 5:if(Vn(s,r),Xn(r),c&512&&a!==null&&so(a,a.return),r.flags&32){var d=r.stateNode;try{Fr(d,"")}catch(he){it(r,r.return,he)}}if(c&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,v=a!==null?a.memoizedProps:g,C=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Fo(d,g),Ko(C,v);var W=Ko(C,g);for(v=0;v<x.length;v+=2){var Z=x[v],ee=x[v+1];Z==="style"?Ho(d,ee):Z==="dangerouslySetInnerHTML"?Bo(d,ee):Z==="children"?Fr(d,ee):G(d,Z,ee,W)}switch(C){case"input":Uo(d,g);break;case"textarea":Es(d,g);break;case"select":var J=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?ur(d,!!g.multiple,se,!1):J!==!!g.multiple&&(g.defaultValue!=null?ur(d,!!g.multiple,g.defaultValue,!0):ur(d,!!g.multiple,g.multiple?[]:"",!1))}d[ga]=g}catch(he){it(r,r.return,he)}}break;case 6:if(Vn(s,r),Xn(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(he){it(r,r.return,he)}}break;case 3:if(Vn(s,r),Xn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xn(s.containerInfo)}catch(he){it(r,r.return,he)}break;case 4:Vn(s,r),Xn(r);break;case 13:Vn(s,r),Xn(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(id=qe())),c&4&&Km(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Mt=(W=Mt)||Z,Vn(s,r),Mt=W):Vn(s,r),Xn(r),c&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!Z&&r.mode&1)for(le=r,Z=r.child;Z!==null;){for(ee=le=Z;le!==null;){switch(J=le,se=J.child,J.tag){case 0:case 11:case 14:case 15:Aa(4,J,J.return);break;case 1:so(J,J.return);var ue=J.stateNode;if(typeof ue.componentWillUnmount=="function"){c=J,a=J.return;try{s=c,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(he){it(c,a,he)}}break;case 5:so(J,J.return);break;case 22:if(J.memoizedState!==null){Xm(ee);continue}}se!==null?(se.return=J,le=se):Xm(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{d=ee.stateNode,W?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ee.stateNode,x=ee.memoizedProps.style,v=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=$o("display",v))}catch(he){it(r,r.return,he)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(he){it(r,r.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Vn(s,r),Xn(r),c&4&&Km(r);break;case 21:break;default:Vn(s,r),Xn(r)}}function Xn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Hm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Fr(d,""),c.flags&=-33);var g=Wm(r);td(r,g,d);break;case 3:case 4:var v=c.stateNode.containerInfo,C=Wm(r);ed(r,C,v);break;default:throw Error(t(161))}}catch(x){it(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Iw(r,s,a){le=r,Qm(r)}function Qm(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var d=le,g=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||gu;if(!v){var C=d.alternate,x=C!==null&&C.memoizedState!==null||Mt;C=gu;var W=Mt;if(gu=v,(Mt=x)&&!W)for(le=d;le!==null;)v=le,x=v.child,v.tag===22&&v.memoizedState!==null?Jm(d):x!==null?(x.return=v,le=x):Jm(d);for(;g!==null;)le=g,Qm(g),g=g.sibling;le=d,gu=C,Mt=W}Ym(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,le=g):Ym(r)}}function Ym(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Mt||yu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:On(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Xp(s,g,c);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Xp(s,v,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var Z=W.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&xn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||s.flags&512&&Zh(s)}catch(J){it(s,s.return,J)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function Xm(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function Jm(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{yu(4,s)}catch(x){it(s,a,x)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(x){it(s,d,x)}}var g=s.return;try{Zh(s)}catch(x){it(s,g,x)}break;case 5:var v=s.return;try{Zh(s)}catch(x){it(s,v,x)}}}catch(x){it(s,s.return,x)}if(s===r){le=null;break}var C=s.sibling;if(C!==null){C.return=s.return,le=C;break}le=s.return}}var Sw=Math.ceil,_u=te.ReactCurrentDispatcher,nd=te.ReactCurrentOwner,vn=te.ReactCurrentBatchConfig,Le=0,St=null,ut=null,xt=0,cn=0,oo=Yr(0),_t=0,ka=null,Yi=0,vu=0,rd=0,Pa=null,Zt=null,id=0,ao=1/0,Sr=null,wu=!1,sd=null,ni=null,Eu=!1,ri=null,Tu=0,xa=0,od=null,Iu=-1,Su=0;function Wt(){return Le&6?qe():Iu!==-1?Iu:Iu=qe()}function ii(r){return r.mode&1?Le&2&&xt!==0?xt&-xt:aw.transition!==null?(Su===0&&(Su=Fi()),Su):(r=xe,r!==0||(r=window.event,r=r===void 0?16:ia(r.type)),r):1}function Mn(r,s,a,c){if(50<xa)throw xa=0,od=null,Error(t(185));Br(r,a,c),(!(Le&2)||r!==St)&&(r===St&&(!(Le&2)&&(vu|=a),_t===4&&si(r,xt)),en(r,c),a===1&&Le===0&&!(s.mode&1)&&(ao=qe()+500,Jl&&Jr()))}function en(r,s){var a=r.callbackNode;dr(r,s);var c=Mi(r,r===St?xt:0);if(c===0)a!==null&&Zo(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Zo(a),s===1)r.tag===0?ow(eg.bind(null,r)):Up(eg.bind(null,r)),nw(function(){!(Le&6)&&Jr()}),a=null;else{switch(Hr(c)){case 1:a=Li;break;case 4:a=Ur;break;case 16:a=dn;break;case 536870912:a=Sl;break;default:a=dn}a=lg(a,Zm.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Zm(r,s){if(Iu=-1,Su=0,Le&6)throw Error(t(327));var a=r.callbackNode;if(lo()&&r.callbackNode!==a)return null;var c=Mi(r,r===St?xt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Ru(r,c);else{s=c;var d=Le;Le|=2;var g=ng();(St!==r||xt!==s)&&(Sr=null,ao=qe()+500,Ji(r,s));do try{Aw();break}catch(C){tg(r,C)}while(!0);Sh(),_u.current=g,Le=d,ut!==null?s=0:(St=null,xt=0,s=_t)}if(s!==0){if(s===2&&(d=sn(r),d!==0&&(c=d,s=ad(r,d))),s===1)throw a=ka,Ji(r,0),si(r,c),en(r,qe()),a;if(s===6)si(r,c);else{if(d=r.current.alternate,!(c&30)&&!Rw(d)&&(s=Ru(r,c),s===2&&(g=sn(r),g!==0&&(c=g,s=ad(r,g))),s===1))throw a=ka,Ji(r,0),si(r,c),en(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Zi(r,Zt,Sr);break;case 3:if(si(r,c),(c&130023424)===c&&(s=id+500-qe(),10<s)){if(Mi(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){Wt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=fh(Zi.bind(null,r,Zt,Sr),s);break}Zi(r,Zt,Sr);break;case 4:if(si(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var v=31-Bt(c);g=1<<v,v=s[v],v>d&&(d=v),c&=~g}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Sw(c/1960))-c,10<c){r.timeoutHandle=fh(Zi.bind(null,r,Zt,Sr),c);break}Zi(r,Zt,Sr);break;case 5:Zi(r,Zt,Sr);break;default:throw Error(t(329))}}}return en(r,qe()),r.callbackNode===a?Zm.bind(null,r):null}function ad(r,s){var a=Pa;return r.current.memoizedState.isDehydrated&&(Ji(r,s).flags|=256),r=Ru(r,s),r!==2&&(s=Zt,Zt=a,s!==null&&ld(s)),r}function ld(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function Rw(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Dn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function si(r,s){for(s&=~rd,s&=~vu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Bt(s),c=1<<a;r[a]=-1,s&=~c}}function eg(r){if(Le&6)throw Error(t(327));lo();var s=Mi(r,0);if(!(s&1))return en(r,qe()),null;var a=Ru(r,s);if(r.tag!==0&&a===2){var c=sn(r);c!==0&&(s=c,a=ad(r,c))}if(a===1)throw a=ka,Ji(r,0),si(r,s),en(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Zi(r,Zt,Sr),en(r,qe()),null}function ud(r,s){var a=Le;Le|=1;try{return r(s)}finally{Le=a,Le===0&&(ao=qe()+500,Jl&&Jr())}}function Xi(r){ri!==null&&ri.tag===0&&!(Le&6)&&lo();var s=Le;Le|=1;var a=vn.transition,c=xe;try{if(vn.transition=null,xe=1,r)return r()}finally{xe=c,vn.transition=a,Le=s,!(Le&6)&&Jr()}}function cd(){cn=oo.current,Qe(oo)}function Ji(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,tw(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(vh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Yl();break;case 3:ro(),Qe(Yt),Qe(Ot),Dh();break;case 5:xh(c);break;case 4:ro();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Rh(c.type._context);break;case 22:case 23:cd()}a=a.return}if(St=r,ut=r=oi(r.current,null),xt=cn=s,_t=0,ka=null,rd=vu=Yi=0,Zt=Pa=null,Ki!==null){for(s=0;s<Ki.length;s++)if(a=Ki[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var v=g.next;g.next=d,c.next=v}a.pending=c}Ki=null}return r}function tg(r,s){do{var a=ut;try{if(Sh(),lu.current=du,uu){for(var c=tt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}uu=!1}if(Qi=0,It=yt=tt=null,Ta=!1,Ia=0,nd.current=null,a===null||a.return===null){_t=1,ka=s,ut=null;break}e:{var g=r,v=a.return,C=a,x=s;if(s=xt,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=x,Z=C,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var se=Cm(v);if(se!==null){se.flags&=-257,Am(se,v,C,g,s),se.mode&1&&Rm(g,W,s),s=se,x=W;var ue=s.updateQueue;if(ue===null){var he=new Set;he.add(x),s.updateQueue=he}else ue.add(x);break e}else{if(!(s&1)){Rm(g,W,s),hd();break e}x=Error(t(426))}}else if(Je&&C.mode&1){var ot=Cm(v);if(ot!==null){!(ot.flags&65536)&&(ot.flags|=256),Am(ot,v,C,g,s),Th(io(x,C));break e}}g=x=io(x,C),_t!==4&&(_t=2),Pa===null?Pa=[g]:Pa.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=Im(g,x,s);Yp(g,j);break e;case 1:C=x;var O=g.type,B=g.stateNode;if(!(g.flags&128)&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ni===null||!ni.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Sm(g,C,s);Yp(g,ne);break e}}g=g.return}while(g!==null)}ig(a)}catch(de){s=de,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function ng(){var r=_u.current;return _u.current=du,r===null?du:r}function hd(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(Yi&268435455)&&!(vu&268435455)||si(St,xt)}function Ru(r,s){var a=Le;Le|=2;var c=ng();(St!==r||xt!==s)&&(Sr=null,Ji(r,s));do try{Cw();break}catch(d){tg(r,d)}while(!0);if(Sh(),Le=a,_u.current=c,ut!==null)throw Error(t(261));return St=null,xt=0,_t}function Cw(){for(;ut!==null;)rg(ut)}function Aw(){for(;ut!==null&&!Tl();)rg(ut)}function rg(r){var s=ag(r.alternate,r,cn);r.memoizedProps=r.pendingProps,s===null?ig(r):ut=s,nd.current=null}function ig(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=ww(a,s),a!==null){a.flags&=32767,ut=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ut=null;return}}else if(a=vw(a,s,cn),a!==null){ut=a;return}if(s=s.sibling,s!==null){ut=s;return}ut=s=r}while(s!==null);_t===0&&(_t=5)}function Zi(r,s,a){var c=xe,d=vn.transition;try{vn.transition=null,xe=1,kw(r,s,a,c)}finally{vn.transition=d,xe=c}return null}function kw(r,s,a,c){do lo();while(ri!==null);if(Le&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(He(r,g),r===St&&(ut=St=null,xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Eu||(Eu=!0,lg(dn,function(){return lo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=vn.transition,vn.transition=null;var v=xe;xe=1;var C=Le;Le|=4,nd.current=null,Tw(r,a),Gm(a,r),G0(hh),qr=!!ch,hh=ch=null,r.current=a,Iw(a),Gc(),Le=C,xe=v,vn.transition=g}else r.current=a;if(Eu&&(Eu=!1,ri=r,Tu=d),g=r.pendingLanes,g===0&&(ni=null),Rl(a.stateNode),en(r,qe()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(wu)throw wu=!1,r=sd,sd=null,r;return Tu&1&&r.tag!==0&&lo(),g=r.pendingLanes,g&1?r===od?xa++:(xa=0,od=r):xa=0,Jr(),null}function lo(){if(ri!==null){var r=Hr(Tu),s=vn.transition,a=xe;try{if(vn.transition=null,xe=16>r?16:r,ri===null)var c=!1;else{if(r=ri,ri=null,Tu=0,Le&6)throw Error(t(331));var d=Le;for(Le|=4,le=r.current;le!==null;){var g=le,v=g.child;if(le.flags&16){var C=g.deletions;if(C!==null){for(var x=0;x<C.length;x++){var W=C[x];for(le=W;le!==null;){var Z=le;switch(Z.tag){case 0:case 11:case 15:Aa(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,le=ee;else for(;le!==null;){Z=le;var J=Z.sibling,se=Z.return;if($m(Z),Z===W){le=null;break}if(J!==null){J.return=se,le=J;break}le=se}}}var ue=g.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var ot=he.sibling;he.sibling=null,he=ot}while(he!==null)}}le=g}}if(g.subtreeFlags&2064&&v!==null)v.return=g,le=v;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Aa(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,le=j;break e}le=g.return}}var O=r.current;for(le=O;le!==null;){v=le;var B=v.child;if(v.subtreeFlags&2064&&B!==null)B.return=v,le=B;else e:for(v=O;le!==null;){if(C=le,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:yu(9,C)}}catch(de){it(C,C.return,de)}if(C===v){le=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,le=ne;break e}le=C.return}}if(Le=d,Jr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Vi,r)}catch{}c=!0}return c}finally{xe=a,vn.transition=s}}return!1}function sg(r,s,a){s=io(a,s),s=Im(r,s,1),r=ei(r,s,1),s=Wt(),r!==null&&(Br(r,1,s),en(r,s))}function it(r,s,a){if(r.tag===3)sg(r,r,a);else for(;s!==null;){if(s.tag===3){sg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){r=io(a,r),r=Sm(s,r,1),s=ei(s,r,1),r=Wt(),s!==null&&(Br(s,1,r),en(s,r));break}}s=s.return}}function Pw(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Wt(),r.pingedLanes|=r.suspendedLanes&a,St===r&&(xt&a)===a&&(_t===4||_t===3&&(xt&130023424)===xt&&500>qe()-id?Ji(r,0):rd|=a),en(r,s)}function og(r,s){s===0&&(r.mode&1?(s=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):s=1);var a=Wt();r=Er(r,s),r!==null&&(Br(r,s,a),en(r,a))}function xw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),og(r,a)}function Nw(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),og(r,a)}var ag;ag=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Yt.current)Jt=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Jt=!1,_w(r,s,a);Jt=!!(r.flags&131072)}else Jt=!1,Je&&s.flags&1048576&&jp(s,eu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;mu(r,s),r=s.pendingProps;var d=Ys(s,Ot.current);no(s,a),d=Lh(null,s,c,r,d,a);var g=Vh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(c)?(g=!0,Xl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(s),d.updater=fu,s.stateNode=d,d._reactInternals=s,Bh(s,c,r,a),s=qh(null,s,c,!0,g,a)):(s.tag=0,Je&&g&&_h(s),Ht(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(mu(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=bw(c),r=On(c,r),d){case 0:s=Wh(null,s,c,r,a);break e;case 1:s=bm(null,s,c,r,a);break e;case 11:s=km(null,s,c,r,a);break e;case 14:s=Pm(null,s,c,On(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:On(c,d),Wh(r,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:On(c,d),bm(r,s,c,d,a);case 3:e:{if(Om(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,Qp(r,s),ou(s,c,null,a);var v=s.memoizedState;if(c=v.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=io(Error(t(423)),s),s=Lm(r,s,c,a,d);break e}else if(c!==d){d=io(Error(t(424)),s),s=Lm(r,s,c,a,d);break e}else for(un=Qr(s.stateNode.containerInfo.firstChild),ln=s,Je=!0,bn=null,a=Kp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),c===d){s=Ir(r,s,a);break e}Ht(r,s,c,a)}s=s.child}return s;case 5:return Jp(s),r===null&&Eh(s),c=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,v=d.children,dh(c,d)?v=null:g!==null&&dh(c,g)&&(s.flags|=32),Dm(r,s),Ht(r,s,v,a),s.child;case 6:return r===null&&Eh(s),null;case 13:return Vm(r,s,a);case 4:return Ph(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=eo(s,null,c,a):Ht(r,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:On(c,d),km(r,s,c,d,a);case 7:return Ht(r,s,s.pendingProps,a),s.child;case 8:return Ht(r,s,s.pendingProps.children,a),s.child;case 12:return Ht(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,v=d.value,Ke(ru,c._currentValue),c._currentValue=v,g!==null)if(Dn(g.value,v)){if(g.children===d.children&&!Yt.current){s=Ir(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){v=g.child;for(var x=C.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=Tr(-1,a&-a),x.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var Z=W.pending;Z===null?x.next=x:(x.next=Z.next,Z.next=x),W.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),Ch(g.return,a,s),C.lanes|=a;break}x=x.next}}else if(g.tag===10)v=g.type===s.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(t(341));v.lanes|=a,C=v.alternate,C!==null&&(C.lanes|=a),Ch(v,a,s),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}Ht(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,no(s,a),d=yn(d),c=c(d),s.flags|=1,Ht(r,s,c,a),s.child;case 14:return c=s.type,d=On(c,s.pendingProps),d=On(c.type,d),Pm(r,s,c,d,a);case 15:return xm(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:On(c,d),mu(r,s),s.tag=1,Xt(c)?(r=!0,Xl(s)):r=!1,no(s,a),Em(s,c,d),Bh(s,c,d,a),qh(null,s,c,!0,r,a);case 19:return Fm(r,s,a);case 22:return Nm(r,s,a)}throw Error(t(156,s.tag))};function lg(r,s){return Ps(r,s)}function Dw(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(r,s,a,c){return new Dw(r,s,a,c)}function dd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function bw(r){if(typeof r=="function")return dd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===dt)return 14}return 2}function oi(r,s){var a=r.alternate;return a===null?(a=wn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Cu(r,s,a,c,d,g){var v=2;if(c=r,typeof r=="function")dd(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case k:return es(a.children,d,g,s);case I:v=8,d|=8;break;case R:return r=wn(12,a,s,d|2),r.elementType=R,r.lanes=g,r;case A:return r=wn(13,a,s,d),r.elementType=A,r.lanes=g,r;case Ze:return r=wn(19,a,s,d),r.elementType=Ze,r.lanes=g,r;case Ve:return Au(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:v=10;break e;case b:v=9;break e;case M:v=11;break e;case dt:v=14;break e;case ft:v=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=wn(v,a,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function es(r,s,a,c){return r=wn(7,r,c,s),r.lanes=a,r}function Au(r,s,a,c){return r=wn(22,r,c,s),r.elementType=Ve,r.lanes=a,r.stateNode={isHidden:!1},r}function fd(r,s,a){return r=wn(6,r,null,s),r.lanes=a,r}function pd(r,s,a){return s=wn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ow(r,s,a,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function md(r,s,a,c,d,g,v,C,x){return r=new Ow(r,s,a,C,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=wn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(g),r}function Lw(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function ug(r){if(!r)return Xr;r=r._reactInternals;e:{if(Rn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Xt(a))return Mp(r,a,s)}return s}function cg(r,s,a,c,d,g,v,C,x){return r=md(a,c,!0,r,d,g,v,C,x),r.context=ug(null),a=r.current,c=Wt(),d=ii(a),g=Tr(c,d),g.callback=s??null,ei(a,g,d),r.current.lanes=d,Br(r,d,c),en(r,c),r}function ku(r,s,a,c){var d=s.current,g=Wt(),v=ii(d);return a=ug(a),s.context===null?s.context=a:s.pendingContext=a,s=Tr(g,v),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=ei(d,s,v),r!==null&&(Mn(r,d,v,g),su(r,d,v)),v}function Pu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function gd(r,s){hg(r,s),(r=r.alternate)&&hg(r,s)}var dg=typeof reportError=="function"?reportError:function(r){console.error(r)};function yd(r){this._internalRoot=r}xu.prototype.render=yd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ku(r,s,null,null)},xu.prototype.unmount=yd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Xi(function(){ku(null,r,null,null)}),s[yr]=null}};function xu(r){this._internalRoot=r}xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=xl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Hn.length&&s!==0&&s<Hn[a].priority;a++);Hn.splice(a,0,r),a===0&&bl(r)}};function _d(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Nu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function fg(){}function Vw(r,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var W=Pu(v);g.call(W)}}var v=cg(s,c,r,0,null,!1,!1,"",fg);return r._reactRootContainer=v,r[yr]=v.current,pa(r.nodeType===8?r.parentNode:r),Xi(),v}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var W=Pu(x);C.call(W)}}var x=md(r,0,!1,null,null,!1,!1,"",fg);return r._reactRootContainer=x,r[yr]=x.current,pa(r.nodeType===8?r.parentNode:r),Xi(function(){ku(s,x,a,c)}),x}function Du(r,s,a,c,d){var g=a._reactRootContainer;if(g){var v=g;if(typeof d=="function"){var C=d;d=function(){var x=Pu(v);C.call(x)}}ku(s,v,r,d)}else v=Vw(a,s,r,d,c);return Pu(v)}kl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=jr(s.pendingLanes);a!==0&&($r(s,a|1),en(s,qe()),!(Le&6)&&(ao=qe()+500,Jr()))}break;case 13:Xi(function(){var c=Er(r,1);if(c!==null){var d=Wt();Mn(c,r,1,d)}}),gd(r,1)}},Ds=function(r){if(r.tag===13){var s=Er(r,134217728);if(s!==null){var a=Wt();Mn(s,r,134217728,a)}gd(r,134217728)}},Pl=function(r){if(r.tag===13){var s=ii(r),a=Er(r,s);if(a!==null){var c=Wt();Mn(a,r,s,c)}gd(r,s)}},xl=function(){return xe},Nl=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},Is=function(r,s,a){switch(s){case"input":if(Uo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var d=Ql(c);if(!d)throw Error(t(90));ys(c),Uo(c,d)}}}break;case"textarea":Es(r,a);break;case"select":s=a.value,s!=null&&ur(r,!!a.multiple,s,!1)}},Ni=ud,Qo=Xi;var Mw={usingClientEntryPoint:!1,Events:[ya,Gs,Ql,Bn,Go,ud]},Na={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fw={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Jo(r),r===null?null:r.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Vi=bu.inject(Fw),rn=bu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mw,tn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(s))throw Error(t(200));return Lw(r,s,null,a)},tn.createRoot=function(r,s){if(!_d(r))throw Error(t(299));var a=!1,c="",d=dg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=md(r,1,!1,null,null,a,!1,c,d),r[yr]=s.current,pa(r.nodeType===8?r.parentNode:r),new yd(s)},tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Jo(s),r=r===null?null:r.stateNode,r},tn.flushSync=function(r){return Xi(r)},tn.hydrate=function(r,s,a){if(!Nu(s))throw Error(t(200));return Du(null,r,s,!0,a)},tn.hydrateRoot=function(r,s,a){if(!_d(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",v=dg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=cg(s,null,r,1,a??null,d,!1,g,v),r[yr]=s.current,pa(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new xu(s)},tn.render=function(r,s,a){if(!Nu(s))throw Error(t(200));return Du(null,r,s,!1,a)},tn.unmountComponentAtNode=function(r){if(!Nu(r))throw Error(t(40));return r._reactRootContainer?(Xi(function(){Du(null,null,r,!1,function(){r._reactRootContainer=null,r[yr]=null})}),!0):!1},tn.unstable_batchedUpdates=ud,tn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Nu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Du(r,s,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Eg;function qw(){if(Eg)return Ed.exports;Eg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ed.exports=Ww(),Ed.exports}var Tg;function Kw(){if(Tg)return Ou;Tg=1;var n=qw();return Ou.createRoot=n.createRoot,Ou.hydrateRoot=n.hydrateRoot,Ou}var Gw=Kw();const Qw=Yy(Gw);var ba={},Ig;function Yw(){if(Ig)return ba;Ig=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.parse=h,ba.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,L){const V=new l,z=S.length;if(z<2)return V;const D=(L==null?void 0:L.decode)||w;let q=0;do{const H=S.indexOf("=",q);if(H===-1)break;const G=S.indexOf(";",q),te=G===-1?z:G;if(H>te){q=S.lastIndexOf(";",H-1)+1;continue}const fe=f(S,q,H),pe=p(S,H,fe),k=S.slice(fe,pe);if(V[k]===void 0){let I=f(S,H+1,te),R=p(S,te,I);const P=D(S.slice(I,R));V[k]=P}q=te+1}while(q<z);return V}function f(S,L,V){do{const z=S.charCodeAt(L);if(z!==32&&z!==9)return L}while(++L<V);return V}function p(S,L,V){for(;L>V;){const z=S.charCodeAt(--L);if(z!==32&&z!==9)return L+1}return V}function y(S,L,V){const z=(V==null?void 0:V.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const D=z(L);if(!e.test(D))throw new TypeError(`argument val is invalid: ${L}`);let q=S+"="+D;if(!V)return q;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);q+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);q+="; Domain="+V.domain}if(V.path){if(!i.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);q+="; Path="+V.path}if(V.expires){if(!T(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);q+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(q+="; HttpOnly"),V.secure&&(q+="; Secure"),V.partitioned&&(q+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return q}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return ba}Yw();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sg="popstate";function Xw(n={}){function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Md("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Wa(o)}return Zw(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substring(2,10)}function Rg(n,e){return{usr:n.state,key:n.key,idx:e}}function Md(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:t,key:e&&e.key||i||Jw()}}function Wa({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Zw(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",p=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function T(){f="POP";let D=w(),q=D==null?null:D-y;y=D,p&&p({action:f,location:z.location,delta:q})}function S(D,q){f="PUSH";let H=Md(z.location,D,q);y=w()+1;let G=Rg(H,y),te=z.createHref(H);try{h.pushState(G,"",te)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(te)}l&&p&&p({action:f,location:z.location,delta:1})}function L(D,q){f="REPLACE";let H=Md(z.location,D,q);y=w();let G=Rg(H,y),te=z.createHref(H);h.replaceState(G,"",te),l&&p&&p({action:f,location:z.location,delta:0})}function V(D){let q=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof D=="string"?D:Wa(D);return H=H.replace(/ $/,"%20"),nt(q,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,q)}let z={get action(){return f},get location(){return n(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sg,T),p=D,()=>{o.removeEventListener(Sg,T),p=null}},createHref(D){return e(o,D)},createURL:V,encodeLocation(D){let q=V(D);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:L,go(D){return h.go(D)}};return z}function Xy(n,e,t="/"){return eE(n,e,t,!1)}function eE(n,e,t,i){let o=typeof e=="string"?ko(e):e,l=vi(o.pathname||"/",t);if(l==null)return null;let h=Jy(n);tE(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=dE(l);f=cE(h[p],y,i)}return f}function Jy(n,e=[],t=[],i=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=kr([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Jy(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:lE(y,l.index),routesMeta:w})};return n.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of Zy(l.path))o(l,h,p)}),e}function Zy(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Zy(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function tE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var nE=/^:[\w-]+$/,rE=3,iE=2,sE=1,oE=10,aE=-2,Cg=n=>n==="*";function lE(n,e){let t=n.split("/"),i=t.length;return t.some(Cg)&&(i+=aE),e&&(i+=iE),t.filter(o=>!Cg(o)).reduce((o,l)=>o+(nE.test(l)?rE:l===""?sE:oE),i)}function uE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function cE(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=tc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:kr([l,T.pathname]),pathnameBase:gE(kr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=kr([l,T.pathnameBase]))}return h}function tc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=hE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:T},S)=>{if(w==="*"){let V=f[S]||"";h=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const L=f[S];return T&&!L?y[w]=void 0:y[w]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function hE(n,e=!1,t=!0){rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function dE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function vi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function fE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ko(n):n;return{pathname:t?t.startsWith("/")?t:pE(t,e):e,search:yE(i),hash:_E(o)}}function pE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function e_(n){let e=mE(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function t_(n,e,t,i=!1){let o;typeof n=="string"?o=ko(n):(o={...n},nt(!o.pathname||!o.pathname.includes("?"),Sd("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Sd("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Sd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let p=fE(o,f),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var kr=n=>n.join("/").replace(/\/\/+/g,"/"),gE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_E=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function vE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var n_=["POST","PUT","PATCH","DELETE"];new Set(n_);var wE=["GET",...n_];new Set(wE);var Po=$.createContext(null);Po.displayName="DataRouter";var Ic=$.createContext(null);Ic.displayName="DataRouterState";var r_=$.createContext({isTransitioning:!1});r_.displayName="ViewTransition";var EE=$.createContext(new Map);EE.displayName="Fetchers";var TE=$.createContext(null);TE.displayName="Await";var sr=$.createContext(null);sr.displayName="Navigation";var nl=$.createContext(null);nl.displayName="Location";var or=$.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var mf=$.createContext(null);mf.displayName="RouteError";function IE(n,{relative:e}={}){nt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(sr),{hash:o,pathname:l,search:h}=sl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:kr([t,l])),i.createHref({pathname:f,search:h,hash:o})}function rl(){return $.useContext(nl)!=null}function hs(){return nt(rl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(nl).location}var i_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s_(n){$.useContext(sr).static||$.useLayoutEffect(n)}function il(){let{isDataRoute:n}=$.useContext(or);return n?ME():SE()}function SE(){nt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Po),{basename:e,navigator:t}=$.useContext(sr),{matches:i}=$.useContext(or),{pathname:o}=hs(),l=JSON.stringify(e_(i)),h=$.useRef(!1);return s_(()=>{h.current=!0}),$.useCallback((p,y={})=>{if(rr(h.current,i_),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=t_(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:kr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,o,n])}$.createContext(null);function RE(){let{matches:n}=$.useContext(or),e=n[n.length-1];return e?e.params:{}}function sl(n,{relative:e}={}){let{matches:t}=$.useContext(or),{pathname:i}=hs(),o=JSON.stringify(e_(t));return $.useMemo(()=>t_(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function CE(n,e){return o_(n,e)}function o_(n,e,t,i){var q;nt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(sr),{matches:l}=$.useContext(or),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let H=w&&w.path||"";a_(p,!w||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=hs(),S;if(e){let H=typeof e=="string"?ko(e):e;nt(y==="/"||((q=H.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=T;let L=S.pathname||"/",V=L;if(y!=="/"){let H=y.replace(/^\//,"").split("/");V="/"+L.replace(/^\//,"").split("/").slice(H.length).join("/")}let z=Xy(n,{pathname:V});rr(w||z!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),rr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=NE(z&&z.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:kr([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:kr([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,i);return e&&D?$.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},D):D}function AE(){let n=VE(),e=vE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,h)}var kE=$.createElement(AE,null),PE=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(or.Provider,{value:this.props.routeContext},$.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xE({routeContext:n,match:e,children:t}){let i=$.useContext(Po);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(or.Provider,{value:n},t)}function NE(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:w,errors:T}=t,S=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let T,S=!1,L=null,V=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,L=y.route.errorElement||kE,h&&(f<0&&w===0?(a_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):f===w&&(S=!0,V=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,w+1)),D=()=>{let q;return T?q=L:S?q=V:y.route.Component?q=$.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,$.createElement(xE,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?$.createElement(PE,{location:t.location,revalidation:t.revalidation,component:L,error:T,children:D(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):D()},null)}function gf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(n){let e=$.useContext(Po);return nt(e,gf(n)),e}function bE(n){let e=$.useContext(Ic);return nt(e,gf(n)),e}function OE(n){let e=$.useContext(or);return nt(e,gf(n)),e}function yf(n){let e=OE(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LE(){return yf("useRouteId")}function VE(){var i;let n=$.useContext(mf),e=bE("useRouteError"),t=yf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function ME(){let{router:n}=DE("useNavigate"),e=yf("useNavigate"),t=$.useRef(!1);return s_(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{rr(t.current,i_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Ag={};function a_(n,e,t){!e&&!Ag[n]&&(Ag[n]=!0,rr(!1,t))}$.memo(FE);function FE({routes:n,future:e,state:t}){return o_(n,void 0,t,e)}function ts(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UE({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){nt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=ko(t));let{pathname:p="/",search:y="",hash:w="",state:T=null,key:S="default"}=t,L=$.useMemo(()=>{let V=vi(p,h);return V==null?null:{location:{pathname:V,search:y,hash:w,state:T,key:S},navigationType:i}},[h,p,y,w,T,S,i]);return rr(L!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:$.createElement(sr.Provider,{value:f},$.createElement(nl.Provider,{children:e,value:L}))}function jE({children:n,location:e}){return CE(Fd(n),e)}function Fd(n,e=[]){let t=[];return $.Children.forEach(n,(i,o)=>{if(!$.isValidElement(i))return;let l=[...e,o];if(i.type===$.Fragment){t.push.apply(t,Fd(i.props.children,l));return}nt(i.type===ts,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Fd(i.props.children,l)),t.push(h)}),t}var $u="get",Hu="application/x-www-form-urlencoded";function Sc(n){return n!=null&&typeof n.tagName=="string"}function zE(n){return Sc(n)&&n.tagName.toLowerCase()==="button"}function BE(n){return Sc(n)&&n.tagName.toLowerCase()==="form"}function $E(n){return Sc(n)&&n.tagName.toLowerCase()==="input"}function HE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WE(n,e){return n.button===0&&(!e||e==="_self")&&!HE(n)}var Lu=null;function qE(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var KE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rd(n){return n!=null&&!KE.has(n)?(rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):n}function GE(n,e){let t,i,o,l,h;if(BE(n)){let f=n.getAttribute("action");i=f?vi(f,e):null,t=n.getAttribute("method")||$u,o=Rd(n.getAttribute("enctype"))||Hu,l=new FormData(n)}else if(zE(n)||$E(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?vi(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||$u,o=Rd(n.getAttribute("formenctype"))||Rd(f.getAttribute("enctype"))||Hu,l=new FormData(f,n),!qE()){let{name:y,type:w,value:T}=n;if(w==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,T)}}else{if(Sc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$u,i=null,o=Hu,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function _f(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function QE(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function XE(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await QE(l,t);return h.links?h.links():[]}return[]}));return tT(i.flat(1).filter(YE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kg(n,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var w;return t[y].pathname!==p.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var T;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function JE(n,e){return ZE(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function ZE(n){return[...new Set(n)]}function eT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function tT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(eT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function nT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rT(){let n=$.useContext(Po);return _f(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function iT(){let n=$.useContext(Ic);return _f(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vf=$.createContext(void 0);vf.displayName="FrameworkContext";function l_(){let n=$.useContext(vf);return _f(n,"You must render this element inside a <HydratedRouter> element"),n}function sT(n,e){let t=$.useContext(vf),[i,o]=$.useState(!1),[l,h]=$.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,S=$.useRef(null);$.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let z=q=>{q.forEach(H=>{h(H.isIntersecting)})},D=new IntersectionObserver(z,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[n]),$.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let L=()=>{o(!0)},V=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Oa(f,L),onBlur:Oa(p,V),onMouseEnter:Oa(y,L),onMouseLeave:Oa(w,V),onTouchStart:Oa(T,L)}]:[!1,S,{}]}function Oa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oT({page:n,...e}){let{router:t}=rT(),i=$.useMemo(()=>Xy(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?$.createElement(lT,{page:n,matches:i,...e}):null}function aT(n){let{manifest:e,routeModules:t}=l_(),[i,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return XE(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function lT({page:n,matches:e,...t}){let i=hs(),{manifest:o,routeModules:l}=l_(),{loaderData:h,matches:f}=iT(),p=$.useMemo(()=>kg(n,e,f,o,i,"data"),[n,e,f,o,i]),y=$.useMemo(()=>kg(n,e,f,o,i,"assets"),[n,e,f,o,i]),w=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let L=new Set,V=!1;if(e.forEach(D=>{var H;let q=o.routes[D.route.id];!q||!q.hasLoader||(!p.some(G=>G.route.id===D.route.id)&&D.route.id in h&&((H=l[D.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?V=!0:L.add(D.route.id))}),L.size===0)return[];let z=nT(n);return V&&L.size>0&&z.searchParams.set("_routes",e.filter(D=>L.has(D.route.id)).map(D=>D.route.id).join(",")),[z.pathname+z.search]},[h,i,o,p,e,n,l]),T=$.useMemo(()=>JE(y,o),[y,o]),S=aT(y);return $.createElement($.Fragment,null,w.map(L=>$.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),T.map(L=>$.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),S.map(({key:L,link:V})=>$.createElement("link",{key:L,...V})))}function uT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u_&&(window.__reactRouterVersion="7.1.1")}catch{}function cT({basename:n,children:e,window:t}){let i=$.useRef();i.current==null&&(i.current=Xw({window:t,v5Compat:!0}));let o=i.current,[l,h]=$.useState({action:o.action,location:o.location}),f=$.useCallback(p=>{$.startTransition(()=>h(p))},[h]);return $.useLayoutEffect(()=>o.listen(f),[o,f]),$.createElement(UE,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mo=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:w,viewTransition:T,...S},L){let{basename:V}=$.useContext(sr),z=typeof y=="string"&&c_.test(y),D,q=!1;if(typeof y=="string"&&z&&(D=y,u_))try{let R=new URL(window.location.href),P=y.startsWith("//")?new URL(R.protocol+y):new URL(y),b=vi(P.pathname,V);P.origin===R.origin&&b!=null?y=b+P.search+P.hash:q=!0}catch{rr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=IE(y,{relative:o}),[G,te,fe]=sT(i,S),pe=pT(y,{replace:h,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:T});function k(R){e&&e(R),R.defaultPrevented||pe(R)}let I=$.createElement("a",{...S,...fe,href:D||H,onClick:q||l?e:k,ref:uT(L,te),target:p,"data-discover":!z&&t==="render"?"true":void 0});return G&&!z?$.createElement($.Fragment,null,I,$.createElement(oT,{page:H})):I});mo.displayName="Link";var hT=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},w){let T=sl(h,{relative:y.relative}),S=hs(),L=$.useContext(Ic),{navigator:V,basename:z}=$.useContext(sr),D=L!=null&&vT(T)&&f===!0,q=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,H=S.pathname,G=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;t||(H=H.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&z&&(G=vi(G,z)||G);const te=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let fe=H===q||!o&&H.startsWith(q)&&H.charAt(te)==="/",pe=G!=null&&(G===q||!o&&G.startsWith(q)&&G.charAt(q.length)==="/"),k={isActive:fe,isPending:pe,isTransitioning:D},I=fe?e:void 0,R;typeof i=="function"?R=i(k):R=[i,fe?"active":null,pe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(k):l;return $.createElement(mo,{...y,"aria-current":I,className:R,ref:w,style:P,to:h,viewTransition:f},typeof p=="function"?p(k):p)});hT.displayName="NavLink";var dT=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=$u,action:f,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:T,...S},L)=>{let V=yT(),z=_T(f,{relative:y}),D=h.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&c_.test(f),H=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,fe=(te==null?void 0:te.getAttribute("formmethod"))||h;V(te||G.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:o,state:l,relative:y,preventScrollReset:w,viewTransition:T})};return $.createElement("form",{ref:L,method:D,action:z,onSubmit:i?p:H,...S,"data-discover":!q&&n==="render"?"true":void 0})});dT.displayName="Form";function fT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(n){let e=$.useContext(Po);return nt(e,fT(n)),e}function pT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=il(),p=hs(),y=sl(n,{relative:l});return $.useCallback(w=>{if(WE(w,e)){w.preventDefault();let T=t!==void 0?t:Wa(p)===Wa(y);f(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,i,e,n,o,l,h])}var mT=0,gT=()=>`__${String(++mT)}__`;function yT(){let{router:n}=h_("useSubmit"),{basename:e}=$.useContext(sr),t=LE();return $.useCallback(async(i,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=GE(i,e);if(o.navigate===!1){let w=o.fetcherKey||gT();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function _T(n,{relative:e}={}){let{basename:t}=$.useContext(sr),i=$.useContext(or);nt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...sl(n||".",{relative:e})},h=hs();if(n==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(w=>w==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:kr([t,l.pathname])),Wa(l)}function vT(n,e={}){let t=$.useContext(r_);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=h_("useViewTransitionState"),o=sl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=vi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=vi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return tc(o.pathname,h)!=null||tc(o.pathname,l)!=null}new TextEncoder;var Pg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},wT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,L=y&63;p||(L=64,h||(S=64)),i.push(t[w],t[T],t[S],t[L])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new ET;const S=l<<2|f>>4;if(i.push(S),y!==64){const L=f<<4&240|y>>2;if(i.push(L),T!==64){const V=y<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ET extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TT=function(n){const e=d_(n);return f_.encodeByteArray(e,!0)},nc=function(n){return TT(n).replace(/\./g,"")},p_=function(n){try{return f_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=()=>IT().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof Pg>"u")return;const n=Pg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&p_(n[1]);return e&&JSON.parse(e)},Rc=()=>{try{return ST()||RT()||CT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m_=n=>{var e,t;return(t=(e=Rc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},AT=n=>{const e=m_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},g_=()=>{var n;return(n=Rc())===null||n===void 0?void 0:n.config},y_=n=>{var e;return(e=Rc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nc(JSON.stringify(t)),nc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function NT(){var n;const e=(n=Rc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function OT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LT(){const n=zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VT(){return!NT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MT(){try{return typeof indexedDB=="object"}catch{return!1}}function FT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="FirebaseError";class Vr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=UT,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?jT(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Vr(o,f,i)}}function jT(n,e){return n.replace(zT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zT=/\{\$([^}]+)}/g;function BT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(xg(l)&&xg(h)){if(!rc(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function xg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function La(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Va(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $T(n,e){const t=new HT(n,e);return t.subscribe.bind(t)}class HT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");WT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Cd),o.error===void 0&&(o.error=Cd),o.complete===void 0&&(o.complete=Cd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n){return n&&n._delegate?n._delegate:n}class os{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new kT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GT(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KT(n){return n===ns?void 0:n}function GT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const YT={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},XT=ke.INFO,JT={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},ZT=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=JT[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wf{constructor(e){this.name=e,this._logLevel=XT,this._logHandler=ZT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const e1=(n,e)=>e.some(t=>n instanceof t);let Ng,Dg;function t1(){return Ng||(Ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return Dg||(Dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,Ud=new WeakMap,v_=new WeakMap,Ad=new WeakMap,Ef=new WeakMap;function r1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(pi(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&__.set(t,n)}).catch(()=>{}),Ef.set(e,n),e}function i1(n){if(Ud.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});Ud.set(n,e)}let jd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ud.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function s1(n){jd=n(jd)}function o1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(kd(this),e,...t);return v_.set(i,e.sort?e.sort():[e]),pi(i)}:n1().includes(n)?function(...e){return n.apply(kd(this),e),pi(__.get(this))}:function(...e){return pi(n.apply(kd(this),e))}}function a1(n){return typeof n=="function"?o1(n):(n instanceof IDBTransaction&&i1(n),e1(n,t1())?new Proxy(n,jd):n)}function pi(n){if(n instanceof IDBRequest)return r1(n);if(Ad.has(n))return Ad.get(n);const e=a1(n);return e!==n&&(Ad.set(n,e),Ef.set(e,n)),e}const kd=n=>Ef.get(n);function l1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=pi(h);return i&&h.addEventListener("upgradeneeded",p=>{i(pi(h.result),p.oldVersion,p.newVersion,pi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],Pd=new Map;function bg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=c1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||u1.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Pd.set(e,l),l}s1(n=>({...n,get:(e,t,i)=>bg(e,t)||n.get(e,t,i),has:(e,t)=>!!bg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(d1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function d1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zd="@firebase/app",Og="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new wf("@firebase/app"),f1="@firebase/app-compat",p1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",y1="@firebase/app-check",_1="@firebase/auth",v1="@firebase/auth-compat",w1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",I1="@firebase/functions",S1="@firebase/functions-compat",R1="@firebase/installations",C1="@firebase/installations-compat",A1="@firebase/messaging",k1="@firebase/messaging-compat",P1="@firebase/performance",x1="@firebase/performance-compat",N1="@firebase/remote-config",D1="@firebase/remote-config-compat",b1="@firebase/storage",O1="@firebase/storage-compat",L1="@firebase/firestore",V1="@firebase/vertexai",M1="@firebase/firestore-compat",F1="firebase",U1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",j1={[zd]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[p1]:"fire-analytics-compat",[y1]:"fire-app-check",[g1]:"fire-app-check-compat",[_1]:"fire-auth",[v1]:"fire-auth-compat",[w1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[I1]:"fire-fn",[S1]:"fire-fn-compat",[R1]:"fire-iid",[C1]:"fire-iid-compat",[A1]:"fire-fcm",[k1]:"fire-fcm-compat",[P1]:"fire-perf",[x1]:"fire-perf-compat",[N1]:"fire-rc",[D1]:"fire-rc-compat",[b1]:"fire-gcs",[O1]:"fire-gcs-compat",[L1]:"fire-fst",[M1]:"fire-fst-compat",[V1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,z1=new Map,$d=new Map;function Lg(n,e){try{n.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wo(n){const e=n.name;if($d.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,n);for(const t of ic.values())Lg(t,n);for(const t of z1.values())Lg(t,n);return!0}function Tf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new ol("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=U1;function w_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=g_()),!t)throw mi.create("no-options");const l=ic.get(o);if(l){if(rc(t,l.options)&&rc(i,l.config))return l;throw mi.create("duplicate-app",{appName:o})}const h=new QT(o);for(const p of $d.values())h.addComponent(p);const f=new $1(t,i,h);return ic.set(o,f),f}function E_(n=Bd){const e=ic.get(n);if(!e&&n===Bd&&g_())return w_();if(!e)throw mi.create("no-app",{appName:n});return e}function gi(n,e,t){var i;let o=(i=j1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}wo(new os(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",W1=1,qa="firebase-heartbeat-store";let xd=null;function T_(){return xd||(xd=l1(H1,W1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qa)}catch(t){console.warn(t)}}}}).catch(n=>{throw mi.create("idb-open",{originalErrorMessage:n.message})})),xd}async function q1(n){try{const t=(await T_()).transaction(qa),i=await t.objectStore(qa).get(I_(n));return await t.done,i}catch(e){if(e instanceof Vr)Nr.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(t.message)}}}async function Vg(n,e){try{const i=(await T_()).transaction(qa,"readwrite");await i.objectStore(qa).put(e,I_(n)),await i.done}catch(t){if(t instanceof Vr)Nr.warn(t.message);else{const i=mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(i.message)}}}function I_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=1024,G1=30*24*60*60*1e3;class Q1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new X1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Mg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=G1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Nr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mg(),{heartbeatsToSend:i,unsentEntries:o}=Y1(this._heartbeatsCache.heartbeats),l=nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Nr.warn(t),""}}}function Mg(){return new Date().toISOString().substring(0,10)}function Y1(n,e=K1){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Fg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Fg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class X1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MT()?FT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await q1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fg(n){return nc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n){wo(new os("platform-logger",e=>new h1(e),"PRIVATE")),wo(new os("heartbeat",e=>new Q1(e),"PRIVATE")),gi(zd,Og,n),gi(zd,Og,"esm2017"),gi("fire-js","")}J1("");function If(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function S_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z1=S_,R_=new ol("auth","Firebase",S_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new wf("@firebase/auth");function eI(n,...e){sc.logLevel<=ke.WARN&&sc.warn(`Auth (${xo}): ${n}`,...e)}function Wu(n,...e){sc.logLevel<=ke.ERROR&&sc.error(`Auth (${xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw Sf(n,...e)}function Zn(n,...e){return Sf(n,...e)}function C_(n,e,t){const i=Object.assign(Object.assign({},Z1()),{[e]:t});return new ol("auth","Firebase",i).create(e,{appName:n.name})}function Pr(n){return C_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return R_.create(n,...e)}function we(n,e,...t){if(!n)throw Sf(e,...t)}function Rr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wu(e),new Error(e)}function Dr(n,e){n||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tI(){return Ug()==="http:"||Ug()==="https:"}function Ug(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tI()||bT()||"connection"in navigator)?navigator.onLine:!0}function rI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dr(t>e,"Short delay should be less than long delay!"),this.isMobile=xT()||OT()}get(){return nI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n,e){Dr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new ll(3e4,6e4);function Ri(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ci(n,e,t,i,o={}){return k_(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=al(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return DT()||(y.referrerPolicy="no-referrer"),A_.fetch()(P_(n,n.config.apiHost,t,f),y)})}async function k_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},iI),e);try{const o=new aI(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Vu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Vu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Vu(n,"user-disabled",h);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw C_(n,w,y);Un(n,w)}}catch(o){if(o instanceof Vr)throw o;Un(n,"network-request-failed",{message:String(o)})}}async function ul(n,e,t,i,o={}){const l=await Ci(n,e,t,i,o);return"mfaPendingCredential"in l&&Un(n,"multi-factor-auth-required",{_serverResponse:l}),l}function P_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Rf(n.config,o):`${n.config.apiScheme}://${o}`}function oI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Zn(this.auth,"network-request-failed")),sI.get())})}}function Vu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Zn(n,e,i);return o.customData._tokenResponse=t,o}function jg(n){return n!==void 0&&n.enterprise!==void 0}class lI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uI(n,e){return Ci(n,"GET","/v2/recaptchaConfig",Ri(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(n,e){return Ci(n,"POST","/v1/accounts:delete",e)}async function x_(n,e){return Ci(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hI(n,e=!1){const t=Kt(n),i=await t.getIdToken(e),o=Cf(i);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:ja(Nd(o.auth_time)),issuedAtTime:ja(Nd(o.iat)),expirationTime:ja(Nd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Nd(n){return Number(n)*1e3}function Cf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const o=p_(t);return o?JSON.parse(o):(Wu("Failed to decode base64 JWT payload"),null)}catch(o){return Wu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zg(n){const e=Cf(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Vr&&dI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function dI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ka(n,x_(t,{idToken:i}));we(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?N_(l.providerUserInfo):[],f=mI(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),w=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function pI(n){const e=Kt(n);await oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mI(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function N_(n){return n.map(e=>{var{providerId:t}=e,i=If(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,e){const t=await k_(n,{},async()=>{const i=al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=P_(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",A_.fetch()(h,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yI(n,e){return Ci(n,"POST","/v2/accounts:revokeToken",Ri(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=zg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await gI(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new go;return i&&(we(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=If(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hI(this,e)}reload(){return pI(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await Ka(this,cI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,L=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,V=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,H=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:G,emailVerified:te,isAnonymous:fe,providerData:pe,stsTokenManager:k}=t;we(G&&k,e,"internal-error");const I=go.fromJSON(this.name,k);we(typeof G=="string",e,"internal-error"),li(T,e.name),li(S,e.name),we(typeof te=="boolean",e,"internal-error"),we(typeof fe=="boolean",e,"internal-error"),li(L,e.name),li(V,e.name),li(z,e.name),li(D,e.name),li(q,e.name),li(H,e.name);const R=new Cr({uid:G,auth:e,email:S,emailVerified:te,displayName:T,isAnonymous:fe,photoURL:V,phoneNumber:L,tenantId:z,stsTokenManager:I,createdAt:q,lastLoginAt:H});return pe&&Array.isArray(pe)&&(R.providerData=pe.map(P=>Object.assign({},P))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new go;o.updateFromServerResponse(t);const l=new Cr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await oc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?N_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new go;f.updateFromIdToken(i);const p=new Cr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new Map;function Ar(n){Dr(n instanceof Function,"Expected a class definition");let e=Bg.get(n);return e?(Dr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Bg.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}D_.type="NONE";const $g=D_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n,e,t){return`firebase:${n}:${e}:${t}`}class yo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=qu(this.userKey,o.apiKey,l),this.fullPersistenceKey=qu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new yo(Ar($g),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Ar($g);const h=qu(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const w=await y._get(h);if(w){const T=Cr._fromJSON(e,w);y!==l&&(f=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new yo(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new yo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F_(e))return"Blackberry";if(U_(e))return"Webos";if(O_(e))return"Safari";if((e.includes("chrome/")||L_(e))&&!e.includes("edge/"))return"Chrome";if(M_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function b_(n=zt()){return/firefox\//i.test(n)}function O_(n=zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L_(n=zt()){return/crios\//i.test(n)}function V_(n=zt()){return/iemobile/i.test(n)}function M_(n=zt()){return/android/i.test(n)}function F_(n=zt()){return/blackberry/i.test(n)}function U_(n=zt()){return/webos/i.test(n)}function Af(n=zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _I(n=zt()){var e;return Af(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vI(){return LT()&&document.documentMode===10}function j_(n=zt()){return Af(n)||M_(n)||U_(n)||F_(n)||/windows phone/i.test(n)||V_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n,e=[]){let t;switch(n){case"Browser":t=Hg(zt());break;case"Worker":t=`${Hg(zt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(n,e={}){return Ci(n,"GET","/v2/passwordPolicy",Ri(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=6;class II{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:TI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wg(this),this.idTokenSubscription=new Wg(this),this.beforeStateQueue=new wI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await x_(this,{idToken:e}),i=await Cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Pr(this));const t=e?Kt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EI(this),t=new II(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await yI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ds(n){return Kt(n)}class Wg{constructor(e){this.auth=e,this.observer=null,this.addObserver=$T(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RI(n){Cc=n}function B_(n){return Cc.loadJS(n)}function CI(){return Cc.recaptchaEnterpriseScript}function AI(){return Cc.gapiScript}function kI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class PI{constructor(){this.enterprise=new xI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const NI="recaptcha-enterprise",$_="NO_RECAPTCHA";class DI{constructor(e){this.type=NI,this.auth=ds(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{uI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new lI(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;jg(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h($_)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PI().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(f=>{if(!t&&jg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=CI();p.length!==0&&(p+=f),B_(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function qg(n,e,t,i=!1,o=!1){const l=new DI(n);let h;if(o)h=$_;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function qd(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await qg(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await qg(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(n,e){const t=Tf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(rc(l,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function OI(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function LI(n,e,t){const i=ds(n);we(i._canInitEmulator,i,"emulator-config-failed"),we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=H_(e),{host:h,port:f}=VI(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),MI()}function H_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VI(n){const e=H_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Kg(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Kg(h)}}}function Kg(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,t){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function FI(n,e){return Ci(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(n,e){return ul(n,"POST","/v1/accounts:signInWithPassword",Ri(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(n,e){return ul(n,"POST","/v1/accounts:signInWithEmailLink",Ri(n,e))}async function zI(n,e){return ul(n,"POST","/v1/accounts:signInWithEmailLink",Ri(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends kf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ga(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ga(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,t,"signInWithPassword",UI);case"emailLink":return jI(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,i,"signUpPassword",FI);case"emailLink":return zI(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(n,e){return ul(n,"POST","/v1/accounts:signInWithIdp",Ri(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="http://localhost";class as extends kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=If(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new as(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,_o(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:BI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=al(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HI(n){const e=La(Va(n)).link,t=e?La(Va(e)).deep_link_id:null,i=La(Va(n)).deep_link_id;return(i?La(Va(i)).link:null)||i||t||e||n}class Pf{constructor(e){var t,i,o,l,h,f;const p=La(Va(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,T=$I((o=p.mode)!==null&&o!==void 0?o:null);we(y&&w&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=HI(e);try{return new Pf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,t){return Ga._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Pf.parseLink(t);return we(i,"argument-error"),Ga._fromEmailAndCode(e,i.code,i.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends W_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends cl{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return as._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ci.credential(t,i)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends cl{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends cl{constructor(){super("twitter.com")}static credential(e,t){return as._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return di.credential(t,i)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(n,e){return ul(n,"POST","/v1/accounts:signUp",Ri(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Cr._fromIdTokenResponse(e,i,o),h=Gg(i);return new ls({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Gg(i);return new ls({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Gg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Vr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new ac(e,t,i,o)}}function q_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ac._fromErrorAndOperation(n,l,e,i):l})}async function qI(n,e,t=!1){const i=await Ka(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ls._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,e,t=!1){const{auth:i}=n;if(Jn(i.app))return Promise.reject(Pr(i));const o="reauthenticate";try{const l=await Ka(n,q_(i,o,e,n),t);we(l.idToken,i,"internal-error");const h=Cf(l.idToken);we(h,i,"internal-error");const{sub:f}=h;return we(n.uid===f,i,"user-mismatch"),ls._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Un(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_(n,e,t=!1){if(Jn(n.app))return Promise.reject(Pr(n));const i="signIn",o=await q_(n,i,e),l=await ls._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function GI(n,e){return K_(ds(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(n){const e=ds(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QI(n,e,t){if(Jn(n.app))return Promise.reject(Pr(n));const i=ds(n),h=await qd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&G_(n),p}),f=await ls._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(f.user),f}function YI(n,e,t){return Jn(n.app)?Promise.reject(Pr(n)):GI(Kt(n),No.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&G_(n),i})}function XI(n,e,t,i){return Kt(n).onIdTokenChanged(e,t,i)}function JI(n,e,t){return Kt(n).beforeAuthStateChanged(e,t)}function xf(n,e,t,i){return Kt(n).onAuthStateChanged(e,t,i)}function ZI(n){return Kt(n).signOut()}const lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lc,"1"),this.storage.removeItem(lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=1e3,tS=10;class Y_ extends Q_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);vI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tS):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},eS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y_.type="LOCAL";const nS=Y_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends Q_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}X_.type="SESSION";const J_=X_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ac(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await rS(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Nf("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function sS(n){er().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function oS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aS(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lS(){return Z_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="firebaseLocalStorageDb",uS=1,uc="firebaseLocalStorage",tv="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kc(n,e){return n.transaction([uc],e?"readwrite":"readonly").objectStore(uc)}function cS(){const n=indexedDB.deleteDatabase(ev);return new hl(n).toPromise()}function Kd(){const n=indexedDB.open(ev,uS);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(uc,{keyPath:tv})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(uc)?e(i):(i.close(),await cS(),e(await Kd()))})})}async function Qg(n,e,t){const i=kc(n,!0).put({[tv]:e,value:t});return new hl(i).toPromise()}async function hS(n,e){const t=kc(n,!1).get(e),i=await new hl(t).toPromise();return i===void 0?null:i.value}function Yg(n,e){const t=kc(n,!0).delete(e);return new hl(t).toPromise()}const dS=800,fS=3;class nv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>fS)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(lS()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await oS(),!this.activeServiceWorker)return;this.sender=new iS(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kd();return await Qg(e,lc,"1"),await Yg(e,lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qg(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>hS(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=kc(o,!1).getAll();return new hl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nv.type="LOCAL";const pS=nv;new ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n,e){return e?Ar(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends kf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gS(n){return K_(n.auth,new Df(n),n.bypassAuthState)}function yS(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),KI(t,new Df(n),n.bypassAuthState)}async function _S(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),qI(t,new Df(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gS;case"linkViaPopup":case"linkViaRedirect":return _S;case"reauthViaPopup":case"reauthViaRedirect":return yS;default:Un(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new ll(2e3,1e4);class po extends rv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=Nf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vS.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="pendingRedirect",Ku=new Map;class ES extends rv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const i=await TS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TS(n,e){const t=RS(e),i=SS(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function IS(n,e){Ku.set(n._key(),e)}function SS(n){return Ar(n._redirectPersistence)}function RS(n){return qu(wS,n.config.apiKey,n.name)}async function CS(n,e,t=!1){if(Jn(n.app))return Promise.reject(Pr(n));const i=ds(n),o=mS(i,e),h=await new ES(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=10*60*1e3;class kS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!iv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xg(e))}saveEventToCache(e){this.cachedEventUids.add(Xg(e)),this.lastProcessedEventTime=Date.now()}}function Xg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(n,e={}){return Ci(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DS=/^https?/;async function bS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xS(n);for(const t of e)try{if(OS(t))return}catch{}Un(n,"unauthorized-domain")}function OS(n){const e=Hd(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!DS.test(t))return!1;if(NS.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new ll(3e4,6e4);function Jg(){const n=er().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function VS(n){return new Promise((e,t)=>{var i,o,l;function h(){Jg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jg(),t(Zn(n,"network-request-failed"))},timeout:LS.get()})}if(!((o=(i=er().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=er().gapi)===null||l===void 0)&&l.load)h();else{const f=kI("iframefcb");return er()[f]=()=>{gapi.load?h():t(Zn(n,"network-request-failed"))},B_(`${AI()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function MS(n){return Gu=Gu||VS(n),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new ll(5e3,15e3),US="__/auth/iframe",jS="emulator/auth/iframe",zS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $S(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Rf(e,jS):`https://${n.config.authDomain}/${US}`,i={apiKey:e.apiKey,appName:n.name,v:xo},o=BS.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${al(i).slice(1)}`}async function HS(n){const e=await MS(n),t=er().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:$S(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zS,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=Zn(n,"network-request-failed"),f=er().setTimeout(()=>{l(h)},FS.get());function p(){er().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qS=500,KS=600,GS="_blank",QS="http://localhost";class Zg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YS(n,e,t,i=qS,o=KS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},WS),{width:i.toString(),height:o.toString(),top:l,left:h}),y=zt().toLowerCase();t&&(f=L_(y)?GS:t),b_(y)&&(e=e||QS,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[L,V])=>`${S}${L}=${V},`,"");if(_I(y)&&f!=="_self")return XS(e||"",f),new Zg(null);const T=window.open(e||"",f,w);we(T,n,"popup-blocked");try{T.focus()}catch{}return new Zg(T)}function XS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="__/auth/handler",ZS="emulator/auth/handler",eR=encodeURIComponent("fac");async function ey(n,e,t,i,o,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:xo,eventId:o};if(e instanceof W_){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",BT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof cl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await n._getAppCheckToken(),y=p?`#${eR}=${encodeURIComponent(p)}`:"";return`${tR(n)}?${al(f).slice(1)}${y}`}function tR({config:n}){return n.emulator?Rf(n,ZS):`https://${n.authDomain}/${JS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class nR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J_,this._completeRedirectFn=CS,this._overrideRedirectResult=IS}async _openPopup(e,t,i,o){var l;Dr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await ey(e,t,i,Hd(),o);return YS(e,h,Nf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await ey(e,t,i,Hd(),o);return sS(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Dr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await HS(e),i=new kS(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dd,{type:Dd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Dd];h!==void 0&&t(!!h),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j_()||O_()||Af()}}const rR=nR;var ty="@firebase/auth",ny="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oR(n){wo(new os("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z_(n)},y=new SI(i,o,l,p);return OI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wo(new os("auth-internal",e=>{const t=ds(e.getProvider("auth").getImmediate());return(i=>new iR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(ty,ny,sR(n)),gi(ty,ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=5*60,lR=y_("authIdTokenMaxAge")||aR;let ry=null;const uR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>lR)return;const o=t==null?void 0:t.token;ry!==o&&(ry=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Pc(n=E_()){const e=Tf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bI(n,{popupRedirectResolver:rR,persistence:[pS,nS,J_]}),i=y_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=uR(l.toString());JI(t,h,()=>h(t.currentUser)),XI(t,f=>h(f))}}const o=m_("auth");return o&&LI(t,`http://${o}`),t}function cR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}RI({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Zn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",cR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oR("Browser");var hR="firebase",dR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(hR,dR,"app");const fR={apiKey:"AIzaSyChpYxxevKOzh0YD5uz4p6ubmTJGaBrJLc",authDomain:"portfoliomaker-978ee.firebaseapp.com",projectId:"portfoliomaker-978ee",storageBucket:"portfoliomaker-978ee.firebasestorage.app",messagingSenderId:"637178256843",appId:"1:637178256843:web:28c1d9c6665ecaff2f6a4e"},Do=w_(fR);function pR(){const[n,e]=$.useState(!1),t=Pc(Do),i=il();$.useState(!1),$.useEffect(()=>xf(t,y=>{e(!!y),console.log(n)}),[t]);function o(){i("/settings")}function l(){i("/auth")}function h(){i("/profile")}async function f(){try{await ZI(t),toast.success("SignOut Completed")}catch(p){toast.error(p.meassage)}}return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"navbar bg-base-100/70 backdrop-blur-md sticky top-0 z-50",children:[N.jsx("div",{className:"flex-1",children:N.jsx("a",{className:"btn btn-ghost text-xl",children:"Inue"})}),N.jsxs("div",{className:"flex-none gap-2",children:[N.jsx("div",{className:"form-control",children:N.jsx("input",{type:"text",placeholder:"Search",className:"input input-bordered w-24 md:w-auto"})}),N.jsxs("div",{className:"dropdown dropdown-end",children:[N.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:N.jsx("div",{className:"w-10 rounded-full",children:N.jsx("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"})})}),N.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:[n?N.jsx("li",{children:N.jsxs("a",{className:"justify-between",onClick:h,children:["Profile",N.jsx("span",{className:"badge",children:"New"})]})}):N.jsx(N.Fragment,{}),N.jsx("li",{onClick:o,children:N.jsx("a",{children:"Settings"})}),n?N.jsx("li",{onClick:f,children:N.jsx("a",{children:"Logout"})}):N.jsx("li",{onClick:l,children:N.jsx("a",{children:"SignIn"})})]})]})]})]})})}function mR(){return N.jsxs("footer",{className:"footer bg-neutral text-neutral-content p-10",children:[N.jsxs("aside",{children:[N.jsx("svg",{width:"50",height:"50",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:N.jsx("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),N.jsxs("p",{children:["ACME Industries Ltd.",N.jsx("br",{}),"Providing reliable tech since 1992"]})]}),N.jsxs("nav",{children:[N.jsx("h6",{className:"footer-title",children:"Social"}),N.jsxs("div",{className:"grid grid-flow-col gap-4",children:[N.jsx("a",{children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:N.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),N.jsx("a",{children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:N.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),N.jsx("a",{children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:N.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})]})]})}var sv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iy=Fe.createContext&&Fe.createContext(sv),gR=["attr","size","title"];function yR(n,e){if(n==null)return{};var t=_R(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function _R(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function cc(){return cc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cc.apply(this,arguments)}function sy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function hc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(t),!0).forEach(function(i){vR(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vR(n,e,t){return e=wR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wR(n){var e=ER(n,"string");return typeof e=="symbol"?e:e+""}function ER(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ov(n){return n&&n.map((e,t)=>Fe.createElement(e.tag,hc({key:t},e.attr),ov(e.child)))}function TR(n){return e=>Fe.createElement(IR,cc({attr:hc({},n.attr)},e),ov(n.child))}function IR(n){var e=t=>{var{attr:i,size:o,title:l}=n,h=yR(n,gR),f=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Fe.createElement("svg",cc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:p,style:hc(hc({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Fe.createElement("title",null,l),n.children)};return iy!==void 0?Fe.createElement(iy.Consumer,null,t=>e(t)):e(sv)}function SR(n){return TR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(n)}function RR(){const[n,e]=$.useState(null),t=Pc(Do),i=il();$.useEffect(()=>{const l=xf(t,h=>{e(h||null)});return()=>l()},[t]);function o(){i(`/dashboard?${n.uid}&Tab=dashboard`)}return N.jsxs(N.Fragment,{children:[n?N.jsxs("ul",{className:"menu bg-base-200 lg:menu-horizontal rounded-box",children:[N.jsx("li",{children:N.jsxs("a",{children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Inbox",N.jsx("span",{className:"badge badge-sm",children:"99+"})]})}),N.jsx("li",{children:N.jsxs("a",{children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Updates",N.jsx("span",{className:"badge badge-sm badge-warning",children:"NEW"})]})}),N.jsx("li",{children:N.jsxs("a",{onClick:o,children:[N.jsx(SR,{}),"Dashboard",N.jsx("span",{className:"badge badge-xs badge-info"})]})})]}):N.jsx("div",{className:" card bg-primary text-primary-content w-full",children:N.jsxs("div",{className:"card-body",children:[N.jsx("h2",{className:"card-title",children:"Join Our Community Now!"}),N.jsx("p",{children:"This Page Help's You To Create Mind Blowing Protfolio's With All free For Now"}),N.jsx("div",{className:"card-actions justify-end",children:N.jsx("button",{className:"btn",children:N.jsx(mo,{to:"/auth",children:"Join Us"})})})]})}),N.jsx("div",{className:"mt-10 m-2.5 flex align-middle place-content-center text-2xl",children:N.jsx("h1",{children:"Dashboard System"})}),N.jsx("div",{className:"_In-home h-auto overflow-y-auto",children:N.jsxs("div",{className:"stats shadow",children:[N.jsxs("div",{className:"stat",children:[N.jsx("div",{className:"stat-figure text-primary",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block h-8 w-8 stroke-current",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),N.jsx("div",{className:"stat-title",children:"Total Likes"}),N.jsx("div",{className:"stat-value text-primary",children:"25.6K"}),N.jsx("div",{className:"stat-desc",children:"21% more than last month"})]}),N.jsxs("div",{className:"stat",children:[N.jsx("div",{className:"stat-figure text-secondary",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block h-8 w-8 stroke-current",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),N.jsx("div",{className:"stat-title",children:"Page Views"}),N.jsx("div",{className:"stat-value text-secondary",children:"2.6M"}),N.jsx("div",{className:"stat-desc",children:"21% more than last month"})]}),N.jsxs("div",{className:"stat",children:[N.jsx("div",{className:"stat-figure text-secondary",children:N.jsx("div",{className:"avatar online",children:N.jsx("div",{className:"w-16 rounded-full",children:N.jsx("img",{src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp",alt:"avatar"})})})}),N.jsx("div",{className:"stat-value",children:"86%"}),N.jsx("div",{className:"stat-title",children:"Tasks done"}),N.jsx("div",{className:"stat-desc text-secondary",children:"31 tasks remaining"})]})]})}),n?N.jsx(mo,{to:`/new?user=${n.uid}`,className:"_In-home-try flex place-content-start ml-2.5",children:N.jsx("button",{className:"btn btn-outline btn-accent",children:"Create New PortFolio"})}):N.jsx(mo,{to:"/auth",className:"_In-home-try flex place-content-start ml-2.5",children:N.jsx("button",{className:"btn btn-outline btn-accent",children:"Create account PortFolio"})})]})}function av(){return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"m-1 flex w-full flex-col gap-4",children:[N.jsx("div",{className:"skeleton h-32 w-1/2"}),N.jsx("div",{className:"skeleton h-4 w-full"}),N.jsx("div",{className:"skeleton h-4 w-1/2"}),N.jsx("div",{className:"skeleton h-4 w-full"})]}),N.jsxs("div",{className:"m-2 flex w-full flex-col gap-4",children:[N.jsx("div",{className:"skeleton h-32 w-full"}),N.jsx("div",{className:"skeleton h-4 w-3/6"}),N.jsx("div",{className:"skeleton h-4 w-1/2"}),N.jsx("div",{className:"skeleton h-4 w-full"})]}),N.jsxs("div",{className:"m-2 flex w-full flex-col gap-4",children:[N.jsx("div",{className:"skeleton h-32 w-full"}),N.jsx("div",{className:"skeleton h-4 w-full"}),N.jsx("div",{className:"skeleton h-4 w-full"}),N.jsx("div",{className:"skeleton h-4 w-full"})]})]})}function lv(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=lv(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function is(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=lv(n))&&(i&&(i+=" "),i+=e);return i}function CR(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}CR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var dl=n=>typeof n=="number"&&!isNaN(n),us=n=>typeof n=="string",br=n=>typeof n=="function",AR=n=>us(n)||dl(n),Gd=n=>us(n)||br(n)?n:null,kR=(n,e)=>n===!1||dl(n)&&n>0?n:e,Qd=n=>$.isValidElement(n)||us(n)||br(n)||dl(n);function PR(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function xR({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:h,preventExitTransition:f,done:p,nodeRef:y,isIn:w,playToast:T}){let S=t?`${n}--${h}`:n,L=t?`${e}--${h}`:e,V=$.useRef(0);return $.useLayoutEffect(()=>{let z=y.current,D=S.split(" "),q=H=>{H.target===y.current&&(T(),z.removeEventListener("animationend",q),z.removeEventListener("animationcancel",q),V.current===0&&H.type!=="animationcancel"&&z.classList.remove(...D))};z.classList.add(...D),z.addEventListener("animationend",q),z.addEventListener("animationcancel",q)},[]),$.useEffect(()=>{let z=y.current,D=()=>{z.removeEventListener("animationend",D),i?PR(z,p,o):p()};w||(f?D():(V.current=1,z.className+=` ${L}`,z.addEventListener("animationend",D)))},[w]),Fe.createElement(Fe.Fragment,null,l)}}function oy(n,e){return{content:uv(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function uv(n,e,t=!1){return $.isValidElement(n)&&!us(n.type)?$.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):br(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function NR({closeToast:n,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function DR({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:l,controlledProgress:h,progress:f,rtl:p,isIn:y,theme:w}){let T=o||h&&f===0,S={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};h&&(S.transform=`scaleX(${f})`);let L=is("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),V=br(l)?l({rtl:p,type:i,defaultClassName:L}):is(L,l),z={[h&&f>=1?"onTransitionEnd":"onAnimationEnd"]:h&&f<1?null:()=>{y&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${i}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:V,style:S,...z}))}var bR=1,cv=()=>`${bR++}`;function OR(n,e,t){let i=1,o=0,l=[],h=[],f=e,p=new Map,y=new Set,w=H=>(y.add(H),()=>y.delete(H)),T=()=>{h=Array.from(p.values()),y.forEach(H=>H())},S=({containerId:H,toastId:G,updateId:te})=>{let fe=H?H!==n:n!==1,pe=p.has(G)&&te==null;return fe||pe},L=(H,G)=>{p.forEach(te=>{var fe;(G==null||G===te.props.toastId)&&((fe=te.toggle)==null||fe.call(te,H))})},V=H=>{var G,te;(te=(G=H.props)==null?void 0:G.onClose)==null||te.call(G,H.removalReason),H.isActive=!1},z=H=>{if(H==null)p.forEach(V);else{let G=p.get(H);G&&V(G)}T()},D=()=>{o-=l.length,l=[]},q=H=>{var G,te;let{toastId:fe,updateId:pe}=H.props,k=pe==null;H.staleId&&p.delete(H.staleId),H.isActive=!0,p.set(fe,H),T(),t(oy(H,k?"added":"updated")),k&&((te=(G=H.props).onOpen)==null||te.call(G))};return{id:n,props:f,observe:w,toggle:L,removeToast:z,toasts:p,clearQueue:D,buildToast:(H,G)=>{if(S(G))return;let{toastId:te,updateId:fe,data:pe,staleId:k,delay:I}=G,R=fe==null;R&&o++;let P={...f,style:f.toastStyle,key:i++,...Object.fromEntries(Object.entries(G).filter(([M,A])=>A!=null)),toastId:te,updateId:fe,data:pe,isIn:!1,className:Gd(G.className||f.toastClassName),progressClassName:Gd(G.progressClassName||f.progressClassName),autoClose:G.isLoading?!1:kR(G.autoClose,f.autoClose),closeToast(M){p.get(te).removalReason=M,z(te)},deleteToast(){let M=p.get(te);if(M!=null){if(t(oy(M,"removed")),p.delete(te),o--,o<0&&(o=0),l.length>0){q(l.shift());return}T()}}};P.closeButton=f.closeButton,G.closeButton===!1||Qd(G.closeButton)?P.closeButton=G.closeButton:G.closeButton===!0&&(P.closeButton=Qd(f.closeButton)?f.closeButton:!0);let b={content:H,props:P,staleId:k};f.limit&&f.limit>0&&o>f.limit&&R?l.push(b):dl(I)?setTimeout(()=>{q(b)},I):q(b)},setProps(H){f=H},setToggle:(H,G)=>{let te=p.get(H);te&&(te.toggle=G)},isToastActive:H=>{var G;return(G=p.get(H))==null?void 0:G.isActive},getSnapshot:()=>h}}var qt=new Map,Qa=[],Yd=new Set,LR=n=>Yd.forEach(e=>e(n)),hv=()=>qt.size>0;function VR(){Qa.forEach(n=>fv(n.content,n.options)),Qa=[]}var MR=(n,{containerId:e})=>{var t;return(t=qt.get(e||1))==null?void 0:t.toasts.get(n)};function dv(n,e){var t;if(e)return!!((t=qt.get(e))!=null&&t.isToastActive(n));let i=!1;return qt.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function FR(n){if(!hv()){Qa=Qa.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||AR(n))qt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=qt.get(n.containerId);e?e.removeToast(n.id):qt.forEach(t=>{t.removeToast(n.id)})}}var UR=(n={})=>{qt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function fv(n,e){Qd(n)&&(hv()||Qa.push({content:n,options:e}),qt.forEach(t=>{t.buildToast(n,e)}))}function jR(n){var e;(e=qt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function pv(n,e){qt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function zR(n){let e=n.containerId||1;return{subscribe(t){let i=OR(e,n,LR);qt.set(e,i);let o=i.observe(t);return VR(),()=>{o(),qt.delete(e)}},setProps(t){var i;(i=qt.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=qt.get(e))==null?void 0:t.getSnapshot()}}}function BR(n){return Yd.add(n),()=>{Yd.delete(n)}}function $R(n){return n&&(us(n.toastId)||dl(n.toastId))?n.toastId:cv()}function fl(n,e){return fv(n,e),e.toastId}function xc(n,e){return{...e,type:e&&e.type||n,toastId:$R(e)}}function Nc(n){return(e,t)=>fl(e,xc(n,t))}function $e(n,e){return fl(n,xc("default",e))}$e.loading=(n,e)=>fl(n,xc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function HR(n,{pending:e,error:t,success:i},o){let l;e&&(l=us(e)?$e.loading(e,o):$e.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(y,w,T)=>{if(w==null){$e.dismiss(l);return}let S={type:y,...h,...o,data:T},L=us(w)?{render:w}:w;return l?$e.update(l,{...S,...L}):$e(L.render,{...S,...L}),T},p=br(n)?n():n;return p.then(y=>f("success",i,y)).catch(y=>f("error",t,y)),p}$e.promise=HR;$e.success=Nc("success");$e.info=Nc("info");$e.error=Nc("error");$e.warning=Nc("warning");$e.warn=$e.warning;$e.dark=(n,e)=>fl(n,xc("default",{theme:"dark",...e}));function WR(n){FR(n)}$e.dismiss=WR;$e.clearWaitingQueue=UR;$e.isActive=dv;$e.update=(n,e={})=>{let t=MR(n,e);if(t){let{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:cv()};l.toastId!==n&&(l.staleId=n);let h=l.render||o;delete l.render,fl(h,l)}};$e.done=n=>{$e.update(n,{progress:1})};$e.onChange=BR;$e.play=n=>pv(!0,n);$e.pause=n=>pv(!1,n);function qR(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=$.useRef(zR(n)).current;o(n);let l=(e=$.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function h(f){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:w}=y.props;p.has(w)||p.set(w,[]),p.get(w).push(y)}),Array.from(p,y=>f(y[0],y[1]))}return{getToastToRender:h,isToastActive:dv,count:l==null?void 0:l.length}}function KR(n){let[e,t]=$.useState(!1),[i,o]=$.useState(!1),l=$.useRef(null),h=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:p,closeToast:y,onClick:w,closeOnClick:T}=n;jR({id:n.toastId,containerId:n.containerId,fn:t}),$.useEffect(()=>{if(n.pauseOnFocusLoss)return S(),()=>{L()}},[n.pauseOnFocusLoss]);function S(){document.hasFocus()||q(),window.addEventListener("focus",D),window.addEventListener("blur",q)}function L(){window.removeEventListener("focus",D),window.removeEventListener("blur",q)}function V(k){if(n.draggable===!0||n.draggable===k.pointerType){H();let I=l.current;h.canCloseOnClick=!0,h.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(h.start=k.clientX,h.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(h.start=k.clientY,h.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function z(k){let{top:I,bottom:R,left:P,right:b}=l.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&n.pauseOnHover&&k.clientX>=P&&k.clientX<=b&&k.clientY>=I&&k.clientY<=R?q():D()}function D(){t(!0)}function q(){t(!1)}function H(){h.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",fe)}function G(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",fe)}function te(k){let I=l.current;if(h.canDrag&&I){h.didMove=!0,e&&q(),n.draggableDirection==="x"?h.delta=k.clientX-h.start:h.delta=k.clientY-h.start,h.start!==k.clientX&&(h.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;I.style.transform=`translate3d(${R},0)`,I.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function fe(){G();let k=l.current;if(h.canDrag&&h.didMove&&k){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let pe={onPointerDown:V,onPointerUp:z};return f&&p&&(pe.onMouseEnter=q,n.stacked||(pe.onMouseLeave=D)),T&&(pe.onClick=k=>{w&&w(k),h.canCloseOnClick&&y(!0)}),{playToast:D,pauseToast:q,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:pe}}var GR=typeof window<"u"?$.useLayoutEffect:$.useEffect,Dc=({theme:n,type:e,isLoading:t,...i})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function QR(n){return Fe.createElement(Dc,{...n},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function YR(n){return Fe.createElement(Dc,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function XR(n){return Fe.createElement(Dc,{...n},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function JR(n){return Fe.createElement(Dc,{...n},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ZR(){return Fe.createElement("div",{className:"Toastify__spinner"})}var Xd={info:YR,warning:QR,success:XR,error:JR,spinner:ZR},eC=n=>n in Xd;function tC({theme:n,type:e,isLoading:t,icon:i}){let o=null,l={theme:n,type:e};return i===!1||(br(i)?o=i({...l,isLoading:t}):$.isValidElement(i)?o=$.cloneElement(i,l):t?o=Xd.spinner():eC(e)&&(o=Xd[e](l))),o}var nC=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:l}=KR(n),{closeButton:h,children:f,autoClose:p,onClick:y,type:w,hideProgressBar:T,closeToast:S,transition:L,position:V,className:z,style:D,progressClassName:q,updateId:H,role:G,progress:te,rtl:fe,toastId:pe,deleteToast:k,isIn:I,isLoading:R,closeOnClick:P,theme:b,ariaLabel:M}=n,A=is("Toastify__toast",`Toastify__toast-theme--${b}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":fe},{"Toastify__toast--close-on-click":P}),Ze=br(z)?z({rtl:fe,position:V,type:w,defaultClassName:A}):is(A,z),dt=tC(n),ft=!!te||!p,Ve={closeToast:S,type:w,theme:b},re=null;return h===!1||(br(h)?re=h(Ve):$.isValidElement(h)?re=$.cloneElement(h,Ve):re=NR(Ve)),Fe.createElement(L,{isIn:I,done:k,position:V,preventExitTransition:t,nodeRef:i,playToast:l},Fe.createElement("div",{id:pe,tabIndex:0,onClick:y,"data-in":I,className:Ze,...o,style:D,ref:i,...I&&{role:G,"aria-label":M}},dt!=null&&Fe.createElement("div",{className:is("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},dt),uv(f,n,!e),re,!n.customProgressBar&&Fe.createElement(DR,{...H&&!ft?{key:`p-${H}`}:{},rtl:fe,theme:b,delay:p,isRunning:e,isIn:I,closeToast:S,hide:T,type:w,className:q,controlledProgress:ft,progress:te||0})))},rC=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),iC=xR(rC("bounce",!0)),sC={position:"top-right",transition:iC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function mv(n){let e={...sC,...n},t=n.stacked,[i,o]=$.useState(!0),l=$.useRef(null),{getToastToRender:h,isToastActive:f,count:p}=qR(e),{className:y,style:w,rtl:T,containerId:S,hotKeys:L}=e;function V(D){let q=is("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":T});return br(y)?y({position:D,rtl:T,defaultClassName:q}):is(q,Gd(y))}function z(){t&&(o(!0),$e.play())}return GR(()=>{var D;if(t){let q=l.current.querySelectorAll('[data-in="true"]'),H=12,G=(D=e.position)==null?void 0:D.includes("top"),te=0,fe=0;Array.from(q).reverse().forEach((pe,k)=>{let I=pe;I.classList.add("Toastify__toast--stacked"),k>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=G?"top":"bot");let R=te*(i?.2:1)+(i?0:H*k);I.style.setProperty("--y",`${G?R:R*-1}px`),I.style.setProperty("--g",`${H}`),I.style.setProperty("--s",`${1-(i?fe:0)}`),te+=I.offsetHeight,fe+=.025})}},[i,p,t]),$.useEffect(()=>{function D(q){var H;let G=l.current;L(q)&&((H=G.querySelector('[tabIndex="0"]'))==null||H.focus(),o(!1),$e.pause()),q.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),$e.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[L]),Fe.createElement("section",{ref:l,className:"Toastify",id:S,onMouseEnter:()=>{t&&(o(!1),$e.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((D,q)=>{let H=q.length?{...w}:{...w,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:V(D),"data-stacked":t,style:H,key:`c-${D}`},q.map(({content:G,props:te})=>Fe.createElement(nC,{...te,stacked:t,collapseAll:z,isIn:f(te.toastId,te.containerId),key:`t-${te.key}`},G)))}))}function oC(){const[n,e]=$.useState(!1),[t,i]=$.useState(""),[o,l]=$.useState(""),[h,f]=$.useState(null),[p,y]=$.useState(!1),w=Pc(Do),T=il();$.useEffect(()=>{const D=xf(w,q=>{q?(f(q),T(`/dashboard?id=${q.uid}&Tab=Dashboard`)):f(null)});return()=>D()},[w]);const S=()=>{n||(e(!0),L())};async function L(){try{const D=await QI(w,t,o);f(D.user),$e.success(`Account Created: ${D.user.email}`),T("/dashboard")}catch(D){$e.error(D.message)}e(!1)}async function V(){await YI(w,t,o),T("/dashboard")}function z(){y(!p)}return N.jsxs(N.Fragment,{children:[p?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-1/2 flex flex-col justify-center place-content-center",children:N.jsxs("div",{className:"_Inue-SignCom",children:[N.jsx("h1",{className:"text-8xl",children:"LogIn"}),N.jsx("input",{type:"email",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>i(D.target.value)}),N.jsx("input",{type:"password",placeholder:"Password",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>l(D.target.value)}),N.jsx("button",{className:"btn btn-accent w-full",onClick:V,children:n?N.jsx("span",{className:"loading loading-spinner",children:"LogIn..."}):N.jsx("h2",{children:"LogIn"})})]})}),N.jsx("div",{className:"",children:N.jsx("button",{className:"btn btn-accent w-full",onClick:z,children:"Create Acccunt"})})]}):N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"h-1/2 flex flex-col justify-center place-content-center",children:N.jsxs("div",{className:"_Inue-SignCom",children:[N.jsx("h1",{className:"text-8xl",children:"Create Account"}),N.jsx("input",{type:"text",placeholder:"UserName",className:"input input-bordered w-full max-w-xs"}),N.jsx("input",{type:"email",placeholder:"Email",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>i(D.target.value)}),N.jsx("input",{type:"password",placeholder:"Password",className:"input input-bordered w-full max-w-xs",required:!0,onChange:D=>l(D.target.value)}),N.jsx("button",{className:"btn btn-accent w-full",onClick:S,children:n?N.jsx("span",{className:"loading loading-spinner",children:"Creating"}):N.jsx("h2",{children:"Create"})})]})}),N.jsx("div",{children:N.jsx("button",{className:"btn btn-accent w-full",onClick:z,children:"LogIn"})})]}),N.jsx(mv,{})]})}function aC(){const[n,e]=$.useState(!0),[t,i]=$.useState(null);return $.useEffect(()=>{const o=setTimeout(()=>{e(!1)},2e3);return()=>{clearTimeout(o)}},[]),N.jsx(N.Fragment,{children:n?N.jsx(av,{}):N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl",children:"Projects"}),N.jsx("div",{className:"card mt-10 w-full h-40 bg-base-200 text-center shadow-md",children:t?N.jsx("div",{children:"projects Found"}):N.jsx("div",{className:"w-full h-full flex flex-col justify-center align-middle place-content-center Center",children:N.jsx(mo,{to:"/new",children:N.jsx("button",{className:"btn m-10 btn-outline btn-primary",children:"Create New"})})})})]})})}var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,gv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(P,b,M){for(var A=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)A[Ze-2]=arguments[Ze];return I.prototype[b].apply(P,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,R){R||(R=0);var P=Array(16);if(typeof I=="string")for(var b=0;16>b;++b)P[b]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(b=0;16>b;++b)P[b]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],b=k.g[2];var M=k.g[3],A=I+(M^R&(b^M))+P[0]+3614090360&4294967295;I=R+(A<<7&4294967295|A>>>25),A=M+(b^I&(R^b))+P[1]+3905402710&4294967295,M=I+(A<<12&4294967295|A>>>20),A=b+(R^M&(I^R))+P[2]+606105819&4294967295,b=M+(A<<17&4294967295|A>>>15),A=R+(I^b&(M^I))+P[3]+3250441966&4294967295,R=b+(A<<22&4294967295|A>>>10),A=I+(M^R&(b^M))+P[4]+4118548399&4294967295,I=R+(A<<7&4294967295|A>>>25),A=M+(b^I&(R^b))+P[5]+1200080426&4294967295,M=I+(A<<12&4294967295|A>>>20),A=b+(R^M&(I^R))+P[6]+2821735955&4294967295,b=M+(A<<17&4294967295|A>>>15),A=R+(I^b&(M^I))+P[7]+4249261313&4294967295,R=b+(A<<22&4294967295|A>>>10),A=I+(M^R&(b^M))+P[8]+1770035416&4294967295,I=R+(A<<7&4294967295|A>>>25),A=M+(b^I&(R^b))+P[9]+2336552879&4294967295,M=I+(A<<12&4294967295|A>>>20),A=b+(R^M&(I^R))+P[10]+4294925233&4294967295,b=M+(A<<17&4294967295|A>>>15),A=R+(I^b&(M^I))+P[11]+2304563134&4294967295,R=b+(A<<22&4294967295|A>>>10),A=I+(M^R&(b^M))+P[12]+1804603682&4294967295,I=R+(A<<7&4294967295|A>>>25),A=M+(b^I&(R^b))+P[13]+4254626195&4294967295,M=I+(A<<12&4294967295|A>>>20),A=b+(R^M&(I^R))+P[14]+2792965006&4294967295,b=M+(A<<17&4294967295|A>>>15),A=R+(I^b&(M^I))+P[15]+1236535329&4294967295,R=b+(A<<22&4294967295|A>>>10),A=I+(b^M&(R^b))+P[1]+4129170786&4294967295,I=R+(A<<5&4294967295|A>>>27),A=M+(R^b&(I^R))+P[6]+3225465664&4294967295,M=I+(A<<9&4294967295|A>>>23),A=b+(I^R&(M^I))+P[11]+643717713&4294967295,b=M+(A<<14&4294967295|A>>>18),A=R+(M^I&(b^M))+P[0]+3921069994&4294967295,R=b+(A<<20&4294967295|A>>>12),A=I+(b^M&(R^b))+P[5]+3593408605&4294967295,I=R+(A<<5&4294967295|A>>>27),A=M+(R^b&(I^R))+P[10]+38016083&4294967295,M=I+(A<<9&4294967295|A>>>23),A=b+(I^R&(M^I))+P[15]+3634488961&4294967295,b=M+(A<<14&4294967295|A>>>18),A=R+(M^I&(b^M))+P[4]+3889429448&4294967295,R=b+(A<<20&4294967295|A>>>12),A=I+(b^M&(R^b))+P[9]+568446438&4294967295,I=R+(A<<5&4294967295|A>>>27),A=M+(R^b&(I^R))+P[14]+3275163606&4294967295,M=I+(A<<9&4294967295|A>>>23),A=b+(I^R&(M^I))+P[3]+4107603335&4294967295,b=M+(A<<14&4294967295|A>>>18),A=R+(M^I&(b^M))+P[8]+1163531501&4294967295,R=b+(A<<20&4294967295|A>>>12),A=I+(b^M&(R^b))+P[13]+2850285829&4294967295,I=R+(A<<5&4294967295|A>>>27),A=M+(R^b&(I^R))+P[2]+4243563512&4294967295,M=I+(A<<9&4294967295|A>>>23),A=b+(I^R&(M^I))+P[7]+1735328473&4294967295,b=M+(A<<14&4294967295|A>>>18),A=R+(M^I&(b^M))+P[12]+2368359562&4294967295,R=b+(A<<20&4294967295|A>>>12),A=I+(R^b^M)+P[5]+4294588738&4294967295,I=R+(A<<4&4294967295|A>>>28),A=M+(I^R^b)+P[8]+2272392833&4294967295,M=I+(A<<11&4294967295|A>>>21),A=b+(M^I^R)+P[11]+1839030562&4294967295,b=M+(A<<16&4294967295|A>>>16),A=R+(b^M^I)+P[14]+4259657740&4294967295,R=b+(A<<23&4294967295|A>>>9),A=I+(R^b^M)+P[1]+2763975236&4294967295,I=R+(A<<4&4294967295|A>>>28),A=M+(I^R^b)+P[4]+1272893353&4294967295,M=I+(A<<11&4294967295|A>>>21),A=b+(M^I^R)+P[7]+4139469664&4294967295,b=M+(A<<16&4294967295|A>>>16),A=R+(b^M^I)+P[10]+3200236656&4294967295,R=b+(A<<23&4294967295|A>>>9),A=I+(R^b^M)+P[13]+681279174&4294967295,I=R+(A<<4&4294967295|A>>>28),A=M+(I^R^b)+P[0]+3936430074&4294967295,M=I+(A<<11&4294967295|A>>>21),A=b+(M^I^R)+P[3]+3572445317&4294967295,b=M+(A<<16&4294967295|A>>>16),A=R+(b^M^I)+P[6]+76029189&4294967295,R=b+(A<<23&4294967295|A>>>9),A=I+(R^b^M)+P[9]+3654602809&4294967295,I=R+(A<<4&4294967295|A>>>28),A=M+(I^R^b)+P[12]+3873151461&4294967295,M=I+(A<<11&4294967295|A>>>21),A=b+(M^I^R)+P[15]+530742520&4294967295,b=M+(A<<16&4294967295|A>>>16),A=R+(b^M^I)+P[2]+3299628645&4294967295,R=b+(A<<23&4294967295|A>>>9),A=I+(b^(R|~M))+P[0]+4096336452&4294967295,I=R+(A<<6&4294967295|A>>>26),A=M+(R^(I|~b))+P[7]+1126891415&4294967295,M=I+(A<<10&4294967295|A>>>22),A=b+(I^(M|~R))+P[14]+2878612391&4294967295,b=M+(A<<15&4294967295|A>>>17),A=R+(M^(b|~I))+P[5]+4237533241&4294967295,R=b+(A<<21&4294967295|A>>>11),A=I+(b^(R|~M))+P[12]+1700485571&4294967295,I=R+(A<<6&4294967295|A>>>26),A=M+(R^(I|~b))+P[3]+2399980690&4294967295,M=I+(A<<10&4294967295|A>>>22),A=b+(I^(M|~R))+P[10]+4293915773&4294967295,b=M+(A<<15&4294967295|A>>>17),A=R+(M^(b|~I))+P[1]+2240044497&4294967295,R=b+(A<<21&4294967295|A>>>11),A=I+(b^(R|~M))+P[8]+1873313359&4294967295,I=R+(A<<6&4294967295|A>>>26),A=M+(R^(I|~b))+P[15]+4264355552&4294967295,M=I+(A<<10&4294967295|A>>>22),A=b+(I^(M|~R))+P[6]+2734768916&4294967295,b=M+(A<<15&4294967295|A>>>17),A=R+(M^(b|~I))+P[13]+1309151649&4294967295,R=b+(A<<21&4294967295|A>>>11),A=I+(b^(R|~M))+P[4]+4149444226&4294967295,I=R+(A<<6&4294967295|A>>>26),A=M+(R^(I|~b))+P[11]+3174756917&4294967295,M=I+(A<<10&4294967295|A>>>22),A=b+(I^(M|~R))+P[2]+718787259&4294967295,b=M+(A<<15&4294967295|A>>>17),A=R+(M^(b|~I))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+b&4294967295,k.g[3]=k.g[3]+M&4294967295}i.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,P=this.B,b=this.h,M=0;M<I;){if(b==0)for(;M<=R;)o(this,k,M),M+=this.blockSize;if(typeof k=="string"){for(;M<I;)if(P[b++]=k.charCodeAt(M++),b==this.blockSize){o(this,P),b=0;break}}else for(;M<I;)if(P[b++]=k[M++],b==this.blockSize){o(this,P),b=0;break}}this.h=b,this.o+=I},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var P=0;32>P;P+=8)k[R++]=this.g[I]>>>P&255;return k};function l(k,I){var R=f;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function h(k,I){this.h=I;for(var R=[],P=!0,b=k.length-1;0<=b;b--){var M=k[b]|0;P&&M==I||(R[b]=M,P=!1)}this.g=R}var f={};function p(k){return-128<=k&&128>k?l(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return D(y(-k));for(var I=[],R=1,P=0;k>=R;P++)I[P]=k/R|0,R*=4294967296;return new h(I,0)}function w(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return D(w(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),P=T,b=0;b<k.length;b+=8){var M=Math.min(8,k.length-b),A=parseInt(k.substring(b,b+M),I);8>M?(M=y(Math.pow(I,M)),P=P.j(M).add(y(A))):(P=P.j(R),P=P.add(y(A)))}return P}var T=p(0),S=p(1),L=p(16777216);n=h.prototype,n.m=function(){if(z(this))return-D(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var P=this.i(R);k+=(0<=P?P:4294967296+P)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V(this))return"0";if(z(this))return"-"+D(this).toString(k);for(var I=y(Math.pow(k,6)),R=this,P="";;){var b=te(R,I).g;R=q(R,b.j(I));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=b,V(R))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function V(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function z(k){return k.h==-1}n.l=function(k){return k=q(this,k),z(k)?-1:V(k)?0:1};function D(k){for(var I=k.g.length,R=[],P=0;P<I;P++)R[P]=~k.g[P];return new h(R,~k.h).add(S)}n.abs=function(){return z(this)?D(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],P=0,b=0;b<=I;b++){var M=P+(this.i(b)&65535)+(k.i(b)&65535),A=(M>>>16)+(this.i(b)>>>16)+(k.i(b)>>>16);P=A>>>16,M&=65535,A&=65535,R[b]=A<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function q(k,I){return k.add(D(I))}n.j=function(k){if(V(this)||V(k))return T;if(z(this))return z(k)?D(this).j(D(k)):D(D(this).j(k));if(z(k))return D(this.j(D(k)));if(0>this.l(L)&&0>k.l(L))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],P=0;P<2*I;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var b=0;b<k.g.length;b++){var M=this.i(P)>>>16,A=this.i(P)&65535,Ze=k.i(b)>>>16,dt=k.i(b)&65535;R[2*P+2*b]+=A*dt,H(R,2*P+2*b),R[2*P+2*b+1]+=M*dt,H(R,2*P+2*b+1),R[2*P+2*b+1]+=A*Ze,H(R,2*P+2*b+1),R[2*P+2*b+2]+=M*Ze,H(R,2*P+2*b+2)}for(P=0;P<I;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=I;P<2*I;P++)R[P]=0;return new h(R,0)};function H(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function G(k,I){this.g=k,this.h=I}function te(k,I){if(V(I))throw Error("division by zero");if(V(k))return new G(T,T);if(z(k))return I=te(D(k),I),new G(D(I.g),D(I.h));if(z(I))return I=te(k,D(I)),new G(D(I.g),I.h);if(30<k.g.length){if(z(k)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var R=S,P=I;0>=P.l(k);)R=fe(R),P=fe(P);var b=pe(R,1),M=pe(P,1);for(P=pe(P,2),R=pe(R,2);!V(P);){var A=M.add(P);0>=A.l(k)&&(b=b.add(R),M=A),P=pe(P,1),R=pe(R,1)}return I=q(k,b.j(I)),new G(b,I)}for(b=T;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=y(R),A=M.j(I);z(A)||0<A.l(k);)R-=P,M=y(R),A=M.j(I);V(M)&&(M=S),b=b.add(M),k=q(k,A)}return new G(b,k)}n.A=function(k){return te(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)&k.i(P);return new h(R,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)|k.i(P);return new h(R,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)^k.i(P);return new h(R,this.h^k.h)};function fe(k){for(var I=k.g.length+1,R=[],P=0;P<I;P++)R[P]=k.i(P)<<1|k.i(P-1)>>>31;return new h(R,k.h)}function pe(k,I){var R=I>>5;I%=32;for(var P=k.g.length-R,b=[],M=0;M<P;M++)b[M]=0<I?k.i(M+R)>>>I|k.i(M+R+1)<<32-I:k.i(M+R);return new h(b,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,ss=h}).apply(typeof ay<"u"?ay:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yv,Ma,_v,Qu,Jd,vv,wv,Ev;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in _))break e;_=_[U]}u=u[u.length-1],E=_[u],m=m(E),m!=E&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,E=!1,U={next:function(){if(!E&&_<u.length){var K=_++;return{value:m(K,u[K]),done:!1}}return E=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,E),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function L(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function V(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,U,K){for(var ie=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ie[Be-2]=arguments[Be];return m.prototype[U].apply(E,ie)}}function z(u){const m=u.length;if(0<m){const _=Array(m);for(let E=0;E<m;E++)_[E]=u[E];return _}return[]}function D(u,m){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(p(E)){const U=u.length||0,K=E.length||0;u.length=U+K;for(let ie=0;ie<K;ie++)u[U+ie]=E[ie]}else u.push(E)}}class q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var fe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function pe(u,m,_){for(const E in u)m.call(_,u[E],E,u)}function k(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let _,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(_ in E)u[_]=E[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function b(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function M(u){f.setTimeout(()=>{throw u},0)}function A(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ze{constructor(){this.h=this.g=null}add(m,_){const E=dt.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var dt=new q(()=>new ft,u=>u.reset());class ft{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,re=!1,ye=new Ze,oe=()=>{const u=f.Promise.resolve(void 0);Ve=()=>{u.then(F)}};var F=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){M(_)}var m=dt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function Ce(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(fe){e:{try{te(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}V(Ce,me);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function We(u,m,_,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=U,this.key=++je,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ar(u){this.src=u,this.g={},this.h=0}ar.prototype.add=function(u,m,_,E,U){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ie=Mr(u,m,E,U);return-1<ie?(m=u[ie],_||(m.fa=!1)):(m=new We(m,this.src,K,!!E,U),m.fa=_,u.push(m)),m};function ys(u,m){var _=m.type;if(_ in u.g){var E=u.g[_],U=Array.prototype.indexOf.call(E,m,void 0),K;(K=0<=U)&&Array.prototype.splice.call(E,U,1),K&&(Et(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Mr(u,m,_,E){for(var U=0;U<u.length;++U){var K=u[U];if(!K.da&&K.listener==m&&K.capture==!!_&&K.ha==E)return U}return-1}var Ai="closure_lm_"+(1e6*Math.random()|0),_s={};function Fo(u,m,_,E,U){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Fo(u,m[K],_,E,U);return null}return _=zo(_),u&&u[Ue]?u.K(m,_,y(E)?!!E.capture:!!E,U):Uo(u,m,_,!1,E,U)}function Uo(u,m,_,E,U,K){if(!m)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,Be=ws(u);if(Be||(u[Ai]=Be=new ar(u)),_=Be.add(m,_,E,ie,K),_.proxy)return _;if(E=vl(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)Re||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(ur(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vl(){function u(_){return m.call(u.src,u.listener,_)}const m=jo;return u}function vs(u,m,_,E,U){if(Array.isArray(m))for(var K=0;K<m.length;K++)vs(u,m[K],_,E,U);else E=y(E)?!!E.capture:!!E,_=zo(_),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],_=Mr(K,_,E,U),-1<_&&(Et(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Mr(m,_,E,U)),(_=-1<u?m[u]:null)&&lr(_))}function lr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])ys(m.i,u);else{var _=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(_,E,u.capture):m.detachEvent?m.detachEvent(ur(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=ws(m))?(ys(_,u),_.h==0&&(_.src=null,m[Ai]=null)):Et(u)}}}function ur(u){return u in _s?_s[u]:_s[u]="on"+u}function jo(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var _=u.listener,E=u.ha||u.src;u.fa&&lr(u),u=_.call(E,m)}return u}function ws(u){return u=u[Ai],u instanceof ar?u:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function zo(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(m){return u.handleEvent(m)}),u[Es])}function pt(){Y.call(this),this.i=new ar(this),this.M=this,this.F=null}V(pt,Y),pt.prototype[Ue]=!0,pt.prototype.removeEventListener=function(u,m,_,E){vs(this,u,m,_,E)};function mt(u,m){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var U=m;m=new me(E,u),P(m,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var ie=m.g=_[K];U=cr(ie,E,!0,m)&&U}if(ie=m.g=u,U=cr(ie,E,!0,m)&&U,U=cr(ie,E,!1,m)&&U,_)for(K=0;K<_.length;K++)ie=m.g=_[K],U=cr(ie,E,!1,m)&&U}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],E=0;E<_.length;E++)Et(_[E]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,_,E){return this.i.add(String(u),m,!1,_,E)},pt.prototype.L=function(u,m,_,E){return this.i.add(String(u),m,!0,_,E)};function cr(u,m,_,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,K=0;K<m.length;++K){var ie=m[K];if(ie&&!ie.da&&ie.capture==_){var Be=ie.listener,gt=ie.ha||ie.src;ie.fa&&ys(u.i,ie),U=Be.call(gt,E)!==!1&&U}}return U&&!E.defaultPrevented}function Bo(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Fr(u){u.g=Bo(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ki extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(u){Y.call(this),this.h=u,this.g={}}V(Pi,Y);var $o=[];function Ho(u){pe(u.g,function(m,_){this.g.hasOwnProperty(_)&&lr(m)},u),u.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),Ho(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wo=f.JSON.stringify,qo=f.JSON.parse,Ko=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function xi(){}xi.prototype.h=null;function Ts(u){return u.h||(u.h=u.i())}function Is(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){me.call(this,"d")}V(zn,me);function Ss(){me.call(this,"c")}V(Ss,me);var Bn={},Go=null;function Ni(){return Go=Go||new pt}Bn.La="serverreachability";function Qo(u){me.call(this,Bn.La,u)}V(Qo,me);function hr(u){const m=Ni();mt(m,new Qo(m))}Bn.STAT_EVENT="statevent";function Yo(u,m){me.call(this,Bn.STAT_EVENT,u),this.stat=m}V(Yo,me);function st(u){const m=Ni();mt(m,new Yo(m,u))}Bn.Ma="timingevent";function Rs(u,m){me.call(this,Bn.Ma,u),this.size=m}V(Rs,me);function In(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Di(){this.g=!0}Di.prototype.xa=function(){this.g=!1};function bi(u,m,_,E,U,K){u.info(function(){if(u.g)if(K)for(var ie="",Be=K.split("&"),gt=0;gt<Be.length;gt++){var be=Be[gt].split("=");if(1<be.length){var Tt=be[0];be=be[1];var lt=Tt.split("_");ie=2<=lt.length&&lt[1]=="type"?ie+(Tt+"="+be+"&"):ie+(Tt+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+_+`
`+ie})}function Cs(u,m,_,E,U,K,ie){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+_+`
`+K+" "+ie})}function Sn(u,m,_,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kc(u,_)+(E?" "+E:"")})}function Xo(u,m){u.info(function(){return"TIMEOUT: "+m})}Di.prototype.info=function(){};function Kc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var U=E[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Wo(_)}catch{return m}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function Oi(){}V(Oi,xi),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Rn=new Oi;function Cn(u,m,_,E){this.j=u,this.i=m,this.l=_,this.R=E||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new El}function El(){this.i=null,this.g="",this.h=!1}var Jo={},ks={};function Ps(u,m,_){u.L=1,u.v=$r(sn(m)),u.m=_,u.P=!0,Zo(u,null)}function Zo(u,m){u.F=Date.now(),qe(u),u.A=sn(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Wr(_.i,"t",E),u.C=0,_=u.j.J,u.h=new El,u.g=Ul(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ki(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,E=u.ca;var U="readystatechange";Array.isArray(U)||(U&&($o[0]=U.toString()),U=$o);for(var K=0;K<U.length;K++){var ie=Fo(_,U[K],E||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),hr(),bi(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Qt(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Qt(this.g);var m=this.g.Ba();const pn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||sa(this.g)))){this.J||lt!=4||m==7||(m==8||0>=pn?hr(3):hr(2)),Li(this);var _=this.g.Z();this.X=_;t:if(Tl(this)){var E=sa(this.g);u="";var U=E.length,K=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Ur(this);var ie="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(K&&m==U-1)});E.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Cs(this.i,this.u,this.A,this.l,this.R,lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,gt=this.g;if((Be=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Be)){var be=Be;break t}}be=null}if(_=be)Sn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,_);else{this.o=!1,this.s=3,st(12),dn(this),Ur(this);break e}}if(this.P){_=!0;let an;for(;!this.J&&this.C<ie.length;)if(an=Gc(this,ie),an==ks){lt==4&&(this.s=4,st(14),_=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Jo){this.s=4,st(15),Sn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Sn(this.i,this.l,an,null),ea(this,an);if(Tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||ie.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Sn(this.i,this.l,ie,"[Invalid Chunked Response]"),dn(this),Ur(this);else if(0<ie.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),aa(Tt),Tt.M=!0,st(11))}}else Sn(this.i,this.l,ie,null),ea(this,ie);lt==4&&dn(this),this.o&&!this.J&&(lt==4?js(this.j,this):(this.o=!1,qe(this)))}else Ls(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),dn(this),Ur(this)}}}catch{}finally{}};function Tl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gc(u,m){var _=u.C,E=m.indexOf(`
`,_);return E==-1?ks:(_=Number(m.substring(_,E)),isNaN(_)?Jo:(E+=1,E+_>m.length?ks:(m=m.slice(E,E+_),u.C=E+_,m)))}Cn.prototype.cancel=function(){this.J=!0,dn(this)};function qe(u){u.S=Date.now()+u.I,Il(u,u.I)}function Il(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=In(S(u.ba,u),m)}function Li(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xo(this.i,this.A),this.L!=2&&(hr(),st(17)),dn(this),this.s=2,Ur(this)):Il(this,this.S-u)};function Ur(u){u.j.G==0||u.J||js(u.j,u)}function dn(u){Li(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ho(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ea(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Bt(_.h,u))){if(!u.K&&Bt(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Us(_),Nn(_);else break e;Fs(_),st(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=In(S(_.Za,_),6e3));if(1>=Rl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else gr(_,11)}else if((u.K||_.g==u)&&Us(_),!H(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let be=U[m];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const Tt=be[3];Tt!=null&&(_.la=Tt,_.j.info("VER="+_.la));const lt=be[4];lt!=null&&(_.Aa=lt,_.j.info("SVER="+_.Aa));const pn=be[5];pn!=null&&typeof pn=="number"&&0<pn&&(E=1.5*pn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const an=u.g;if(an){const Bi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var K=E.h;K.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ta(K,K.h),K.h=null))}if(E.D){const Bs=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(E.ya=Bs,He(E.I,E.D,Bs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ie=u;if(E.qa=Fl(E,E.J?E.ia:null,E.W),ie.K){Cl(E.h,ie);var Be=ie,gt=E.L;gt&&(Be.I=gt),Be.B&&(Li(Be),qe(Be)),E.g=ie}else zi(E);0<_.i.length&&qn(_)}else be[0]!="stop"&&be[0]!="close"||gr(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?gr(_,7):kt(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}hr(4)}catch{}}var Sl=class{constructor(u,m){this.g=u,this.map=m}};function Vi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rl(u){return u.h?1:u.g?u.g.size:0}function Bt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ta(u,m){u.g?u.g.add(m):u.h=m}function Cl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vi.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Al(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return z(u.i)}function xs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,E=0;E<_;E++)m.push(u[E]);return m}m=[],_=0;for(E in u)m[_++]=u[E];return m}function Ns(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const E in u)m[_++]=E;return m}}}function jr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ns(u),E=xs(u),U=E.length,K=0;K<U;K++)m.call(void 0,E[K],_&&_[K],u)}var Mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),U=null;if(0<=E){var K=u[_].substring(0,E);U=u[_].substring(E+1)}else K=u[_];m(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function dr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof dr){this.h=u.h,Fi(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var m=u.i,_=new $n;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Br(this,_),this.m=u.m}else u&&(m=String(u).match(Mi))?(this.h=!1,Fi(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),zr(this,m[4]),this.l=xe(m[5]||"",!0),Br(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}dr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Hr(m,Ds,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Ds,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Hr(_,_.charAt(0)=="/"?xl:Pl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Hr(_,na)),u.join("")};function sn(u){return new dr(u)}function Fi(u,m,_){u.j=_?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Br(u,m,_){m instanceof $n?(u.i=m,Hn(u.i,u.h)):(_||(m=Hr(m,Nl)),u.i=new $n(m,u.h))}function He(u,m,_){u.i.set(m,_)}function $r(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,kl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ds=/[#\/\?@]/g,Pl=/[#\?:]/g,xl=/[#\?]/g,Nl=/[#\?@]/g,na=/#/g;function $n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&Qc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=$n.prototype,n.add=function(u,m){At(this),this.i=null,u=fn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function An(u,m){At(u),m=fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kn(u,m){return At(u),m=fn(u,m),u.g.has(m)}n.forEach=function(u,m){At(this),this.g.forEach(function(_,E){_.forEach(function(U){u.call(m,U,E,this)},this)},this)},n.na=function(){At(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let E=0;E<m.length;E++){const U=u[E];for(let K=0;K<U.length;K++)_.push(m[E])}return _},n.V=function(u){At(this);let m=[];if(typeof u=="string")kn(this,u)&&(m=m.concat(this.g.get(fn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return At(this),this.i=null,u=fn(this,u),kn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Wr(u,m,_){An(u,m),0<_.length&&(u.i=null,u.g.set(fn(u,m),z(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var E=m[_];const K=encodeURIComponent(String(E)),ie=this.V(E);for(E=0;E<ie.length;E++){var U=K;ie[E]!==""&&(U+="="+encodeURIComponent(String(ie[E]))),u.push(U)}}return this.i=u.join("&")};function fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hn(u,m){m&&!u.j&&(At(u),u.i=null,u.g.forEach(function(_,E){var U=E.toLowerCase();E!=U&&(An(this,E),Wr(this,U,_))},u)),u.j=m}function Yc(u,m){const _=new Di;if(f.Image){const E=new Image;E.onload=L(Gt,_,"TestLoadImage: loaded",!0,m,E),E.onerror=L(Gt,_,"TestLoadImage: error",!1,m,E),E.onabort=L(Gt,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=L(Gt,_,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Dl(u,m){const _=new Di,E=new AbortController,U=setTimeout(()=>{E.abort(),Gt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(K=>{clearTimeout(U),K.ok?Gt(_,"TestPingServer: ok",!0,m):Gt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Gt(_,"TestPingServer: error",!1,m)})}function Gt(u,m,_,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(_)}catch{}}function Xc(){this.g=new Ko}function bl(u,m,_){const E=_||"";try{jr(u,function(U,K){let ie=U;y(U)&&(ie=Wo(U)),m.push(E+K+"="+encodeURIComponent(ie))})}catch(U){throw m.push(E+"type="+encodeURIComponent("_badmap")),U}}function fr(u){this.l=u.Ub||null,this.j=u.eb||!1}V(fr,xi),fr.prototype.g=function(){return new Ui(this.l,this.j)},fr.prototype.i=function(u){return function(){return u}}({});function Ui(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ui,pt),n=Ui.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,xn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Pn(this):xn(this),this.readyState==3&&Ol(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Pn(this))},n.Qa=function(u){this.g&&(this.response=u,Pn(this))},n.ga=function(){this.g&&Pn(this)};function Pn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pr(u){let m="";return pe(u,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function qr(u,m,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=pr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):He(u,m,_))}function Xe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Xe,pt);var Jc=/^https?$/i,ra=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?Ts(this.o):Ts(Rn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){ji(this,K);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)_.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const K of E.keys())_.set(K,E.get(K));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ra,m,void 0))||E||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of _)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){ji(this,K)}};function ji(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,bs(u),on(u)}function bs(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),on(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),on(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},n.bb=function(){ia(this)};function ia(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Qt(u)!=4||u.Z()!=2)){if(u.u&&Qt(u)==4)Bo(u.Ea,0,u);else if(mt(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var E;if(E=ie===0){var U=String(u.D).match(Mi)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),E=!Jc.test(U?U.toLowerCase():"")}_=E}if(_)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var K=2<Qt(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",bs(u)}}finally{on(u)}}}}function on(u,m){if(u.g){Os(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{_.onreadystatechange=E}catch{}}}function Os(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qo(m)}};function sa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ls(u){const m={};u=(u.g&&2<=Qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(H(u[E]))continue;var _=b(u[E]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=m[U]||[];m[U]=K,K.push(_)}k(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function oa(u){this.Aa=0,this.i=[],this.j=new Di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,u),this.cb=Wn("retryDelaySeedMs",1e4,u),this.Wa=Wn("forwardChannelMaxRetries",2,u),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(u&&u.concurrentRequestLimit),this.Da=new Xc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oa.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,E){st(0),this.W=u,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=Fl(this,null,this.W),qn(this)};function kt(u){if(Vs(u),u.G==3){var m=u.U++,_=sn(u.I);if(He(_,"SID",u.K),He(_,"RID",m),He(_,"TYPE","terminate"),mr(u,_),m=new Cn(u,u.j,m),m.L=2,m.v=$r(sn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ul(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}Ml(u)}function Nn(u){u.g&&(aa(u),u.g.cancel(),u.g=null)}function Vs(u){Nn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function qn(u){if(!rn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ve||oe(),re||(Ve(),re=!0),ye.add(m,u),u.B=0}}function Zc(u,m){return Rl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=In(S(u.Ga,u,m),Vl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Cn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=I(K),P(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Kr(this,U,m),_=sn(this.I),He(_,"RID",u),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),mr(this,_),K&&(this.O?m="headers="+encodeURIComponent(String(pr(K)))+"&"+m:this.m&&qr(_,this.m,K)),ta(this.h,U),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",m),He(_,"SID","null"),U.T=!0,Ps(U,_,null)):Ps(U,_,m),this.G=2}}else this.G==3&&(u?Ms(this,u):this.i.length==0||rn(this.h)||Ms(this))};function Ms(u,m){var _;m?_=m.l:_=u.U++;const E=sn(u.I);He(E,"SID",u.K),He(E,"RID",_),He(E,"AID",u.T),mr(u,E),u.m&&u.o&&qr(E,u.m,u.o),_=new Cn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Kr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ta(u.h,_),Ps(_,E,m)}function mr(u,m){u.H&&pe(u.H,function(_,E){He(m,E,_)}),u.l&&jr({},function(_,E){He(m,E,_)})}function Kr(u,m,_){_=Math.min(u.i.length,_);var E=u.l?S(u.l.Na,u.l,u):null;e:{var U=u.i;let K=-1;for(;;){const ie=["count="+_];K==-1?0<_?(K=U[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let Be=!0;for(let gt=0;gt<_;gt++){let be=U[gt].g;const Tt=U[gt].map;if(be-=K,0>be)K=Math.max(0,U[gt].g-100),Be=!1;else try{bl(Tt,ie,"req"+be+"_")}catch{E&&E(Tt)}}if(Be){E=ie.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,E}function zi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ve||oe(),re||(Ve(),re=!0),ye.add(m,u),u.v=0}}function Fs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=In(S(u.Fa,u),Vl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=In(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Nn(this),Ll(this))};function aa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ll(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),mr(u,m),u.m&&u.o&&qr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=$r(sn(m)),_.m=null,_.P=!0,Zo(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Nn(this),Fs(this),st(19))};function Us(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function js(u,m){var _=null;if(u.g==m){Us(u),aa(u),u.g=null;var E=2}else if(Bt(u.h,m))_=m.D,Cl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;E=Ni(),mt(E,new Rs(E,_)),qn(u)}else zi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(E==1&&Zc(u,m)||E==2&&Fs(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function Vl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function gr(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),E=u.Xa;const U=!E;E=new dr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Fi(E,"https"),$r(E),U?Yc(E.toString(),_):Dl(E.toString(),_)}else st(2);u.G=0,u.l&&u.l.sa(m),Ml(u),Vs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ml(u){if(u.G=0,u.ka=[],u.l){const m=Al(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Fl(u,m,_){var E=_ instanceof dr?sn(_):new dr(_);if(E.g!="")m&&(E.g=m+"."+E.g),zr(E,E.s);else{var U=f.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var K=new dr(null);E&&Fi(K,E),m&&(K.g=m),U&&zr(K,U),_&&(K.l=_),E=K}return _=u.D,m=u.ya,_&&m&&He(E,_,m),He(E,"VER",u.la),mr(u,E),E}function Ul(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new fr({eb:_})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function la(){}n=la.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zs(){}zs.prototype.g=function(u,m){return new $t(u,m)};function $t(u,m){pt.call(this),this.g=new oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!H(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}V($t,pt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){kt(this.g)},$t.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Wo(u),u=_);m.i.push(new Sl(m.Ya++,u)),m.G==3&&qn(m)},$t.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,$t.aa.N.call(this)};function jl(u){zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}V(jl,zn);function zl(){Ss.call(this),this.status=1}V(zl,Ss);function Kn(u){this.g=u}V(Kn,la),Kn.prototype.ua=function(){mt(this.g,"a")},Kn.prototype.ta=function(u){mt(this.g,new jl(u))},Kn.prototype.sa=function(u){mt(this.g,new zl)},Kn.prototype.ra=function(){mt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Ev=function(){return new zs},wv=function(){return Ni()},vv=Bn,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Qu=As,wl.COMPLETE="complete",_v=wl,Is.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ma=Is,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,yv=Xe}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new wf("@firebase/firestore");function uo(){return cs.logLevel}function ae(n,...e){if(cs.logLevel<=ke.DEBUG){const t=e.map(bf);cs.debug(`Firestore (${bo}): ${n}`,...t)}}function Or(n,...e){if(cs.logLevel<=ke.ERROR){const t=e.map(bf);cs.error(`Firestore (${bo}): ${n}`,...t)}}function Eo(n,...e){if(cs.logLevel<=ke.WARN){const t=e.map(bf);cs.warn(`Firestore (${bo}): ${n}`,...t)}}function bf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function ze(n,e){n||Te()}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class uC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cC{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new Tv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ut(e)}}class hC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new hC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new fC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=mC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ne(n,e){return n<e?-1:n>e?1:0}function To(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new vt(0,0))}static max(){return new Ie(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ye extends Ya{construct(e,t,i){return new Ye(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const gC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Ya{construct(e,t,i){return new Dt(e,t,i)}static isValidIdentifier(e){return gC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}function yC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new wi(o,ge.empty(),e)}function _C(n){return new wi(n.readTime,n.key,-1)}class wi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wi(Ie.min(),ge.empty(),-1)}static max(){return new wi(Ie.max(),ge.empty(),-1)}}function vC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==wC)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(w=>{h[y]=w,++f,f===l&&i(h)},w=>o(w))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function TC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bc.oe=-1;function Oc(n){return n==null}function dc(n){return n===0&&1/n==-1/0}function IC(n){return typeof n=="number"&&Number.isInteger(n)&&!dc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uy(e)),e=RC(n.get(t),e);return uy(e)}function RC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function uy(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Nt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hy(this.data.getIterator())}getIteratorFrom(e){return new hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new wt(Dt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rv("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const CC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(n){if(ze(!!n),typeof n=="string"){let e=0;const t=CC.exec(n);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ti(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Lc(n){const e=n.mapValue.fields.__previous_value__;return Of(e)?Lc(e):e}function Xa(n){const e=Ei(n.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,i,o,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Of(n)?4:PC(n)?9007199254740991:kC(n)?10:11:Te()}function ir(n,e){if(n===e)return!0;const t=Ii(n);if(t!==Ii(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xa(n).isEqual(Xa(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ei(o.timestampValue),f=Ei(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ti(o.bytesValue).isEqual(Ti(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=at(o.doubleValue),f=at(l.doubleValue);return h===f?dc(h)===dc(f):isNaN(h)&&isNaN(f)}return!1}(n,e);case 9:return To(n.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(cy(h)!==cy(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!ir(h[p],f[p])))return!1;return!0}(n,e);default:return Te()}}function Za(n,e){return(n.values||[]).find(t=>ir(t,e))!==void 0}function Io(n,e){if(n===e)return 0;const t=Ii(n),i=Ii(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(l,h){const f=at(l.integerValue||l.doubleValue),p=at(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return dy(n.timestampValue,e.timestampValue);case 4:return dy(Xa(n),Xa(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(l,h){const f=Ti(l),p=Ti(h);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const w=Ne(f[y],p[y]);if(w!==0)return w}return Ne(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Ne(at(l.latitude),at(h.latitude));return f!==0?f:Ne(at(l.longitude),at(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fy(n.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,w;const T=l.fields||{},S=h.fields||{},L=(f=T.value)===null||f===void 0?void 0:f.arrayValue,V=(p=S.value)===null||p===void 0?void 0:p.arrayValue,z=Ne(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((w=V==null?void 0:V.values)===null||w===void 0?void 0:w.length)||0);return z!==0?z:fy(L,V)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Uu.mapValue&&h===Uu.mapValue)return 0;if(l===Uu.mapValue)return 1;if(h===Uu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=Ne(p[T],w[T]);if(S!==0)return S;const L=Io(f[p[T]],y[w[T]]);if(L!==0)return L}return Ne(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Te()}}function dy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Ei(n),i=Ei(e),o=Ne(t.seconds,i.seconds);return o!==0?o:Ne(t.nanos,i.nanos)}function fy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Io(t[o],i[o]);if(l)return l}return Ne(t.length,i.length)}function So(n){return Zd(n)}function Zd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ei(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ti(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Zd(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Zd(t.fields[h])}`;return o+"}"}(n.mapValue):Te()}function Yu(n){switch(Ii(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lc(n);return e?16+Yu(e):16;case 5:return 2*n.stringValue.length;case 6:return Ti(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Yu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return fs(i.fields,(l,h)=>{o+=l.length+Yu(h)}),o}(n.mapValue);default:throw Te()}}function py(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ef(n){return!!n&&"integerValue"in n}function Lf(n){return!!n&&"arrayValue"in n}function my(n){return!!n&&"nullValue"in n}function gy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function kC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function za(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=za(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=za(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(t)}setAll(e){let t=Dt.emptyPath(),i={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=za(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){fs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new En(za(this.value))}}function Cv(n){const e=[];return fs(n.fields,(t,i)=>{const o=new Dt([t]);if(Xu(i)){const l=Cv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new jt(e,0,Ie.min(),Ie.min(),Ie.min(),En.empty(),0)}static newFoundDocument(e,t,i,o){return new jt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new jt(e,2,t,Ie.min(),Ie.min(),En.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,Ie.min(),Ie.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.position=e,this.inclusive=t}}function yy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=ge.comparator(ge.fromName(h.referenceValue),t.key):i=Io(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function _y(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ir(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function xC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class ht extends Av{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new DC(e,t,i):t==="array-contains"?new LC(e,i):t==="in"?new VC(e,i):t==="not-in"?new MC(e,i):t==="array-contains-any"?new FC(e,i):new ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bC(e,i):new OC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Io(t,this.value)):t!==null&&Ii(this.value)===Ii(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends Av{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new jn(e,t)}matches(e){return kv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kv(n){return n.op==="and"}function Pv(n){return NC(n)&&kv(n)}function NC(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function tf(n){if(n instanceof ht)return n.field.canonicalString()+n.op.toString()+So(n.value);if(Pv(n))return n.filters.map(e=>tf(e)).join(",");{const e=n.filters.map(t=>tf(t)).join(",");return`${n.op}(${e})`}}function xv(n,e){return n instanceof ht?function(i,o){return o instanceof ht&&i.op===o.op&&i.field.isEqual(o.field)&&ir(i.value,o.value)}(n,e):n instanceof jn?function(i,o){return o instanceof jn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,f)=>l&&xv(h,o.filters[f]),!0):!1}(n,e):void Te()}function Nv(n){return n instanceof ht?function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`}(n):n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(Nv).join(" ,")+"}"}(n):"Filter"}class DC extends ht{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class bC extends ht{constructor(e,t){super(e,"in",t),this.keys=Dv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OC extends ht{constructor(e,t){super(e,"not-in",t),this.keys=Dv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Dv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class LC extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lf(t)&&Za(t.arrayValue,this.value)}}class VC extends ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Za(this.value.arrayValue,t)}}class MC extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Za(this.value.arrayValue,t)}}class FC extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Za(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function vy(n,e=null,t=[],i=[],o=null,l=null,h=null){return new UC(n,e,t,i,o,l,h)}function Vf(n){const e=Se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>tf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Oc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>So(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>So(i)).join(",")),e.ue=t}return e.ue}function Mf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_y(n.startAt,e.startAt)&&_y(n.endAt,e.endAt)}function nf(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jC(n,e,t,i,o,l,h,f){return new pl(n,e,t,i,o,l,h,f)}function bv(n){return new pl(n)}function wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ov(n){return n.collectionGroup!==null}function Ba(n){const e=Se(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new wt(Dt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new pc(l,i))}),t.has(Dt.keyField().canonicalString())||e.ce.push(new pc(Dt.keyField(),i))}return e.ce}function tr(n){const e=Se(n);return e.le||(e.le=zC(e,Ba(n))),e.le}function zC(n,e){if(n.limitType==="F")return vy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new pc(o.field,l)});const t=n.endAt?new fc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fc(n.startAt.position,n.startAt.inclusive):null;return vy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function rf(n,e){const t=n.filters.concat([e]);return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sf(n,e,t){return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vc(n,e){return Mf(tr(n),tr(e))&&n.limitType===e.limitType}function Lv(n){return`${Vf(tr(n))}|lt:${n.limitType}`}function co(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Nv(o)).join(", ")}]`),Oc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>So(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>So(o)).join(",")),`Target(${i})`}(tr(n))}; limitType=${n.limitType})`}function Mc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ge.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ba(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,f,p){const y=yy(h,f,p);return h.inclusive?y<=0:y<0}(i.startAt,Ba(i),o)||i.endAt&&!function(h,f,p){const y=yy(h,f,p);return h.inclusive?y>=0:y>0}(i.endAt,Ba(i),o))}(n,e)}function BC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vv(n){return(e,t)=>{let i=!1;for(const o of Ba(n)){const l=$C(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function $C(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Io(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new rt(ge.comparator);function Lr(){return HC}const Mv=new rt(ge.comparator);function Fa(...n){let e=Mv;for(const t of n)e=e.insert(t.key,t);return e}function Fv(n){let e=Mv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function rs(){return $a()}function Uv(){return $a()}function $a(){return new ps(n=>n.toString(),(n,e)=>n.isEqual(e))}const WC=new rt(ge.comparator),qC=new wt(ge.comparator);function Pe(...n){let e=qC;for(const t of n)e=e.add(t);return e}const KC=new wt(Ne);function GC(){return KC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function jv(n){return{integerValue:""+n}}function QC(n,e){return IC(e)?jv(e):Ff(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function YC(n,e,t){return n instanceof mc?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Of(l)&&(l=Lc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof el?Bv(n,e):n instanceof tl?$v(n,e):function(o,l){const h=zv(o,l),f=Ey(h)+Ey(o.Pe);return ef(h)&&ef(o.Pe)?jv(f):Ff(o.serializer,f)}(n,e)}function XC(n,e,t){return n instanceof el?Bv(n,e):n instanceof tl?$v(n,e):t}function zv(n,e){return n instanceof gc?function(i){return ef(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class mc extends Fc{}class el extends Fc{constructor(e){super(),this.elements=e}}function Bv(n,e){const t=Hv(e);for(const i of n.elements)t.some(o=>ir(o,i))||t.push(i);return{arrayValue:{values:t}}}class tl extends Fc{constructor(e){super(),this.elements=e}}function $v(n,e){let t=Hv(e);for(const i of n.elements)t=t.filter(o=>!ir(o,i));return{arrayValue:{values:t}}}class gc extends Fc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ey(n){return at(n.integerValue||n.doubleValue)}function Hv(n){return Lf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JC(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof el&&o instanceof el||i instanceof tl&&o instanceof tl?To(i.elements,o.elements,ir):i instanceof gc&&o instanceof gc?ir(i.Pe,o.Pe):i instanceof mc&&o instanceof mc}(n.transform,e.transform)}class ZC{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Uc{}function Wv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kv(n.key,xr.none()):new ml(n.key,n.data,xr.none());{const t=n.data,i=En.empty();let o=new wt(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new ms(n.key,i,new Fn(o.toArray()),xr.none())}}function eA(n,e,t){n instanceof ml?function(o,l,h){const f=o.value.clone(),p=Iy(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ms?function(o,l,h){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Iy(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(qv(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ha(n,e,t,i){return n instanceof ml?function(l,h,f,p){if(!Ju(l.precondition,h))return f;const y=l.value.clone(),w=Sy(l.fieldTransforms,p,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof ms?function(l,h,f,p){if(!Ju(l.precondition,h))return f;const y=Sy(l.fieldTransforms,p,h),w=h.data;return w.setAll(qv(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,h,f){return Ju(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(n,e,t)}function tA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=zv(i.transform,o||null);l!=null&&(t===null&&(t=En.empty()),t.set(i.field,l))}return t||null}function Ty(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&To(i,o,(l,h)=>JC(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ml extends Uc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Uc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Iy(n,e,t){const i=new Map;ze(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,XC(h,f,t[o]))}return i}function Sy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,YC(l,h,e))}return i}class Kv extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nA extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&eA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ha(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ha(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Uv();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=Wv(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(t,i)=>Ty(t,i))&&To(this.baseMutations,e.baseMutations,(t,i)=>Ty(t,i))}}class Uf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length);let o=function(){return WC}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Uf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Oe;function oA(n){switch(n){default:return Te();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function Gv(n){if(n===void 0)return Or("GRPC error has no .code"),X.UNKNOWN;switch(n){case ct.OK:return X.OK;case ct.CANCELLED:return X.CANCELLED;case ct.UNKNOWN:return X.UNKNOWN;case ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ct.INTERNAL:return X.INTERNAL;case ct.UNAVAILABLE:return X.UNAVAILABLE;case ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ct.NOT_FOUND:return X.NOT_FOUND;case ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ct.ABORTED:return X.ABORTED;case ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ct.DATA_LOSS:return X.DATA_LOSS;default:return Te()}}(Oe=ct||(ct={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new ss([4294967295,4294967295],0);function Ry(n){const e=aA().encode(n),t=new gv;return t.update(e),new Uint8Array(t.digest())}function Cy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ss([t,i],0),new ss([o,l],0)]}class jf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ua(`Invalid padding: ${t}`);if(i<0)throw new Ua(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ss.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(ss.fromNumber(i)));return o.compare(lA)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ry(e),[i,o]=Cy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new jf(l,o,t);return i.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=Ry(e),[i,o]=Cy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new jc(Ie.min(),o,new rt(Ne),Lr(),Pe())}}class gl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gl(i,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Qv{constructor(e,t){this.targetId=e,this.me=t}}class Yv{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ay{constructor(){this.fe=0,this.ge=ky(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),t=Pe(),i=Pe();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new gl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=ky()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=ju(),this.Qe=ju(),this.Ke=new rt(Ne)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(nf(l))if(i===0){const h=new ge(l.path);this.We(t,h,jt.newNoDocument(h,Ie.min()))}else ze(i===1);else{const h=this.Ze(t);if(h!==i){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ti(i).toUint8Array()}catch(p){if(p instanceof Rv)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new jf(h,o,l)}catch(p){return Eo(p instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&nf(f.target)){const p=new ge(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,jt.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=Pe();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new jc(e,t,this.Ke,this.ke,i);return this.ke=Lr(),this.qe=ju(),this.Qe=ju(),this.Ke=new rt(Ne),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ay,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new wt(Ne),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new wt(Ne),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ay),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ju(){return new rt(ge.comparator)}function ky(){return new rt(ge.comparator)}const cA={asc:"ASCENDING",desc:"DESCENDING"},hA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dA={and:"AND",or:"OR"};class fA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function of(n,e){return n.useProto3Json||Oc(e)?e:{value:e}}function yc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pA(n,e){return yc(n,e.toTimestamp())}function nr(n){return ze(!!n),Ie.fromTimestamp(function(t){const i=Ei(t);return new vt(i.seconds,i.nanos)}(n))}function zf(n,e){return af(n,e).canonicalString()}function af(n,e){const t=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Jv(n){const e=Ye.fromString(n);return ze(r0(e)),e}function lf(n,e){return zf(n.databaseId,e.path)}function bd(n,e){const t=Jv(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(e0(t))}function Zv(n,e){return zf(n.databaseId,e)}function mA(n){const e=Jv(n);return e.length===4?Ye.emptyPath():e0(e)}function uf(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function e0(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Py(n,e,t){return{name:lf(n,e),fields:t.value.mapValue.fields}}function gA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,w){return y.useProto3Json?(ze(w===void 0||typeof w=="string"),bt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array),bt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const w=y.code===void 0?X.UNKNOWN:Gv(y.code);return new ce(w,y.message||"")}(h);t=new Yv(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=bd(n,i.document.name),l=nr(i.document.updateTime),h=i.document.createTime?nr(i.document.createTime):Ie.min(),f=new En({mapValue:{fields:i.document.fields}}),p=jt.newFoundDocument(o,l,h,f),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Zu(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=bd(n,i.document),l=i.readTime?nr(i.readTime):Ie.min(),h=jt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Zu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=bd(n,i.document),l=i.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new sA(o,l),f=i.targetId;t=new Qv(f,h)}}return t}function yA(n,e){let t;if(e instanceof ml)t={update:Py(n,e.key,e.value)};else if(e instanceof Kv)t={delete:lf(n,e.key)};else if(e instanceof ms)t={update:Py(n,e.key,e.data),updateMask:CA(e.fieldMask)};else{if(!(e instanceof nA))return Te();t={verify:lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const f=h.transform;if(f instanceof mc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof el)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:pA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function _A(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(o,l){let h=o.updateTime?nr(o.updateTime):nr(l);return h.isEqual(Ie.min())&&(h=nr(l)),new ZC(h,o.transformResults||[])}(t,e))):[]}function vA(n,e){return{documents:[Zv(n,e.path)]}}function wA(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Zv(n,o);const l=function(y){if(y.length!==0)return n0(jn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(w=>function(S){return{field:ho(S.field),direction:IA(S.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=of(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function EA(n){let e=mA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const S=t0(T);return S instanceof jn&&Pv(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(V){return new pc(fo(V.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(T){let S;return S=typeof T=="object"?T.value:T,Oc(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,L=T.values||[];return new fc(L,S)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const S=!T.before,L=T.values||[];return new fc(L,S)}(t.endAt)),jC(e,o,h,l,f,"F",p,y)}function TA(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function t0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=fo(t.unaryFilter.field);return ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(t.unaryFilter.field);return ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fo(t.unaryFilter.field);return ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(t.unaryFilter.field);return ht.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return ht.create(fo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(i=>t0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function IA(n){return cA[n]}function SA(n){return hA[n]}function RA(n){return dA[n]}function ho(n){return{fieldPath:n.canonicalString()}}function fo(n){return Dt.fromServerFormat(n.fieldPath)}function n0(n){return n instanceof ht?function(t){if(t.op==="=="){if(gy(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NAN"}};if(my(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gy(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NAN"}};if(my(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(t.field),op:SA(t.op),value:t.value}}}(n):n instanceof jn?function(t){const i=t.getFilters().map(o=>n0(o));return i.length===1?i[0]:{compositeFilter:{op:RA(t.op),filters:i}}}(n):Te()}function CA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function r0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t,i,o,l=Ie.min(),h=Ie.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.ht=e}}function kA(n){const e=EA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.ln=new xA}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(wi.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class xA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new wt(Ye.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new wt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(41943040,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ro(0)}static Qn(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny([n,e],[t,i]){const o=Ne(n,t);return o===0?Ne(e,i):o}class NA{constructor(e){this.Gn=e,this.buffer=new wt(Ny),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ny(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Oo(t)}await this.Yn(3e5)})}}class bA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(bc.oe);const i=new NA(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(xy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,h,f,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),uo()<=ke.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function OA(n,e){return new bA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.changes=new ps(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ha(i.mutation,o,Fn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pe()){const o=rs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Fa();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,i,o){let l=Lr();const h=$a(),f=function(){return $a()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof ms)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Ha(w.mutation,y,w.mutation.getFieldMask(),vt.now())):h.set(y.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var T;return f.set(y,new VA(w,(T=h.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const i=$a();let o=new rt((h,f)=>h-f),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||Fn.empty();w=f.applyToLocalView(y,w),i.set(p,w);const T=(o.get(f.batchId)||Pe()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,w=p.value,T=Uv();w.forEach(S=>{if(!l.has(S)){const L=Wv(t.get(S),i.get(S));L!==null&&T.set(S,L),l=l.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Q.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ov(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(rs());let f=-1,p=l;return h.next(y=>Q.forEach(y,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Pe())).next(w=>({batchId:f,changes:Fv(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let o=Fa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Fa();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,p=>{const y=function(T,S){return new pl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,jt.newInvalidDocument(w)))});let f=Fa();return h.forEach((p,y)=>{const w=l.get(p);w!==void 0&&Ha(w.mutation,y,Fn.empty(),vt.now()),Mc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:kA(o.bundledQuery),readTime:nr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.overlays=new rt(ge.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=rs();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=rs(),l=t.length+1,h=new ge(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new rt((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=rs(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=rs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>f.set(y,w)),!(f.size()>=o)););return Q.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new iA(t,i));let l=this.Er.get(t);l===void 0&&(l=Pe(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.dr=new wt(Ct.Ar),this.Rr=new wt(Ct.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ct(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ct(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ge(new Ye([])),i=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ge(new Ye([])),i=new Ct(t,e),o=new Ct(t,e+1);let l=Pe();return this.Rr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ct(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ge.comparator(e.key,t.key)||Ne(e.br,t.br)}static Vr(e,t){return Ne(e.br,t.br)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new wt(Ct.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new rA(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new Ct(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],h=>{const f=this.Cr(h.br);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(Ne);return t.forEach(o=>{const l=new Ct(o,0),h=new Ct(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{i=i.add(f.br)})}),Q.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ge.isDocumentKey(l)||(l=l.child(""));const h=new Ct(new ge(l),0);let f=new wt(Ne);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},h),Q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Q.forEach(t.mutations,o=>{const l=new Ct(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ct(t,0),o=this.vr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.Nr=e,this.docs=function(){return new rt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let i=Lr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():jt.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Lr();const h=t.path,f=new ge(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||vC(_C(w),i)<=0||(o.has(w.key)||Mc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Te()}Lr(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $A(this)}getSize(e){return Q.resolve(this.size)}}class $A extends LA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.persistence=e,this.Br=new ps(t=>Vf(t),Mf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Bf,this.targetCount=0,this.Qr=Ro.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ro(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new bc(0),this.Ur=!1,this.Ur=!0,this.Wr=new jA,this.referenceDelegate=e(this),this.Gr=new HA(this),this.indexManager=new PA,this.remoteDocumentCache=function(o){return new BA(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new AA(t),this.jr=new FA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new zA(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new WA(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class WA extends EC{constructor(e){super(),this.currentSequenceNumber=e}}class $f{constructor(e){this.persistence=e,this.Zr=new Bf,this.Xr=null}static ei(e){return new $f(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,i=>{const o=ge.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class _c{constructor(e,t){this.persistence=e,this.ri=new ps(i=>SC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=OA(this,t)}static ei(e,t){return new _c(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(i++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yu(e.data.value)),t}ir(e,t,i){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Pe(),o=Pe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Hf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return VT()?8:TC(zt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new qA;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(uo()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(uo()<=ke.DEBUG&&ae("QueryEngine","Query:",co(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(uo()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):Q.resolve())}Xi(e,t){if(wy(t))return Q.resolve(null);let i=tr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sf(t,null,"F"),i=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=Pe(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,h,p.readTime)?this.Xi(e,sf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return wy(t)||o.isEqual(Ie.min())?Q.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const h=this.rs(t,l);return this.ss(t,h,i,o)?Q.resolve(null):(uo()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(t)),this.os(e,h,t,yC(o,-1)).next(f=>f))})}rs(e,t){let i=new wt(Vv(e));return t.forEach((o,l)=>{Mc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return uo()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",co(t)),this.Zi.getDocumentsMatchingQuery(e,t,wi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new rt(Ne),this.cs=new ps(l=>Vf(l),Mf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function QA(n,e,t,i){return new GA(n,e,t,i)}async function s0(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],f=[];let p=Pe();for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function YA(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,w){const T=y.batch,S=T.keys();let L=Q.resolve();return S.forEach(V=>{L=L.next(()=>w.getEntry(p,V)).next(z=>{const D=y.docVersions.get(V);ze(D!==null),z.version.compareTo(D)<0&&(T.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),w.addEntry(z)))})}),L.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Pe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function o0(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function XA(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;f.push(t.Gr.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,w.addedDocuments,T)));let L=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(bt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,i)),o=o.insert(T,L),function(z,D,q){return z.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(S,L,w)&&f.push(t.Gr.updateTargetData(l,L))});let p=Lr(),y=Pe();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(JA(l,h,e.documentUpdates).next(w=>{p=w.Is,y=w.Es})),!i.isEqual(Ie.min())){const w=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(w)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function JA(n,e,t){let i=Pe(),o=Pe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=Lr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function ZA(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ek(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new fi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function cf(n,e,t){const i=Se(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Dy(n,e,t){const i=Se(n);let o=Ie.min(),l=Pe();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,w){const T=Se(p),S=T.cs.get(w);return S!==void 0?Q.resolve(T.us.get(S)):T.Gr.getTargetData(y,w)}(i,h,tr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:Pe())).next(f=>(tk(i,BC(e),f),{documents:f,ds:l})))}function tk(n,e,t){let i=n.ls.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class by{constructor(){this.activeTargetIds=GC()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nk{constructor(){this._o=new by,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new by,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function Od(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class ok extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,h){const f=Od(),p=this.No(t,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(w=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw Eo("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,l,h,f){return this.Oo(t,i,o,l,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,i){const o=ik[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Od();return new Promise((h,f)=>{const p=new yv;p.setWithCredentials(!0),p.listenOnce(_v.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qu.NO_ERROR:const w=p.getResponseJson();ae(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Qu.TIMEOUT:ae(Ft,`RPC '${e}' ${l} timed out`),f(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const T=p.getStatus();if(ae(Ft,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const L=S==null?void 0:S.error;if(L&&L.status&&L.message){const V=function(D){const q=D.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(q)>=0?q:X.UNKNOWN}(L.status);f(new ce(V,L.message))}else f(new ce(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Ft,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ae(Ft,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Od(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ev(),f=wv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");ae(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=h.createWebChannel(w,p);let S=!1,L=!1;const V=new sk({Eo:D=>{L?ae(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(S||(ae(Ft,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ae(Ft,`RPC '${e}' stream ${o} sending:`,D),T.send(D))},Ao:()=>T.close()}),z=(D,q,H)=>{D.listen(q,G=>{try{H(G)}catch(te){setTimeout(()=>{throw te},0)}})};return z(T,Ma.EventType.OPEN,()=>{L||(ae(Ft,`RPC '${e}' stream ${o} transport opened.`),V.So())}),z(T,Ma.EventType.CLOSE,()=>{L||(L=!0,ae(Ft,`RPC '${e}' stream ${o} transport closed`),V.Do())}),z(T,Ma.EventType.ERROR,D=>{L||(L=!0,Eo(Ft,`RPC '${e}' stream ${o} transport errored:`,D),V.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),z(T,Ma.EventType.MESSAGE,D=>{var q;if(!L){const H=D.data[0];ze(!!H);const G=H,te=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(te){ae(Ft,`RPC '${e}' stream ${o} received error:`,te);const fe=te.status;let pe=function(R){const P=ct[R];if(P!==void 0)return Gv(P)}(fe),k=te.message;pe===void 0&&(pe=X.INTERNAL,k="Unknown error status: "+fe+" with message "+te.message),L=!0,V.Do(new ce(pe,k)),T.close()}else ae(Ft,`RPC '${e}' stream ${o} received:`,H),V.vo(H)}}),z(f,vv.STAT_EVENT,D=>{D.stat===Jd.PROXY?ae(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===Jd.NOPROXY&&ae(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.bo()},0),V}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){return new fA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t,i,o,l,h,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new a0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ce(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ak extends l0{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=gA(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?nr(h.readTime):Ie.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=uf(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=nf(p)?{documents:vA(l,p)}:{query:wA(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Xv(l,h.resumeToken);const y=of(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=yc(l,h.snapshotVersion.toTimestamp());const y=of(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=TA(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=uf(this.serializer),t.removeTarget=e,this.c_(t)}}class lk extends l0{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=_A(e.writeResults,e.commitTime),i=nr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=uf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>yA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,af(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(X.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,af(t,i),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(X.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Or(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{gs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.k_.add(4),await yl(y),y.K_.set("Unknown"),y.k_.delete(4),await Bc(y)}(this))})}),this.K_=new ck(i,o)}}async function Bc(n){if(gs(n))for(const e of n.q_)await e(!0)}async function yl(n){for(const e of n.q_)await e(!1)}function u0(n,e){const t=Se(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Gf(t)?Kf(t):Vo(t).s_()&&qf(t,e))}function Wf(n,e){const t=Se(n),i=Vo(t);t.B_.delete(e),i.s_()&&c0(t,e),t.B_.size===0&&(i.s_()?i.a_():gs(t)&&t.K_.set("Unknown"))}function qf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vo(n).V_(e)}function c0(n,e){n.U_.xe(e),Vo(n).m_(e)}function Kf(n){n.U_=new uA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Vo(n).start(),n.K_.F_()}function Gf(n){return gs(n)&&!Vo(n).i_()&&n.B_.size>0}function gs(n){return Se(n).k_.size===0}function h0(n){n.U_=void 0}async function dk(n){n.K_.set("Online")}async function fk(n){n.B_.forEach((e,t)=>{qf(n,e)})}async function pk(n,e){h0(n),Gf(n)?(n.K_.O_(e),Kf(n)):n.K_.set("Unknown")}async function mk(n,e,t){if(n.K_.set("Online"),e instanceof Yv&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vc(n,i)}else if(e instanceof Zu?n.U_.$e(e):e instanceof Qv?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ie.min()))try{const i=await o0(n.localStore);t.compareTo(i)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.B_.get(y);w&&l.B_.set(y,w.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const w=l.B_.get(p);if(!w)return;l.B_.set(p,w.withResumeToken(bt.EMPTY_BYTE_STRING,w.snapshotVersion)),c0(l,p);const T=new fi(w.target,p,y,w.sequenceNumber);qf(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),await vc(n,i)}}async function vc(n,e,t){if(!Lo(e))throw e;n.k_.add(1),await yl(n),n.K_.set("Offline"),t||(t=()=>o0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Bc(n)})}function d0(n,e){return e().catch(t=>vc(n,t,e))}async function $c(n){const e=Se(n),t=Si(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;gk(e);)try{const o=await ZA(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,yk(e,o)}catch(o){await vc(e,o)}f0(e)&&p0(e)}function gk(n){return gs(n)&&n.L_.length<10}function yk(n,e){n.L_.push(e);const t=Si(n);t.s_()&&t.f_&&t.g_(e.mutations)}function f0(n){return gs(n)&&!Si(n).i_()&&n.L_.length>0}function p0(n){Si(n).start()}async function _k(n){Si(n).w_()}async function vk(n){const e=Si(n);for(const t of n.L_)e.g_(t.mutations)}async function wk(n,e,t){const i=n.L_.shift(),o=Uf.from(i,e,t);await d0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await $c(n)}async function Ek(n,e){e&&Si(n).f_&&await async function(i,o){if(function(h){return oA(h)&&h!==X.ABORTED}(o.code)){const l=i.L_.shift();Si(i).__(),await d0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await $c(i)}}(n,e),f0(n)&&p0(n)}async function Ly(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const i=gs(t);t.k_.add(3),await yl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Bc(t)}async function Tk(n,e){const t=Se(n);e?(t.k_.delete(2),await Bc(t)):e||(t.k_.add(2),await yl(t),t.K_.set("Unknown"))}function Vo(n){return n.W_||(n.W_=function(t,i,o){const l=Se(t);return l.b_(),new ak(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:dk.bind(null,n),mo:fk.bind(null,n),po:pk.bind(null,n),R_:mk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Gf(n)?Kf(n):n.K_.set("Unknown")):(await n.W_.stop(),h0(n))})),n.W_}function Si(n){return n.G_||(n.G_=function(t,i,o){const l=Se(t);return l.b_(),new lk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:_k.bind(null,n),po:Ek.bind(null,n),p_:vk.bind(null,n),y_:wk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await $c(n)):(await n.G_.stop(),n.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new Qf(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yf(n,e){if(Or("AsyncQueue",`${e}: ${n}`),Lo(n))return new ce(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Fa(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new vo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.z_=new rt(ge.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Co{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Co(e,t,vo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Sk{constructor(){this.queries=My(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=My(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function My(){return new ps(n=>Lv(n),Vc)}async function Rk(n,e){const t=Se(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new Ik,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Yf(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Xf(t)}async function Ck(n,e){const t=Se(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Ak(n,e){const t=Se(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(i=!0);h.H_=o}}i&&Xf(t)}function kk(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Xf(n){n.X_.forEach(e=>{e.next()})}var hf,Fy;(Fy=hf||(hf={})).na="default",Fy.Cache="cache";class Pk{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Co(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==hf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class xk{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pe(),this.mutatedKeys=Pe(),this.Va=Vv(e),this.ma=new vo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Vy,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const S=o.get(w),L=Mc(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let D=!1;S&&L?S.data.isEqual(L.data)?V!==z&&(i.track({type:3,doc:L}),D=!0):this.ya(S,L)||(i.track({type:2,doc:L}),D=!0,(p&&this.Va(L,p)>0||y&&this.Va(L,y)<0)&&(f=!0)):!S&&L?(i.track({type:0,doc:L}),D=!0):S&&!L&&(i.track({type:1,doc:S}),D=!0,(p||y)&&(f=!0)),D&&(L?(h=h.add(L),l=z?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{ma:h,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,T)=>function(L,V){const z=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return z(L)-z(V)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new Co(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Vy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Pe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new g0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new m0(i))}),t}va(e){this.da=e.ds,this.Ra=Pe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Co.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Nk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Dk{constructor(e){this.key=e,this.Fa=!1}}class bk{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new ps(f=>Lv(f),Vc),this.Oa=new Map,this.Na=new Set,this.La=new rt(ge.comparator),this.Ba=new Map,this.ka=new Bf,this.qa={},this.Qa=new Map,this.Ka=Ro.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ok(n,e,t=!0){const i=T0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await y0(i,e,t,!0),o}async function Lk(n,e){const t=T0(n);await y0(t,e,!0,!1)}async function y0(n,e,t,i){const o=await ek(n.localStore,tr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Vk(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&u0(n.remoteStore,o),f}async function Vk(n,e,t,i,o){n.Ua=(T,S,L)=>async function(z,D,q,H){let G=D.view.ga(q);G.ss&&(G=await Dy(z.localStore,D.query,!1).then(({documents:k})=>D.view.ga(k,G)));const te=H&&H.targetChanges.get(D.targetId),fe=H&&H.targetMismatches.get(D.targetId)!=null,pe=D.view.applyChanges(G,z.isPrimaryClient,te,fe);return jy(z,D.targetId,pe.ba),pe.snapshot}(n,T,S,L);const l=await Dy(n.localStore,e,!0),h=new xk(e,l.ds),f=h.ga(l.documents),p=gl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(f,n.isPrimaryClient,p);jy(n,t,y.ba);const w=new Nk(e,t,h);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function Mk(n,e,t){const i=Se(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(h=>!Vc(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await cf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Wf(i.remoteStore,o.targetId),df(i,o.targetId)}).catch(Oo)):(df(i,o.targetId),await cf(i.localStore,o.targetId,!0))}async function Fk(n,e){const t=Se(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Wf(t.remoteStore,i.targetId))}async function Uk(n,e,t){const i=qk(n);try{const o=await function(h,f){const p=Se(h),y=vt.now(),w=f.reduce((L,V)=>L.add(V.key),Pe());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let V=Lr(),z=Pe();return p.hs.getEntries(L,w).next(D=>{V=D,V.forEach((q,H)=>{H.isValidDocument()||(z=z.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,V)).next(D=>{T=D;const q=[];for(const H of f){const G=tA(H,T.get(H.key).overlayedDocument);G!=null&&q.push(new ms(H.key,G,Cv(G.value.mapValue),xr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,q,f)}).next(D=>{S=D;const q=D.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(L,D.batchId,q)})}).then(()=>({batchId:S.batchId,changes:Fv(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new rt(Ne)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(i,o.batchId,t),await _l(i,o.changes),await $c(i.remoteStore)}catch(o){const l=Yf(o,"Failed to persist write");t.reject(l)}}async function _0(n,e){const t=Se(n);try{const i=await XA(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?ze(h.Fa):o.removedDocuments.size>0&&(ze(h.Fa),h.Fa=!1))}),await _l(t,i,e)}catch(i){await Oo(i)}}function Uy(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Se(h);p.onlineState=f;let y=!1;p.queries.forEach((w,T)=>{for(const S of T.J_)S.ea(f)&&(y=!0)}),y&&Xf(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jk(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let h=new rt(ge.comparator);h=h.insert(l,jt.newNoDocument(l,Ie.min()));const f=Pe().add(l),p=new jc(Ie.min(),new Map,new rt(Ne),h,f);await _0(i,p),i.La=i.La.remove(l),i.Ba.delete(e),Jf(i)}else await cf(i.localStore,e,!1).then(()=>df(i,e,t)).catch(Oo)}async function zk(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await YA(t.localStore,e);w0(t,i,null),v0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await _l(t,o)}catch(o){await Oo(o)}}async function Bk(n,e,t){const i=Se(n);try{const o=await function(h,f){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,f).next(T=>(ze(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);w0(i,e,t),v0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await _l(i,o)}catch(o){await Oo(o)}}function v0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function w0(n,e,t){const i=Se(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function df(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||E0(n,i)})}function E0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Wf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Jf(n))}function jy(n,e,t){for(const i of t)i instanceof m0?(n.ka.addReference(i.key,e),$k(n,i)):i instanceof g0?(ae("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||E0(n,i.key)):Te()}function $k(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(i),Jf(n))}function Jf(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ge(Ye.fromString(e)),i=n.Ka.next();n.Ba.set(i,new Dk(t)),n.La=n.La.insert(t,i),u0(n.remoteStore,new fi(tr(bv(t.path)),i,"TargetPurposeLimboResolution",bc.oe))}}async function _l(n,e,t){const i=Se(n),o=[],l=[],h=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{h.push(i.Ua(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Hf.zi(p.targetId,y);l.push(T)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(p,y){const w=Se(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Q.forEach(y,S=>Q.forEach(S.Wi,L=>w.persistence.referenceDelegate.addReference(T,S.targetId,L)).next(()=>Q.forEach(S.Gi,L=>w.persistence.referenceDelegate.removeReference(T,S.targetId,L)))))}catch(T){if(!Lo(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const L=w.us.get(S),V=L.snapshotVersion,z=L.withLastLimboFreeSnapshotVersion(V);w.us=w.us.insert(S,z)}}}(i.localStore,l))}async function Hk(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const i=await s0(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ce(X.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _l(t,i.Ts)}}function Wk(n,e){const t=Se(n),i=t.Ba.get(e);if(i&&i.Fa)return Pe().add(i.key);{let o=Pe();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function T0(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jk.bind(null,e),e.Ma.R_=Ak.bind(null,e.eventManager),e.Ma.Wa=kk.bind(null,e.eventManager),e}function qk(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bk.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return QA(this.persistence,new KA,e.initialUser,this.serializer)}ja(e){return new i0($f.ei,this.serializer)}za(e){return new nk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class Kk extends wc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ze(this.persistence.referenceDelegate instanceof _c);const i=this.persistence.referenceDelegate.garbageCollector;return new DA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new i0(i=>_c.ei(i,t),this.serializer)}}class ff{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Uy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hk.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Sk}()}createDatastore(e){const t=zc(e.databaseInfo.databaseId),i=function(l){return new ok(l)}(e.databaseInfo);return function(l,h,f,p){return new uk(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,f){return new hk(i,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Uy(this.syncEngine,t,0),function(){return Oy.p()?new Oy:new rk}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,w){const T=new bk(o,l,h,f,p,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);ae("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await yl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ff.provider={build:()=>new ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=Iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Yf(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Vd(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await s0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function zy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Yk(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Ly(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Ly(e.remoteStore,o)),n._onlineComponents=e}async function Yk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Eo("Error using user provided cache. Falling back to memory cache: "+t),await Vd(n,new wc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Vd(n,new Kk(void 0));return n._offlineComponents}async function I0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await zy(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await zy(n,new ff))),n._onlineComponents}function Xk(n){return I0(n).then(e=>e.syncEngine)}async function Jk(n){const e=await I0(n),t=e.eventManager;return t.onListen=Ok.bind(null,e.syncEngine),t.onUnlisten=Mk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fk.bind(null,e.syncEngine),t}function Zk(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const w=new Gk({next:S=>{w.eu(),h.enqueueAndForget(()=>Ck(l,T)),S.fromCache&&p.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Pk(f,w,{includeMetadataChanges:!0,ua:!0});return Rk(l,T)}(await Jk(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eP(n,e,t,i){if(e===!0&&i===!0)throw new ce(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $y(n){if(!ge.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hy(n){if(ge.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function Ec(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hc(n);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lC;switch(i.type){case"firstParty":return new dC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=By.get(t);i&&(ae("ComponentProvider","Removing Datastore"),By.delete(t),i.terminate())}(this),Promise.resolve()}}function tP(n,e,t,i={}){var o;const l=(n=Ec(n,Wc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Ut.MOCK_USER;else{f=PT(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ut(y)}n._authCredentials=new uC(new Tv(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class Tn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class _i extends Mo{constructor(e,t,i){super(e,t,bv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ge(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function C0(n,e,...t){if(n=Kt(n),R0("collection","path",e),n instanceof Wc){const i=Ye.fromString(e,...t);return Hy(i),new _i(n,null,i)}{if(!(n instanceof Tn||n instanceof _i))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return Hy(i),new _i(n.firestore,null,i)}}function nP(n,e,...t){if(n=Kt(n),arguments.length===1&&(e=Iv.newId()),R0("doc","path",e),n instanceof Wc){const i=Ye.fromString(e,...t);return $y(i),new Tn(n,null,new ge(i))}{if(!(n instanceof Tn||n instanceof _i))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return $y(i),new Tn(n.firestore,n instanceof _i?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new a0(this,"async_queue_retry"),this.fu=()=>{const i=Ld();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Ld();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Ld();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new yi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Lo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(i);throw Or("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Qf.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Zf extends Wc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new qy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,await e}}}function A0(n,e){const t=typeof n=="object"?n:E_(),i=typeof n=="string"?n:"(default)",o=Tf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=AT("firestore");l&&tP(o,...l)}return o}function k0(n){if(n._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rP(n),n._firestoreClient}function rP(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,w){return new AC(f,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,S0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Qk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(bt.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ao(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=/^__.*__$/;class sP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new ml(e,this.data,t,this.fieldTransforms)}}function x0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class rp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Tc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(x0(this.Mu)&&iP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class oP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||zc(e)}$u(e,t,i,o=!1){return new rp({Mu:e,methodName:t,Ku:i,path:Dt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(n){const e=n._freezeSettings(),t=zc(n._databaseId);return new oP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aP(n,e,t,i,o,l={}){const h=n.$u(l.merge||l.mergeFields?2:0,e,t,o);O0("Data must be an object, but it was:",h,i);const f=D0(i,h);let p,y;if(l.merge)p=new Fn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const S=uP(e,T,t);if(!h.contains(S))throw new ce(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);hP(w,S)||w.push(S)}p=new Fn(w),y=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=h.fieldTransforms;return new sP(new En(f),p,y)}function lP(n,e,t,i=!1){return ip(t,n.$u(i?4:3,e))}function ip(n,e){if(b0(n=Kt(n)))return O0("Unsupported field value:",e,n),D0(n,e);if(n instanceof P0)return function(i,o){if(!x0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const f of i){let p=ip(f,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=vt.fromDate(i);return{timestampValue:yc(o.serializer,l)}}if(i instanceof vt){const l=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yc(o.serializer,l)}}if(i instanceof tp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ao)return{bytesValue:Xv(o.serializer,i._byteString)};if(i instanceof Tn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof np)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return Ff(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Hc(i)}`)}(n,e)}function D0(n,e){const t={};return Sv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(n,(i,o)=>{const l=ip(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function b0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof tp||n instanceof Ao||n instanceof Tn||n instanceof P0||n instanceof np)}function O0(n,e,t){if(!b0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Hc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function uP(n,e,t){if((e=Kt(e))instanceof ep)return e._internalPath;if(typeof e=="string")return L0(n,e);throw Tc("Field path arguments must be of type string or ",n,!1,void 0,t)}const cP=new RegExp("[~\\*/\\[\\]]");function L0(n,e,t){if(e.search(cP)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ep(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ce(X.INVALID_ARGUMENT,f+n+p)}function hP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dP extends V0{data(){return super.data()}}function sp(n,e){return typeof e=="string"?L0(n,e):e instanceof ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class op{}class pP extends op{}function mP(n,e,...t){let i=[];e instanceof op&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof ap).length,f=l.filter(p=>p instanceof qc).length;if(h>1||h>0&&f>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class qc extends pP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new qc(e,t,i)}_apply(e){const t=this._parse(e);return M0(e._query,t),new Mo(e.firestore,e.converter,rf(e._query,t))}_parse(e){const t=N0(e.firestore);return function(l,h,f,p,y,w,T){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Qy(T,w);const L=[];for(const V of T)L.push(Gy(p,l,V));S={arrayValue:{values:L}}}else S=Gy(p,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Qy(T,w),S=lP(f,h,T,w==="in"||w==="not-in");return ht.create(y,w,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ky(n,e,t){const i=e,o=sp("where",n);return qc._create(o,i,t)}class ap extends op{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ap(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)M0(h,p),h=rf(h,p)}(e._query,t),new Mo(e.firestore,e.converter,rf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gy(n,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ov(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ye.fromString(t));if(!ge.isDocumentKey(i))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return py(n,new ge(i))}if(t instanceof Tn)return py(n,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hc(t)}.`)}function Qy(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M0(n,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gP{convertValue(e,t="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>at(h.doubleValue));return new np(l)}convertGeoPoint(e){return new tp(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Lc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const t=Ei(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ye.fromString(e);ze(r0(i));const o=new Ja(i.get(1),i.get(3)),l=new ge(i.popFirst(5));return o.isEqual(t)||Or(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _P extends V0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(sp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ec extends _P{data(e={}){return super.data(e)}}class vP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Bu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ec(this._firestore,this._userDataWriter,i.key,i,new Bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Bu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Bu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:wP(f.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class EP extends gP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function TP(n){n=Ec(n,Mo);const e=Ec(n.firestore,Zf),t=k0(e),i=new EP(e);return fP(n._query),Zk(t,n._query).then(o=>new vP(e,i,n,o))}function IP(n,e){const t=Ec(n.firestore,Zf),i=nP(n),o=yP(n.converter,e);return SP(t,[aP(N0(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,xr.exists(!1))]).then(()=>i)}function SP(n,e){return function(i,o){const l=new yi;return i.asyncQueue.enqueueAndForget(async()=>Uk(await Xk(i),o,l)),l.promise}(k0(n),e)}(function(e,t=!0){(function(o){bo=o})(xo),wo(new os("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Zf(new cC(i.getProvider("auth-internal")),new pC(i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(y.options.projectId,w)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),gi(ly,"4.7.5",e),gi(ly,"4.7.5","esm2017")})();function RP(){const[n,e]=$.useState(""),[t,i]=$.useState(""),[o,l]=$.useState(""),[h,f]=$.useState(""),p=il(),y=A0(Do),w=async()=>{if(!o||!n||!t||!h){alert("Please fill in all fields!");return}try{const T=await IP(C0(y,"portfolios"),{userName:o,projectName:n,description:t,theme:h,createdAt:new Date});console.log("Document written with ID: ",T.id),p(`/${o}/${n}`)}catch(T){console.error("Error adding document: ",T)}};return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"_New menu bg-base-200 bg-base-100 W-full min-h-80 shadow-md",children:[N.jsx("div",{className:"mt-2.5 input",children:N.jsx("input",{className:"w-full h-full",type:"text",placeholder:"Project Name",value:n,onChange:T=>e(T.target.value)})}),N.jsx("div",{className:"mt-2.5 input",children:N.jsx("input",{className:"w-full h-full",type:"text",placeholder:"Description",value:t,onChange:T=>i(T.target.value)})}),N.jsx("div",{className:"mt-2.5 input",children:N.jsx("input",{className:"w-full h-full",type:"text",placeholder:"Your Name",value:o,onChange:T=>l(T.target.value)})}),N.jsx("div",{className:"input mt-2.5 w-full",children:N.jsxs("select",{className:"select w-full max-w-xs",value:h,onChange:T=>f(T.target.value),children:[N.jsx("option",{disabled:!0,selected:!0,children:"Select Theme"}),N.jsx("option",{children:"Game of Thrones"}),N.jsx("option",{children:"Lost"}),N.jsx("option",{children:"Breaking Bad"}),N.jsx("option",{children:"Walking Dead"})]})}),N.jsx("button",{className:"btn mt-10 btn-active btn-primary",onClick:w,children:"Start"})]})})}function CP(){const{userName:n,projectName:e}=RE(),[t,i]=$.useState(null),o=A0(Do);return $.useEffect(()=>{(async()=>{try{const h=mP(C0(o,"portfolios"),Ky("userName","==",n),Ky("projectName","==",e)),f=await TP(h);f.empty?console.error("No matching documents found!"):i(f.docs[0].data())}catch(h){console.error("Error fetching portfolio data: ",h)}})()},[n,e,o]),t?N.jsxs("div",{className:"portfolio-container",children:[N.jsx("h1",{children:t.projectName}),N.jsx("p",{children:t.description}),N.jsxs("p",{children:["Created by: ",t.userName]}),N.jsxs("p",{children:["Theme: ",t.theme]})]}):N.jsx("div",{children:"Loading..."})}function AP(){const[n,e]=$.useState(!0);return Pc(Do),$.useEffect(()=>{const t=setTimeout(()=>{e(!1)},2e3);return()=>{clearTimeout(t)}},[]),N.jsxs(N.Fragment,{children:[N.jsx(mv,{}),N.jsx(pR,{}),n?N.jsx("main",{className:"h-screen",children:N.jsx(av,{})}):N.jsx("main",{className:"h-screen",children:N.jsxs(jE,{children:[N.jsx(ts,{path:"/",element:N.jsx(RR,{})}),N.jsx(ts,{path:"/*",element:N.jsx("div",{className:"grid place-items-center h-1/2",children:N.jsxs("h3",{className:"flex flex-col justify-center align-middle",children:[N.jsx("span",{className:"text-green-500 text-6xl",children:":("}),N.jsx("h1",{className:"m-1 text-2xl",children:"Unable To Find Your File. Try Returning Home."})]})})}),N.jsx(ts,{path:"/auth",element:N.jsx(oC,{})}),N.jsx(ts,{path:"/dashboard",element:N.jsx(aC,{})}),N.jsx(ts,{path:"/new",element:N.jsx(RP,{})}),N.jsx(ts,{path:"/:userName/:projectName",element:N.jsx(CP,{})})]})}),N.jsx(mR,{})]})}Qw.createRoot(document.getElementById("root")).render(N.jsx(cT,{basename:"/Inue",children:N.jsx(AP,{})}));
